"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[7132],{80310:(N,M,i)=>{i.d(M,{n:()=>C});var s=i(17705),o=i(47710),p=i(94227),m=i(30715),f=i(50833),b=i(60177),g=i(89417);function T(c,v){if(1&c&&(s.j41(0,"small"),s.EFF(1),s.j41(2,"b"),s.EFF(3),s.k0s()()),2&c){const d=s.XpG();s.R7$(1),s.SpI("Copy from: [",d.oldCourseId,"] "),s.R7$(2),s.JRh(d.oldCourseName)}}function R(c,v){if(1&c&&(s.j41(0,"option",23),s.EFF(1),s.k0s()),2&c){const d=v.$implicit;s.Y8G("value",d),s.R7$(1),s.JRh(d)}}function P(c,v){if(1&c&&(s.j41(0,"option",23),s.EFF(1),s.k0s()),2&c){const d=v.$implicit;s.Y8G("value",d.id),s.R7$(1),s.Lme("",d.id," (",d.offset,")")}}function j(c,v){if(1&c&&(s.j41(0,"option",23),s.EFF(1),s.k0s()),2&c){const d=v.$implicit;s.Y8G("value",d.courseId),s.R7$(1),s.JRh(d.courseId)}}function w(c,v){if(1&c){const d=s.RV6();s.j41(0,"div",7)(1,"label"),s.EFF(2,"Course to copy from:"),s.k0s(),s.j41(3,"div",12)(4,"select",24),s.bIt("change",function(){s.eBV(d);const a=s.XpG();return s.Njj(a.onSelectCourseChange())})("ngModelChange",function(a){s.eBV(d);const E=s.XpG();return s.Njj(E.oldCourseId=a)}),s.DNE(5,j,2,2,"option",14),s.k0s()()()}if(2&c){const d=s.XpG();s.R7$(4),s.Y8G("ngModel",d.oldCourseId),s.R7$(1),s.Y8G("ngForOf",d.activeCourses)}}function D(c,v){if(1&c){const d=s.RV6();s.j41(0,"div",27)(1,"label",31)(2,"input",28),s.bIt("click",function(){const E=s.eBV(d).$implicit,I=s.XpG(3);return s.Njj(I.toggleSelection(E))}),s.k0s(),s.j41(3,"span"),s.EFF(4),s.k0s()()()}if(2&c){const d=v.$implicit,h=s.XpG(3);s.R7$(2),s.Y8G("checked",h.selectedFeedbackSessions.has(d)),s.R7$(2),s.JRh(d.feedbackSessionName)}}function x(c,v){if(1&c){const d=s.RV6();s.j41(0,"div")(1,"div",27)(2,"input",28),s.bIt("click",function(){s.eBV(d);const a=s.XpG(2);return s.Njj(a.toggleSelectionForAll())}),s.k0s(),s.j41(3,"span")(4,"b"),s.EFF(5,"Sessions to copy:"),s.k0s()()(),s.nrm(6,"hr",29),s.DNE(7,D,5,2,"div",30),s.k0s()}if(2&c){const d=s.XpG(2);s.R7$(2),s.Y8G("checked",d.selectedFeedbackSessions.size===d.courseToFeedbackSession[d.oldCourseId].length),s.R7$(5),s.Y8G("ngForOf",d.courseToFeedbackSession[d.oldCourseId])}}function e(c,v){1&c&&(s.j41(0,"i"),s.EFF(1,"This course has no feedback sessions"),s.k0s())}function S(c,v){if(1&c&&(s.j41(0,"div"),s.DNE(1,x,8,2,"div",25),s.DNE(2,e,2,0,"ng-template",null,26,s.C5r),s.k0s()),2&c){const d=s.sdS(3),h=s.XpG();s.R7$(1),s.Y8G("ngIf",(null==h.courseToFeedbackSession[h.oldCourseId]?null:h.courseToFeedbackSession[h.oldCourseId].length)>0)("ngIfElse",d)}}const O=c=>String(c).padStart(2,"0");let C=(()=>{class c{constructor(d,h,a){this.activeModal=d,this.statusMessageService=h,this.timezoneService=a,this.COURSE_ID_MAX_LENGTH=o.k4,this.COURSE_NAME_MAX_LENGTH=o.mk,this.courseToFeedbackSession={},this.activeCourses=[],this.allCourses=[],this.fetchFeedbackSessionsEvent=new s.bkB,this.isCopyFromOtherSession=!1,this.newCourseIdIsConflicting=!1,this.institutes=[],this.timezones=[],this.newTimezone="",this.newCourseId="",this.newCourseName="",this.newCourseInstitute="",this.oldCourseId="",this.oldCourseName="",this.selectedFeedbackSessions=new Set}ngOnInit(){this.timezones=Object.entries(this.timezoneService.getTzOffsets()).map(([d,h])=>{const a=Math.floor(Math.abs(h)/60),E=Math.abs(h)%60;return{id:d,offset:0===h?"UTC":`UTC ${h<0?"-":"+"}${O(a)}:${O(E)}`}}),this.institutes=Array.from(new Set(this.allCourses.map(d=>d.institute))),this.institutes.length&&(this.newCourseInstitute=this.institutes[0]),this.newTimezone=this.timezoneService.guessTimezone()}copy(){this.newCourseId&&this.newCourseName?(this.newCourseIdIsConflicting=this.allCourses.filter(h=>h.courseId===this.newCourseId).length>0,this.newCourseIdIsConflicting?this.statusMessageService.showErrorToast(`The course ID ${this.newCourseId} already exists.`):this.activeModal.close({newCourseId:this.newCourseId,newCourseName:this.newCourseName,newCourseInstitute:this.newCourseInstitute,oldCourseId:this.oldCourseId,newTimeZone:this.newTimezone,selectedFeedbackSessionList:this.selectedFeedbackSessions,totalNumberOfSessions:this.selectedFeedbackSessions.size})):this.statusMessageService.showErrorToast("Please make sure you have filled in both Course ID and Name before adding the course!")}toggleSelection(d){this.selectedFeedbackSessions.has(d)?this.selectedFeedbackSessions.delete(d):this.selectedFeedbackSessions.add(d)}toggleSelectionForAll(){this.selectedFeedbackSessions.size===this.courseToFeedbackSession[this.oldCourseId]?.length?this.selectedFeedbackSessions.clear():this.selectedFeedbackSessions=new Set(this.courseToFeedbackSession[this.oldCourseId])}onAutoDetectTimezone(){this.newTimezone=this.timezoneService.guessTimezone()}onSelectCourseChange(){this.selectedFeedbackSessions.clear(),this.courseToFeedbackSession[this.oldCourseId]||this.fetchFeedbackSessionsEvent.emit(this.oldCourseId)}static#e=this.\u0275fac=function(h){return new(h||c)(s.rXU(p.Lw),s.rXU(m.x),s.rXU(f.D))};static#s=this.\u0275cmp=s.VBU({type:c,selectors:[["tm-copy-course-modal"]],inputs:{courseToFeedbackSession:"courseToFeedbackSession",activeCourses:"activeCourses",allCourses:"allCourses"},decls:49,vars:16,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button",1,"btn-close",3,"click"],["id","copy-course-modal",1,"modal-body"],[1,"row"],[1,"col-12"],[1,"form-group"],["id","copy-course-id","type","text","placeholder","e.g. CS3215-2013Semester1",1,"form-control",3,"ngModel","maxlength","ngModelChange","focus"],["id","copy-course-name","type","text","placeholder","e.g. Software Engineering",1,"form-control",3,"ngModel","maxlength","ngModelChange"],[1,"ngb-tooltip-class"],["ngbTooltip","Note that you can only create a new course under an institute in which you are already a course co-owner."],[1,"input-group"],["id","copy-course-institute",1,"form-control","form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["ngbTooltip","You should not need to change this as it is auto-detected based on your device settings. TEAMMATES automatically adjusts\n          to match the current time offset in your area, including clock changes due to daylight saving time."],["id","copy-time-zone",1,"form-control","form-select",3,"ngModel","ngModelChange"],[1,"input-group-btn",2,"margin-left","5px"],[1,"btn","btn-primary","btn-margin-left",3,"click"],["class","form-group",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["id","btn-confirm-copy-course","type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],["id","course-to-copy-from",1,"form-control","form-select",3,"ngModel","change","ngModelChange"],[4,"ngIf","ngIfElse"],["noSessionsTemplate",""],[1,"form-check"],["type","checkbox","name","copyCourseChooseSessions",1,"form-check-input",3,"checked","click"],[1,"solid-divider"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check-label"]],template:function(h,a){1&h&&(s.j41(0,"div",0)(1,"h5",1)(2,"div"),s.EFF(3,"Copy course"),s.k0s(),s.DNE(4,T,4,2,"small",2),s.k0s(),s.j41(5,"button",3),s.bIt("click",function(){return a.activeModal.dismiss()}),s.k0s()(),s.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div")(10,"label")(11,"b"),s.EFF(12,"New Course"),s.k0s()()(),s.j41(13,"div",7)(14,"label"),s.EFF(15,"Course ID:"),s.k0s(),s.j41(16,"input",8),s.bIt("ngModelChange",function(I){return a.newCourseId=I})("focus",function(){return a.newCourseIdIsConflicting=!1}),s.k0s(),s.j41(17,"span"),s.EFF(18),s.k0s()(),s.j41(19,"div",7)(20,"label"),s.EFF(21,"Course Name:"),s.k0s(),s.j41(22,"input",9),s.bIt("ngModelChange",function(I){return a.newCourseName=I}),s.k0s(),s.j41(23,"span"),s.EFF(24),s.k0s()(),s.j41(25,"div",7)(26,"label",10)(27,"span",11),s.EFF(28," Course institute: "),s.k0s()(),s.j41(29,"div",12)(30,"select",13),s.bIt("ngModelChange",function(I){return a.newCourseInstitute=I}),s.DNE(31,R,2,2,"option",14),s.k0s()()(),s.j41(32,"div",7)(33,"label",10)(34,"span",15),s.EFF(35,"Time Zone:"),s.k0s()(),s.j41(36,"div",12)(37,"select",16),s.bIt("ngModelChange",function(I){return a.newTimezone=I}),s.DNE(38,P,2,3,"option",14),s.k0s(),s.j41(39,"span",17)(40,"button",18),s.bIt("click",function(){return a.onAutoDetectTimezone()}),s.EFF(41,"Auto Detect"),s.k0s()()()(),s.DNE(42,w,6,2,"div",19),s.DNE(43,S,4,2,"div",2),s.k0s()()(),s.j41(44,"div",20)(45,"button",21),s.bIt("click",function(){return a.activeModal.dismiss()}),s.EFF(46,"Cancel"),s.k0s(),s.j41(47,"button",22),s.bIt("click",function(){return a.copy()}),s.EFF(48,"Copy"),s.k0s()()),2&h&&(s.R7$(4),s.Y8G("ngIf",!a.isCopyFromOtherSession),s.R7$(12),s.AVh("invalid",a.newCourseIdIsConflicting),s.Y8G("ngModel",a.newCourseId)("maxlength",a.COURSE_ID_MAX_LENGTH),s.R7$(2),s.SpI("",a.COURSE_ID_MAX_LENGTH-a.newCourseId.length," characters left"),s.R7$(4),s.Y8G("ngModel",a.newCourseName)("maxlength",a.COURSE_NAME_MAX_LENGTH),s.R7$(2),s.SpI("",a.COURSE_NAME_MAX_LENGTH-a.newCourseName.length," characters left"),s.R7$(6),s.Y8G("ngModel",a.newCourseInstitute),s.R7$(1),s.Y8G("ngForOf",a.institutes),s.R7$(6),s.Y8G("ngModel",a.newTimezone),s.R7$(1),s.Y8G("ngForOf",a.timezones),s.R7$(4),s.Y8G("ngIf",a.isCopyFromOtherSession),s.R7$(1),s.Y8G("ngIf",a.oldCourseId),s.R7$(4),s.Y8G("disabled",!a.newCourseId||!a.newCourseName||!a.newCourseInstitute))},dependencies:[b.Sq,b.bT,g.xH,g.y7,g.me,g.wz,g.BC,g.tU,g.vS,p.md],styles:["hr.solid-divider[_ngcontent-%COMP%]{border-top:1px solid #bbb;margin-top:5px;margin-bottom:5px}.invalid[_ngcontent-%COMP%]{border:red 1px solid}"]})}return c})()},40909:(N,M,i)=>{i.d(M,{C:()=>e});var s=i(11086),o=i(17705),p=i(8059),m=i(16507);let f=(()=>{class S{constructor(C){this.httpRequestService=C}sendErrorReport(C){return this.httpRequestService.post(p.Ld.ERROR_REPORT,{},C.request)}static#e=this.\u0275fac=function(c){return new(c||S)(o.KVO(m.R))};static#s=this.\u0275prov=o.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();var b=i(94227),g=i(30715),T=i(60177),R=i(89417);function P(S,O){1&S&&(o.j41(0,"div")(1,"p"),o.EFF(2," We are sorry that this happened. Please help us troubleshoot the problem by providing us some additional details using the form below: "),o.k0s()())}function j(S,O){if(1&S&&(o.j41(0,"div")(1,"p"),o.EFF(2," We are sorry that this happened. It is likely that your browser could not create or access cookies for authorization. If cookies are disabled in your browser, please turn on your cookies before trying again. Alternatively, you could also try emptying your browser's cache, or switching to a different browser. "),o.k0s(),o.j41(3,"p"),o.EFF(4," For further support, please contact our email address at "),o.j41(5,"a",6),o.EFF(6),o.k0s(),o.EFF(7,". "),o.k0s()()),2&S){const C=o.XpG();o.R7$(5),o.Mz_("href","mailto:",C.supportEmail,"",o.B4B),o.R7$(1),o.JRh(C.supportEmail)}}function w(S,O){if(1&S){const C=o.RV6();o.j41(0,"button",13),o.bIt("click",function(){o.eBV(C);const v=o.XpG(2);return o.Njj(v.sendErrorReport())}),o.EFF(1,"Send Error Report"),o.k0s()}if(2&S){const C=o.XpG(2);o.Y8G("disabled",!C.sendButtonEnabled)}}function D(S,O){1&S&&(o.j41(0,"div"),o.EFF(1," Your error report has been recorded. We will follow up with you in due course, usually, within 24 hours. "),o.k0s())}function x(S,O){if(1&S){const C=o.RV6();o.j41(0,"div",7)(1,"div",8)(2,"label"),o.EFF(3,"Request ID:"),o.k0s(),o.nrm(4,"br"),o.j41(5,"em"),o.EFF(6,"Note: This field is filled by the system and not modifiable."),o.k0s(),o.j41(7,"input",9),o.bIt("ngModelChange",function(v){o.eBV(C);const d=o.XpG();return o.Njj(d.requestId=v)}),o.k0s()(),o.j41(8,"div",8)(9,"label"),o.EFF(10,"Subject:"),o.k0s(),o.nrm(11,"br"),o.j41(12,"em"),o.EFF(13,"Note: This field is pre-filled for convenience. Feel free to change it to suit your needs."),o.k0s(),o.j41(14,"input",10),o.bIt("ngModelChange",function(v){o.eBV(C);const d=o.XpG();return o.Njj(d.subject=v)}),o.k0s()(),o.j41(15,"div",8)(16,"label"),o.EFF(17,"Content:"),o.k0s(),o.j41(18,"textarea",11),o.bIt("ngModelChange",function(v){o.eBV(C);const d=o.XpG();return o.Njj(d.content=v)}),o.k0s()(),o.DNE(19,w,2,1,"button",12),o.DNE(20,D,2,0,"div",4),o.k0s()}if(2&S){const C=o.XpG();o.R7$(7),o.Y8G("ngModel",C.requestId)("disabled",!0),o.R7$(7),o.Y8G("ngModel",C.subject),o.R7$(4),o.Y8G("ngModel",C.content),o.R7$(1),o.Y8G("ngIf",!C.errorReportSubmitted),o.R7$(1),o.Y8G("ngIf",C.errorReportSubmitted)}}let e=(()=>{class S{constructor(C,c,v){this.errorReportService=C,this.ngbActiveModal=c,this.statusMessageService=v,this.errorMessage="",this.subject="User-submitted Error Report",this.content="",this.requestId="",this.sendButtonEnabled=!0,this.errorReportEnabled=!0,this.errorReportSubmitted=!1,this.csrfErrorMessages=["Missing CSRF token.","Invalid CSRF token."],this.supportEmail=s.c.supportEmail}ngOnInit(){this.csrfErrorMessages.includes(this.errorMessage)&&(this.errorReportEnabled=!1)}sendErrorReport(){const C={requestId:this.requestId,subject:this.subject,content:this.content};this.sendButtonEnabled=!1,this.errorReportService.sendErrorReport({request:C}).subscribe({next:()=>{this.errorReportSubmitted=!0,this.statusMessageService.showSuccessToast("Your error report has been successfully sent"),this.ngbActiveModal.close()},error:c=>{this.sendButtonEnabled=!0,this.statusMessageService.showErrorToast(c.error.message)}})}static#e=this.\u0275fac=function(c){return new(c||S)(o.rXU(f),o.rXU(b.Lw),o.rXU(g.x))};static#s=this.\u0275cmp=o.VBU({type:S,selectors:[["tm-error-report"]],decls:11,vars:4,consts:[[1,"container","error-container"],[1,"row"],[1,"col-md-12"],["id","error-message"],[4,"ngIf"],["id","error-report",4,"ngIf"],[3,"href"],["id","error-report"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Tell us the steps you took that led you to this error page",1,"form-control",3,"ngModel","ngModelChange"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"]],template:function(c,v){1&c&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Uh oh! Something went wrong."),o.k0s(),o.nrm(3,"hr"),o.j41(4,"div",1)(5,"div",2)(6,"p",3),o.EFF(7),o.k0s(),o.DNE(8,P,3,0,"div",4),o.DNE(9,j,8,2,"div",4),o.k0s()(),o.DNE(10,x,21,6,"div",5),o.k0s()),2&c&&(o.R7$(7),o.SpI(' The server returns the following error message: "',v.errorMessage,'". '),o.R7$(1),o.Y8G("ngIf",v.errorReportEnabled),o.R7$(1),o.Y8G("ngIf",!v.errorReportEnabled),o.R7$(1),o.Y8G("ngIf",v.errorReportEnabled))},dependencies:[T.bT,R.me,R.BC,R.vS],styles:[".error-container[_ngcontent-%COMP%]{padding:3%}"]})}return S})()},17422:(N,M,i)=>{i.d(M,{a:()=>m});var s=i(17705),o=i(58240),p=i(94227);let m=(()=>{class f{constructor(g){this.progressBarService=g,this.progressPercentage=10}ngOnInit(){this.getProgress()}getProgress(){this.progressBarService.progressPercentage.subscribe(g=>{this.progressPercentage=g})}static#e=this.\u0275fac=function(T){return new(T||f)(s.rXU(o.W))};static#s=this.\u0275cmp=s.VBU({type:f,selectors:[["tm-progress-bar"]],decls:2,vars:3,consts:[["type","info","height","26px","showValue","true",3,"value","striped","animated"]],template:function(T,R){1&T&&(s.j41(0,"div"),s.nrm(1,"ngb-progressbar",0),s.k0s()),2&T&&(s.R7$(1),s.Y8G("value",R.progressPercentage)("striped",!0)("animated",!0))},dependencies:[p.EH],encapsulation:2})}return f})()},21894:(N,M,i)=>{i.d(M,{i:()=>s});var s=function(o){return o[o.WARNING=0]="WARNING",o[o.DANGER=1]="DANGER",o[o.INFO=2]="INFO",o[o.NEUTRAL=3]="NEUTRAL",o[o.LOAD=4]="LOAD",o}(s||{})},95252:(N,M,i)=>{i.d(M,{V:()=>p});var s=i(40035),o=i(17705);let p=(()=>{class m{transform(b){switch(b){case s.DG.PUBLISHED:return"Published";case s.DG.NOT_PUBLISHED:return"Not Published";default:return"Unknown"}}static#e=this.\u0275fac=function(g){return new(g||m)};static#s=this.\u0275pipe=o.EJ8({name:"publishStatusName",type:m,pure:!0})}return m})()},40747:(N,M,i)=>{i.d(M,{u:()=>m});var s=i(59919),o=i(40035),p=i(17705);let m=(()=>{class f{transform(g,T){let R="";switch(g){case o.u.NOT_VISIBLE:case o.u.VISIBLE_NOT_OPEN:R+="Awaiting";break;case o.u.OPEN:R+="Open";break;case o.u.GRACE_PERIOD:R+="Open (grace period)";break;case o.u.CLOSED:R+="Closed";break;default:return"Unknown"}return T&&s.I.hasOngoingExtension(T)&&(R+=" (Ext. ongoing)"),R}static#e=this.\u0275fac=function(T){return new(T||f)};static#s=this.\u0275pipe=p.EJ8({name:"submissionStatusName",type:f,pure:!0})}return f})()},62906:(N,M,i)=>{i.r(M),i.d(M,{InstructorHomePageModule:()=>Te});var s=i(60177),o=i(89417),p=i(82646),m=i(94227),f=i(27468),b=i(70980),g=i(64180),T=i(26195),R=i(80310),P=i(35725),j=i(21894),w=i(7730),D=i(44199),x=i(42455),e=i(17705),S=i(30715),O=i(73629),C=i(43743),c=i(26412),v=i(86978),d=i(21036),h=i(16),a=i(6294),E=i(58240),I=i(31571),F=i(50833),L=i(89734),B=i(44187),U=i(57645),X=i(72890),H=i(86082),Y=i(53992),V=i(17422),z=i(92042);const W=["modifiedTimestampsModal"];function K(u,y){1&u&&(e.j41(0,"div",6)(1,"div",7),e.EFF(2," New to TEAMMATES? You may wish to have a look at our "),e.j41(3,"a",8),e.EFF(4,"Getting Started Guide"),e.k0s(),e.EFF(5,". "),e.k0s()())}function J(u,y){if(1&u){const t=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"strong",16),e.EFF(3," Sort By: "),e.k0s(),e.j41(4,"div",17)(5,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.sortCoursesBy(n.SortBy.COURSE_ID))}),e.EFF(6,"Course ID"),e.k0s(),e.j41(7,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.sortCoursesBy(n.SortBy.COURSE_NAME))}),e.EFF(8,"Course Name"),e.k0s(),e.j41(9,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.sortCoursesBy(n.SortBy.COURSE_CREATION_DATE))}),e.EFF(10,"Creation Date"),e.k0s()()()()}if(2&u){const t=e.XpG(2);e.R7$(5),e.Y8G("disabled",t.isSelectedForSorting(t.SortBy.COURSE_ID)),e.R7$(2),e.Y8G("disabled",t.isSelectedForSorting(t.SortBy.COURSE_NAME)),e.R7$(2),e.Y8G("disabled",t.isSelectedForSorting(t.SortBy.COURSE_CREATION_DATE))}}const Z=function(){return{isAddNewCourse:!0}};function Q(u,y){if(1&u&&(e.j41(0,"div",9)(1,"div",10)(2,"a",11),e.nrm(3,"i",12),e.EFF(4," Add New Course "),e.k0s()(),e.DNE(5,J,11,3,"div",13),e.k0s()),2&u){const t=e.XpG();e.R7$(2),e.Y8G("queryParams",e.lJ4(2,Z)),e.R7$(3),e.Y8G("ngIf",t.courseTabModels.length>0)}}function q(u,y){1&u&&(e.j41(0,"div",21)(1,"p"),e.EFF(2,"Copy Progress"),e.k0s(),e.nrm(3,"tm-progress-bar"),e.k0s())}const A=function(u){return{courseid:u}};function ee(u,y){if(1&u&&(e.qex(0),e.j41(1,"a",39),e.EFF(2," Enroll "),e.k0s(),e.bVm()),2&u){const t=e.XpG(2).$implicit;e.R7$(1),e.Y8G("queryParams",e.eq3(1,A,t.course.courseId))}}function se(u,y){if(1&u){const t=e.RV6();e.qex(0),e.j41(1,"a",40),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,l=e.XpG(3);return e.Njj(!l.isCopyingCourse&&l.onCopy(n.course.courseId,n.course.courseName,n.course.timeZone))}),e.EFF(2," Copy "),e.k0s(),e.bVm()}}function te(u,y){if(1&u&&(e.qex(0),e.j41(1,"a",41),e.EFF(2," View Logs "),e.k0s(),e.bVm()),2&u){const t=e.XpG(2).$implicit;e.R7$(1),e.Y8G("queryParams",e.eq3(1,A,t.course.courseId))}}function oe(u,y){if(1&u){const t=e.RV6();e.qex(0),e.j41(1,"a",42),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,l=e.XpG(3);return e.Njj(l.deleteCourse(n.course.courseId))}),e.EFF(2," Delete "),e.k0s(),e.bVm()}}function ne(u,y){if(1&u){const t=e.RV6();e.j41(0,"div",29)(1,"span",30)(2,"button",31),e.EFF(3," Students "),e.k0s(),e.j41(4,"div",32),e.bIt("click",function(n){return n.stopPropagation()}),e.DNE(5,ee,3,3,"ng-container",22),e.j41(6,"a",33),e.EFF(7," View / Edit "),e.k0s()()(),e.j41(8,"span",30)(9,"button",31),e.EFF(10," Instructors "),e.k0s(),e.j41(11,"div",32),e.bIt("click",function(n){return n.stopPropagation()}),e.j41(12,"a",34),e.EFF(13," View / Edit "),e.k0s()()(),e.j41(14,"span",30)(15,"button",31),e.EFF(16," Sessions "),e.k0s(),e.j41(17,"div",32),e.bIt("click",function(n){return n.stopPropagation()}),e.j41(18,"a",35),e.EFF(19," Add "),e.k0s()()(),e.j41(20,"span",30)(21,"button",36),e.EFF(22," Course "),e.k0s(),e.j41(23,"div",32),e.bIt("click",function(n){return n.stopPropagation()}),e.j41(24,"a",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,l=e.XpG(3);return e.Njj(l.archiveCourse(n.course.courseId))}),e.EFF(25," Archive "),e.k0s(),e.j41(26,"a",34),e.EFF(27," View / Edit "),e.k0s(),e.DNE(28,se,3,0,"ng-container",22),e.DNE(29,te,3,3,"ng-container",22),e.DNE(30,oe,3,0,"ng-container",22),e.k0s()(),e.nrm(31,"tm-panel-chevron",38),e.k0s()}if(2&u){const t=e.XpG().$implicit;e.R7$(5),e.Y8G("ngIf",t.instructorPrivilege.canModifyStudent),e.R7$(1),e.Y8G("queryParams",e.eq3(9,A,t.course.courseId)),e.R7$(6),e.Y8G("queryParams",e.eq3(11,A,t.course.courseId)),e.R7$(6),e.Y8G("queryParams",e.eq3(13,A,t.course.courseId)),e.R7$(8),e.Y8G("queryParams",e.eq3(15,A,t.course.courseId)),e.R7$(2),e.Y8G("ngIf",t.instructorPrivilege.canModifyCourse),e.R7$(1),e.Y8G("ngIf",t.instructorPrivilege.canModifyInstructor&&t.course.isMigrated),e.R7$(1),e.Y8G("ngIf",t.instructorPrivilege.canModifyCourse),e.R7$(1),e.Y8G("isExpanded",t.isTabExpanded)}}const ie=function(u,y){return[u,y]};function re(u,y){if(1&u){const t=e.RV6();e.j41(0,"tm-sessions-table",45),e.bIt("sortSessionsTableRowModelsEvent",function(n){e.eBV(t);const l=e.XpG(2).index,_=e.XpG(3);return e.Njj(_.sortSessionsTableRowModelsEvent(l,n))})("loadResponseRateEvent",function(n){e.eBV(t);const l=e.XpG(2).index,_=e.XpG(3);return e.Njj(_.loadResponseRateEventHandler(l,n))})("moveSessionToRecycleBinEvent",function(n){e.eBV(t);const l=e.XpG(2).index,_=e.XpG(3);return e.Njj(_.moveSessionToRecycleBinEventHandler(l,n))})("copySessionEvent",function(n){e.eBV(t);const l=e.XpG(2).index,_=e.XpG(3);return e.Njj(_.copySessionEventHandler(l,n))})("submitSessionAsInstructorEvent",function(n){e.eBV(t);const l=e.XpG(2).index,_=e.XpG(3);return e.Njj(_.submitSessionAsInstructorEventHandler(l,n))})("publishSessionEvent",function(n){e.eBV(t);const l=e.XpG(2).index,_=e.XpG(3);return e.Njj(_.publishSessionEventHandler(l,n))})("unpublishSessionEvent",function(n){e.eBV(t);const l=e.XpG(2).index,_=e.XpG(3);return e.Njj(_.unpublishSessionEventHandler(l,n))})("downloadSessionResultsEvent",function(n){e.eBV(t);const l=e.XpG(2).index,_=e.XpG(3);return e.Njj(_.downloadSessionResultEventHandler(l,n))})("resendResultsLinkToStudentsEvent",function(n){e.eBV(t);const l=e.XpG(2).$implicit,_=e.XpG(3);return e.Njj(_.resendResultsLinkToRespondentsEventHandler(l.sessionsTableRowModels[n]))})("sendRemindersToAllNonSubmittersEvent",function(n){e.eBV(t);const l=e.XpG(2).$implicit,_=e.XpG(3);return e.Njj(_.sendRemindersToRespondentsEventHandler(l.sessionsTableRowModels[n],!0))})("sendRemindersToSelectedNonSubmittersEvent",function(n){e.eBV(t);const l=e.XpG(2).$implicit,_=e.XpG(3);return e.Njj(_.sendRemindersToRespondentsEventHandler(l.sessionsTableRowModels[n],!1))}),e.k0s()}if(2&u){const t=e.XpG(2),r=t.index,n=t.$implicit,l=e.XpG(3);e.Mz_("id","sessions-table-",r,""),e.Y8G("sessionsTableRowModels",n.sessionsTableRowModels)("initialSortBy",l.initialSortBy)("sortOrder",l.sortOrder)("courseCandidates",l.courseCandidates)("headerColorScheme",l.SortableTableHeaderColorScheme.WHITE)("columnsToShow",e.l_i(8,ie,l.SessionsTableColumn.START_DATE,l.SessionsTableColumn.END_DATE))("isSendReminderLoading",l.isSendReminderLoading)}}function ae(u,y){if(1&u){const t=e.RV6();e.j41(0,"div",43)(1,"tm-loading-retry",3),e.bIt("retryEvent",function(){e.eBV(t);const n=e.XpG().index,l=e.XpG(3);return e.Njj(l.loadFeedbackSessions(n))}),e.DNE(2,re,1,11,"tm-sessions-table",44),e.k0s()()}if(2&u){const t=e.XpG().$implicit;e.Y8G("@collapseAnim",void 0),e.R7$(1),e.Y8G("shouldShowRetry",t.hasLoadingFailed)("message","Error loading feedback sessions"),e.R7$(1),e.Y8G("tmIsLoading",!t.hasPopulated)}}function ce(u,y){if(1&u){const t=e.RV6();e.j41(0,"div",24)(1,"div",25),e.bIt("click",function(n){const l=e.eBV(t),_=l.$implicit,k=l.index,G=e.XpG(3);return _.isTabExpanded=G.handleClick(n,_),e.Njj(G.loadFeedbackSessions(k))}),e.j41(2,"b",26),e.EFF(3),e.k0s(),e.DNE(4,ne,32,17,"div",27),e.k0s(),e.DNE(5,ae,3,4,"div",28),e.k0s()}if(2&u){const t=y.$implicit;e.Mz_("id","course-tab-",y.index,""),e.R7$(3),e.Lme("[",t.course.courseId,"]: ",t.course.courseName,""),e.R7$(1),e.Y8G("ngIf",t.isAjaxSuccess),e.R7$(1),e.Y8G("ngIf",t.isTabExpanded)}}function de(u,y){if(1&u&&(e.j41(0,"div"),e.DNE(1,ce,6,5,"div",23),e.k0s()),2&u){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.courseTabModels)}}function le(u,y){if(1&u&&(e.j41(0,"div"),e.DNE(1,de,2,1,"div",22),e.k0s()),2&u){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.courseTabModels.length>0)}}function ue(u,y){if(1&u&&e.nrm(0,"tm-modified-timestamps-modal",46),2&u){const t=e.XpG();e.Y8G("coursesOfModifiedSession",t.coursesOfModifiedSession)("modifiedSessions",t.modifiedSession)}}let me=(()=>{class u extends x.t{static#e=this.coursesToLoad=3;constructor(t,r,n,l,_,k,G,$,Se,Me,Ie,Re,ye){super(G,t,r,n,l,$,_,Se,Me,Ie,Re,k),this.courseService=ye,this.SessionsTableColumn=P.i,this.SortableTableHeaderColorScheme=w.u,this.SortBy=T.g,this.instructorCoursesSortBy=T.g.COURSE_CREATION_DATE,this.courseTabModels=[],this.allCoursesList=[],this.hasCoursesLoaded=!1,this.hasCoursesLoadingFailed=!1,this.isNewUser=!1,this.isCopyLoading=!1,this.isCopyingCourse=!1,this.numberOfSessionsCopied=0,this.totalNumberOfSessionsToCopy=0,this.copyProgressPercentage=0,this.initialSortBy=T.g.SESSION_END_DATE,this.sortOrder=T.x.DESC}ngOnInit(){this.loadCourses()}get courseCandidates(){return this.courseTabModels.map(t=>t.course)}handleClick(t,r){return t.target&&!t.target.className.includes("dropdown-toggle")?!r.isTabExpanded:r.isTabExpanded}initializeCourseTabModule(t){const r={course:t,instructorPrivilege:t.privileges||(0,g.Ws)(),sessionsTableRowModels:[],isTabExpanded:!1,isAjaxSuccess:!0,hasPopulated:!1,hasLoadingFailed:!1,sessionsTableRowModelsSortBy:T.g.NONE,sessionsTableRowModelsSortOrder:T.x.ASC};this.courseTabModels.push(r)}onCopy(t,r,n){t?this.feedbackSessionsService.getFeedbackSessionsForInstructor(t).subscribe({next:l=>{const _=this.ngbModal.open(R.n);_.componentInstance.oldCourseId=t,_.componentInstance.oldCourseName=r,_.componentInstance.allCourses=this.allCoursesList,_.componentInstance.newTimeZone=n,_.componentInstance.courseToFeedbackSession[t]=l.feedbackSessions,_.componentInstance.selectedFeedbackSessions=new Set(l.feedbackSessions),_.result.then(k=>this.createCopiedCourse(k),()=>{})},error:l=>{this.statusMessageService.showErrorToast(l.error.message)}}):this.statusMessageService.showErrorToast("Course is not found!")}createCopiedCourse(t){this.isCopyingCourse=!0,this.modifiedSession={},this.numberOfSessionsCopied=0,this.totalNumberOfSessionsToCopy=t.totalNumberOfSessions,this.copyProgressPercentage=0,this.courseService.createCourse(t.newCourseInstitute,{courseName:t.newCourseName,timeZone:t.newTimeZone,courseId:t.newCourseId}).subscribe({next:()=>{new Promise(n=>{if(0===t.selectedFeedbackSessionList.size)return this.progressBarService.updateProgress(100),void n();t.selectedFeedbackSessionList.forEach(l=>{this.copyFeedbackSession(l,l.feedbackSessionName,t.newCourseId,t.oldCourseId).pipe((0,b.j)(()=>{this.numberOfSessionsCopied+=1,this.copyProgressPercentage=Math.round(100*this.numberOfSessionsCopied/this.totalNumberOfSessionsToCopy),this.progressBarService.updateProgress(this.copyProgressPercentage),this.numberOfSessionsCopied===this.totalNumberOfSessionsToCopy&&n()})).subscribe()})}).then(()=>{this.courseService.getCourseAsInstructor(t.newCourseId).subscribe(n=>{this.allCoursesList.push(n),this.initializeCourseTabModule(n),this.sortCoursesBy(this.instructorCoursesSortBy),this.isCopyingCourse=!1,Object.keys(this.modifiedSession).length>0?(this.coursesOfModifiedSession=[],this.simpleModalService.openInformationModal("Note On Modified Session Timings",j.i.WARNING,this.modifiedTimestampsModal)):this.statusMessageService.showSuccessToast("The course has been added.")})})},error:r=>{this.statusMessageService.showErrorToast(r.error.message),this.isCopyingCourse=!1,this.hasCoursesLoadingFailed=!0}})}archiveCourse(t){this.simpleModalService.openConfirmationModal(`Archive course <strong>${t}</strong>?`,j.i.INFO,'This action can be reverted by going to the "Courses" tab and unarchiving the desired course(s).').result.then(()=>{this.courseService.changeArchiveStatus(t,{archiveStatus:!0}).subscribe({next:l=>{this.courseTabModels=this.courseTabModels.filter(_=>_.course.courseId!==t),this.statusMessageService.showSuccessToast(`The course ${l.courseId} has been archived. You can retrieve it from the Courses page.`)},error:l=>{this.statusMessageService.showErrorToast(l.error.message)}})},()=>{})}deleteCourse(t){this.simpleModalService.openConfirmationModal(`Move course <strong>${t}</strong> to Recycle Bin`,j.i.WARNING,'This action can be reverted by going to the "Courses" tab and restoring the desired course(s).').result.then(()=>{this.courseService.binCourse(t).subscribe({next:l=>{this.courseTabModels=this.courseTabModels.filter(_=>_.course.courseId!==t),this.statusMessageService.showSuccessToast(`The course ${l.courseId} has been deleted. You can restore it from the Recycle Bin manually.`)},error:l=>{this.statusMessageService.showErrorToast(l.error.message)}})},()=>{})}loadCourses(){this.hasCoursesLoaded=!1,this.hasCoursesLoadingFailed=!1,this.courseTabModels=[],this.courseService.getInstructorCoursesThatAreActive().pipe((0,b.j)(()=>{this.hasCoursesLoaded=!0})).subscribe({next:t=>{t.courses.forEach(r=>{this.allCoursesList.push(r),this.initializeCourseTabModule(r)}),this.isNewUser=!t.courses.some(r=>!/-demo\d*$/.test(r.courseId)),this.sortCoursesBy(this.instructorCoursesSortBy)},error:t=>{this.hasCoursesLoadingFailed=!0,this.statusMessageService.showErrorToast(t.error.message)}}),this.courseService.getAllCoursesAsInstructor("archived").subscribe({next:t=>{this.allCoursesList.push(...t.courses)},error:t=>{this.hasCoursesLoadingFailed=!0,this.statusMessageService.showErrorToast(t.error.message)}}),this.courseService.getAllCoursesAsInstructor("softDeleted").subscribe({next:t=>{this.allCoursesList.push(...t.courses)},error:t=>{this.hasCoursesLoadingFailed=!0,this.statusMessageService.showErrorToast(t.error.message)}})}loadFeedbackSessions(t){const r=this.courseTabModels[t];r.hasLoadingFailed=!1,r.hasPopulated||this.feedbackSessionsService.getFeedbackSessionsForInstructor(r.course.courseId).subscribe({next:n=>{n.feedbackSessions.forEach(l=>{const _={feedbackSession:l,responseRate:"",isLoadingResponseRate:!1,instructorPrivilege:l.privileges||(0,g.Ws)()};r.sessionsTableRowModels.push(_)}),r.hasPopulated=!0,r.isAjaxSuccess||(r.isAjaxSuccess=!0)},error:n=>{r.hasLoadingFailed=!0,this.statusMessageService.showErrorToast(n.error.message)}})}isSelectedForSorting(t){return this.instructorCoursesSortBy===t}sortCoursesBy(t){if(this.instructorCoursesSortBy=t,this.courseTabModels.length>1){const r=JSON.parse(JSON.stringify(this.courseTabModels));r.sort(this.sortPanelsBy(t)),this.courseTabModels=r}this.loadLatestCourses()}loadLatestCourses(){for(let t=0;t<this.courseTabModels.length&&!(t>=u.coursesToLoad);t+=1)this.courseTabModels[t].isTabExpanded=!0,this.loadFeedbackSessions(t)}sortPanelsBy(t){return(r,n)=>{let l,_,k;switch(t){case T.g.COURSE_NAME:l=r.course.courseName,_=n.course.courseName,k=T.x.ASC;break;case T.g.COURSE_ID:l=r.course.courseId,_=n.course.courseId,k=T.x.ASC;break;case T.g.COURSE_CREATION_DATE:l=String(r.course.creationTimestamp),_=String(n.course.creationTimestamp),k=T.x.DESC;break;default:l="",_="",k=T.x.ASC}return this.tableComparatorService.compare(t,k,l,_)}}sortSessionsTableRowModelsEvent(t,r){const n=this.courseTabModels[t];n.sessionsTableRowModelsSortOrder=r.sortOrder,n.sessionsTableRowModelsSortBy=r.sortBy,n.sessionsTableRowModels.sort(this.sortModelsBy(r.sortBy,r.sortOrder))}loadResponseRateEventHandler(t,r){this.loadResponseRate(n=>{this.courseTabModels[t].sessionsTableRowModels=[...n]},this.courseTabModels[t].sessionsTableRowModels,r)}moveSessionToRecycleBinEventHandler(t,r){const n=this.courseTabModels[t].sessionsTableRowModels[r];this.feedbackSessionsService.moveSessionToRecycleBin(n.feedbackSession.courseId,n.feedbackSession.feedbackSessionName).subscribe({next:()=>{this.courseTabModels[t].sessionsTableRowModels.splice(this.courseTabModels[t].sessionsTableRowModels.indexOf(n),1),this.statusMessageService.showSuccessToast("The feedback session has been deleted. You can restore it from the 'Sessions' tab.")},error:l=>{this.statusMessageService.showErrorToast(l.error.message)}})}copySessionEventHandler(t,r){this.isCopyLoading=!0,this.failedToCopySessions={},this.coursesOfModifiedSession=[],this.modifiedSession={};const n=this.createSessionCopyRequestsFromRowModel(this.courseTabModels[t].sessionsTableRowModels[r.sessionToCopyRowIndex],r);1===n.length&&this.copySingleSession(n[0].pipe((0,b.j)(()=>{this.isCopyLoading=!1})),this.modifiedTimestampsModal),n.length>1&&(0,f.p)(n).pipe((0,b.j)(()=>{this.isCopyLoading=!1})).subscribe(l=>{l.length>0&&l.forEach(_=>{const k={feedbackSession:_,responseRate:"",isLoadingResponseRate:!1,instructorPrivilege:_.privileges||(0,g.Ws)()},G=this.courseTabModels.find($=>$.course.courseId===_.courseId);G&&G.hasPopulated&&G.sessionsTableRowModels.push(k)}),this.showCopyStatusMessage(this.modifiedTimestampsModal)})}submitSessionAsInstructorEventHandler(t,r){this.submitSessionAsInstructor(this.courseTabModels[t].sessionsTableRowModels[r])}publishSessionEventHandler(t,r){this.publishSession(this.courseTabModels[t].sessionsTableRowModels[r.idx],r.rowData,r.columnsData)}unpublishSessionEventHandler(t,r){this.unpublishSession(this.courseTabModels[t].sessionsTableRowModels[r.idx],r.rowData,r.columnsData)}downloadSessionResultEventHandler(t,r){this.downloadSessionResult(this.courseTabModels[t].sessionsTableRowModels[r])}static#s=this.\u0275fac=function(r){return new(r||u)(e.rXU(S.x),e.rXU(O.o),e.rXU(C.u),e.rXU(c.q),e.rXU(m.Bq),e.rXU(v.b),e.rXU(d.p),e.rXU(h.C),e.rXU(a.r),e.rXU(E.W),e.rXU(I.Y),e.rXU(F.D),e.rXU(L.f))};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-instructor-home-page"]],viewQuery:function(r,n){if(1&r&&e.GBs(W,5),2&r){let l;e.mGM(l=e.lsd())&&(n.modifiedTimestampsModal=l.first)}},features:[e.Vt3],decls:9,vars:6,consts:[["class","card bg-light","style","margin-bottom: 20px;",4,"ngIf"],["class","row mb-3",4,"tmIsLoading"],["class","mb-4",4,"ngIf"],[3,"shouldShowRetry","message","retryEvent"],[4,"tmIsLoading"],["modifiedTimestampsModal",""],[1,"card","bg-light",2,"margin-bottom","20px"],[1,"card-body"],["href","/web/instructor/getting-started","target","_blank","rel","noopener noreferrer"],[1,"row","mb-3"],[1,"col-4","mt-auto"],["tmRouterLink","/web/instructor/courses",1,"btn","btn-success",3,"queryParams"],[1,"fas","fa-plus"],["class","col-8",4,"ngIf"],[1,"col-8"],[1,"float-end"],[1,"d-inline"],["data-toggle","buttons",1,"btn-group"],["id","sort-course-id",1,"btn","btn-light",3,"disabled","click"],["id","sort-course-name",1,"btn","btn-light",3,"disabled","click"],["id","sort-course-date",1,"btn","btn-light",3,"disabled","click"],[1,"mb-4"],[4,"ngIf"],["class","card",3,"id",4,"ngFor","ngForOf"],[1,"card",3,"id"],[1,"card-header","bg-primary","text-white","cursor-pointer",3,"click"],[1,"course-details","text-break"],["class","card-header-btn-toolbar flex-lg-shrink-0",4,"ngIf"],["class","card-body padding-0 table-responsive",4,"ngIf"],[1,"card-header-btn-toolbar","flex-lg-shrink-0"],["ngbDropdown","","container","body"],["type","button","ngbDropdownToggle","",1,"btn","btn-primary","btn-sm"],["ngbDropdownMenu","",3,"click"],["tmRouterLink","/web/instructor/courses/details",1,"btn","btn-light","btn-sm","dropdown-item",3,"queryParams"],["tmRouterLink","/web/instructor/courses/edit",1,"btn","btn-light","btn-sm","dropdown-item",3,"queryParams"],["tmRouterLink","/web/instructor/sessions",1,"btn","btn-light","btn-sm","dropdown-item",3,"queryParams"],["type","button","ngbDropdownToggle","",1,"btn-course","btn","btn-primary","btn-sm"],["ngbTooltip","Archive the course so that it will not be shown in the home page any more (you can still access it from the 'Courses' tab)","tmRouterLink","./",1,"btn-archive-course","btn","btn-light","btn-sm","dropdown-item",3,"click"],[3,"isExpanded"],["tmRouterLink","/web/instructor/courses/enroll",1,"btn","btn-light","btn-sm","dropdown-item",3,"queryParams"],["ngbTooltip","Copy the course and its corresponding sessions","tmRouterLink","./",1,"btn-copy-course","btn","btn-light","btn-sm","dropdown-item",3,"click"],["tmRouterLink","/web/instructor/courses/student-activity-logs",1,"btn-course-logs","btn","btn-light","btn-sm","dropdown-item",3,"queryParams"],["ngbTooltip","Delete the course and its corresponding students and sessions","tmRouterLink","./",1,"btn-delete-course","btn","btn-light","btn-sm","dropdown-item",3,"click"],[1,"card-body","padding-0","table-responsive"],[3,"sessionsTableRowModels","id","initialSortBy","sortOrder","courseCandidates","headerColorScheme","columnsToShow","isSendReminderLoading","sortSessionsTableRowModelsEvent","loadResponseRateEvent","moveSessionToRecycleBinEvent","copySessionEvent","submitSessionAsInstructorEvent","publishSessionEvent","unpublishSessionEvent","downloadSessionResultsEvent","resendResultsLinkToStudentsEvent","sendRemindersToAllNonSubmittersEvent","sendRemindersToSelectedNonSubmittersEvent",4,"tmIsLoading"],[3,"sessionsTableRowModels","id","initialSortBy","sortOrder","courseCandidates","headerColorScheme","columnsToShow","isSendReminderLoading","sortSessionsTableRowModelsEvent","loadResponseRateEvent","moveSessionToRecycleBinEvent","copySessionEvent","submitSessionAsInstructorEvent","publishSessionEvent","unpublishSessionEvent","downloadSessionResultsEvent","resendResultsLinkToStudentsEvent","sendRemindersToAllNonSubmittersEvent","sendRemindersToSelectedNonSubmittersEvent"],[3,"coursesOfModifiedSession","modifiedSessions"]],template:function(r,n){1&r&&(e.j41(0,"h1"),e.EFF(1,"Home"),e.k0s(),e.DNE(2,K,6,0,"div",0),e.DNE(3,Q,6,3,"div",1),e.DNE(4,q,4,0,"div",2),e.j41(5,"tm-loading-retry",3),e.bIt("retryEvent",function(){return n.loadCourses()}),e.DNE(6,le,2,1,"div",4),e.k0s(),e.DNE(7,ue,1,2,"ng-template",null,5,e.C5r)),2&r&&(e.R7$(2),e.Y8G("ngIf",n.isNewUser),e.R7$(1),e.Y8G("tmIsLoading",!n.hasCoursesLoaded),e.R7$(1),e.Y8G("ngIf",n.isCopyingCourse),e.R7$(1),e.Y8G("shouldShowRetry",n.hasCoursesLoadingFailed)("message","Something went wrong"),e.R7$(1),e.Y8G("tmIsLoading",!n.hasCoursesLoaded||n.isCopyLoading))},dependencies:[s.Sq,s.bT,B.l,m.tg,m.do,m.U0,m.md,U.n,X.Y,H.F,Y.y,V.a,z.U],styles:[".padding-0[_ngcontent-%COMP%]{padding:0}.btn-toolbar[_ngcontent-%COMP%]{white-space:nowrap;margin-top:5px;margin-bottom:2px;align-items:center;justify-content:flex-end}.course-header[_ngcontent-%COMP%]{display:inline-flex;align-items:center;white-space:nowrap}.dropdown-item[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]{border:none}.text-color-lightgray[_ngcontent-%COMP%]{color:#d3d3d3}@media (width <= 450px){.card-header[_ngcontent-%COMP%]{display:block}.card-header-btn-toolbar[_ngcontent-%COMP%]{text-align:right;display:inline-flex;align-items:center;justify-content:flex-start;flex-wrap:wrap}tm-panel-chevron[_ngcontent-%COMP%]{margin-left:auto}}"],data:{animation:[D.j]}})}return u})();var _e=i(56953),pe=i(34029),he=i(84309),ge=i(28324),ve=i(57125),be=i(35649),fe=i(22647),Ce=i(48381);const Ee=[{path:"",component:me}];let Te=(()=>{class u{static#e=this.\u0275fac=function(r){return new(r||u)};static#s=this.\u0275mod=e.$C({type:u});static#t=this.\u0275inj=e.G2t({imports:[s.MD,fe.k,o.YN,p.iI.forChild(Ee),m.HC,m.zH,m.n8,he.y,pe.Z,ve.o,Ce.d,_e.K,be.d,ge.t]})}return u})()},59919:(N,M,i)=>{i.d(M,{I:()=>s});class s{static hasOngoingExtension(p){const m=Date.now();return Object.values(p.studentDeadlines).some(f=>f>m)||Object.values(p.instructorDeadlines).some(f=>f>m)}static getDeadlinesBeforeOrEqualToEndTime(p,m){const f={};for(const[b,g]of Object.entries(p))g<=m&&(f[b]=g);return f}static mapStudentsToStudentModels(p,m,f){return p.map(b=>{const g={sectionName:b.sectionName,teamName:b.teamName,name:b.name,email:b.email,extensionDeadline:f,hasExtension:!1,isSelected:!1};return b.email in m&&(g.hasExtension=!0,g.extensionDeadline=m[b.email]),g})}static mapInstructorsToInstructorModels(p,m,f){return p.map(b=>{const g={name:b.name,role:b.role,email:b.email,extensionDeadline:f,hasExtension:!1,isSelected:!1};return b.email in m&&(g.hasExtension=!0,g.extensionDeadline=m[b.email]),g})}static getUpdatedDeadlinesForCreation(p,m,f){const b={...m};return p.forEach(g=>{b[g.email]=f}),b}static getUpdatedDeadlinesForDeletion(p,m){const f={...m};return p.forEach(b=>{delete f[b.email]}),f}static getOngoingUserFeedbackSessionEndingTimestamp(p){return s.hasUserOngoingExtension(p)?p.submissionEndWithExtensionTimestamp:p.submissionEndTimestamp}static hasUserOngoingExtension(p){const m=p.submissionEndWithExtensionTimestamp;return this.hasUserExtension(p)&&m>Date.now()}static getUserFeedbackSessionEndingTimestamp(p){return s.hasUserExtension(p)?p.submissionEndWithExtensionTimestamp:p.submissionEndTimestamp}static hasUserExtension(p){const m=p.submissionEndWithExtensionTimestamp;return void 0!==m&&m>p.submissionEndTimestamp}}},58240:(N,M,i)=>{i.d(M,{W:()=>p});var s=i(21413),o=i(17705);let p=(()=>{class m{constructor(){this.progressPercentage=new s.B}updateProgress(b){this.progressPercentage.next(b)}static#e=this.\u0275fac=function(g){return new(g||m)};static#s=this.\u0275prov=o.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},6294:(N,M,i)=>{i.d(M,{r:()=>C});var s=i(17705),o=i(21894),p=i(94227),m=i(60177),f=i(17422);function b(c,v){1&c&&s.nrm(0,"i",15)}function g(c,v){1&c&&s.nrm(0,"i",16)}function T(c,v){1&c&&s.nrm(0,"i",17)}function R(c,v){1&c&&s.eu8(0)}function P(c,v){if(1&c&&(s.j41(0,"div"),s.DNE(1,R,1,0,"ng-container",18),s.k0s()),2&c){const d=s.XpG();s.R7$(1),s.Y8G("ngTemplateOutlet",d.content)}}function j(c,v){if(1&c&&s.nrm(0,"div",19),2&c){const d=s.XpG();s.Y8G("innerHTML",d.content,s.npT)}}function w(c,v){1&c&&(s.j41(0,"div",20),s.nrm(1,"tm-progress-bar"),s.k0s())}function D(c,v){if(1&c){const d=s.RV6();s.j41(0,"button",21),s.bIt("click",function(){s.eBV(d);const a=s.XpG();return s.Njj(a.activeModal.dismiss())}),s.EFF(1),s.k0s()}if(2&c){const d=s.XpG();s.R7$(1),s.SpI(" ",d.cancelMessage," ")}}const x=function(c){return{"display-none":c}},e=function(c,v,d,h){return{"bg-danger":c,"bg-warning":v,"bg-info":d,"bg-white":h}},S=function(c,v,d,h){return{"btn-danger":c,"btn-warning":v,"btn-info":d,"btn-primary":h}};let O=(()=>{class c{get isTemplate(){return this.content instanceof s.C4Q}constructor(d){this.activeModal=d,this.SimpleModalType=o.i,this.header="",this.content="",this.type=o.i.NEUTRAL,this.isInformationOnly=!1,this.confirmMessage="Yes",this.cancelMessage="No, cancel the operation"}static#e=this.\u0275fac=function(h){return new(h||c)(s.rXU(p.Lw))};static#s=this.\u0275cmp=s.VBU({type:c,selectors:[["tm-confirmation-modal"]],inputs:{header:"header",content:"content",type:"type",isInformationOnly:"isInformationOnly",confirmMessage:"confirmMessage",cancelMessage:"cancelMessage"},decls:17,vars:24,consts:[[1,"transparent-overlay",3,"ngClass"],[1,"modal-header",3,"ngClass"],[1,"modal-title"],["class","fas fa-times-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],[1,"margin-left-5px",3,"innerHTML"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-light modal-btn-cancel",3,"click",4,"ngIf"],["type","button",1,"btn","modal-btn-ok","z-index-1",3,"ngClass","click"],[1,"fas","fa-times-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[4,"ngTemplateOutlet"],[3,"innerHTML"],[1,"progress-bar-container"],["type","button",1,"btn","btn-light","modal-btn-cancel",3,"click"]],template:function(h,a){1&h&&(s.nrm(0,"div",0),s.j41(1,"div",1)(2,"div")(3,"h5",2),s.DNE(4,b,1,0,"i",3),s.DNE(5,g,1,0,"i",4),s.DNE(6,T,1,0,"i",5),s.nrm(7,"span",6),s.k0s()(),s.j41(8,"button",7),s.bIt("click",function(){return a.type===a.SimpleModalType.LOAD?a.activeModal.close():a.activeModal.dismiss()}),s.k0s()(),s.j41(9,"div",8),s.DNE(10,P,2,1,"div",9),s.DNE(11,j,1,1,"div",10),s.DNE(12,w,2,0,"div",11),s.k0s(),s.j41(13,"div",12),s.DNE(14,D,2,1,"button",13),s.j41(15,"button",14),s.bIt("click",function(){return a.activeModal.close()}),s.EFF(16),s.k0s()()),2&h&&(s.Y8G("ngClass",s.eq3(12,x,a.type!==a.SimpleModalType.LOAD)),s.R7$(1),s.Y8G("ngClass",s.ziG(14,e,a.type===a.SimpleModalType.DANGER,a.type===a.SimpleModalType.WARNING,a.type===a.SimpleModalType.INFO||a.type===a.SimpleModalType.LOAD,a.type===a.SimpleModalType.NEUTRAL)),s.R7$(3),s.Y8G("ngIf",a.type===a.SimpleModalType.DANGER),s.R7$(1),s.Y8G("ngIf",a.type===a.SimpleModalType.WARNING),s.R7$(1),s.Y8G("ngIf",a.type===a.SimpleModalType.INFO||a.type===a.SimpleModalType.LOAD),s.R7$(1),s.Y8G("innerHTML",a.header,s.npT),s.R7$(3),s.Y8G("ngIf",a.isTemplate),s.R7$(1),s.Y8G("ngIf",!a.isTemplate),s.R7$(1),s.Y8G("ngIf",a.type===a.SimpleModalType.LOAD),s.R7$(2),s.Y8G("ngIf",!a.isInformationOnly),s.R7$(1),s.Y8G("ngClass",s.ziG(19,S,a.type===a.SimpleModalType.DANGER||a.type===a.SimpleModalType.LOAD,a.type===a.SimpleModalType.WARNING,a.type===a.SimpleModalType.INFO,a.type===a.SimpleModalType.NEUTRAL)),s.R7$(1),s.JRh(a.confirmMessage))},dependencies:[m.YU,m.bT,m.T3,f.a],styles:[".margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.progress-bar-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2px}.transparent-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;visibility:false;z-index:0}.display-none[_ngcontent-%COMP%]{display:none}.z-index-1[_ngcontent-%COMP%]{z-index:1}"]})}return c})(),C=(()=>{class c{constructor(d){this.ngbModal=d}open(d,h,a,E,I){const F=this.ngbModal.open(O,I);return F.componentInstance.header=d,F.componentInstance.content=a,F.componentInstance.type=h,E&&(Object.entries(E).forEach(([L,B])=>{F.componentInstance[L]=B}),E.onClosed&&(F.closed.subscribe(()=>{E.onClosed()}),F.dismissed.subscribe(()=>{E.onClosed()}))),F}openConfirmationModal(d,h,a,E,I){const F={isInformationOnly:!1,confirmMessage:"Yes",cancelMessage:"No, cancel the operation",...E};return this.open(d,h,a,F,I)}openInformationModal(d,h,a,E,I){const F={isInformationOnly:!0,confirmMessage:"OK",...E};return this.open(d,h,a,F,I)}openLoadingModal(d,h,a,E,I){const F={isInformationOnly:!0,confirmMessage:"Abort",...E};return this.open(d,h,a,F,I)}static#e=this.\u0275fac=function(h){return new(h||c)(s.KVO(p.Bq))};static#s=this.\u0275prov=s.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},74278:(N,M,i)=>{i.d(M,{Q:()=>s});const s=3},47710:(N,M,i)=>{i.d(M,{P3:()=>o,k4:()=>p,mk:()=>m});var s=i(8059);const o=s.YU.FEEDBACK_SESSION_NAME_MAX_LENGTH,p=s.YU.COURSE_ID_MAX_LENGTH,m=s.YU.COURSE_NAME_MAX_LENGTH}}]);