"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[1961],{72890:(O,C,a)=>{a.d(C,{Y:()=>v});var i=a(17705),u=a(60177);function h(l,p){if(1&l){const M=i.RV6();i.j41(0,"div",2)(1,"p",3),i.EFF(2),i.k0s(),i.j41(3,"button",4),i.bIt("click",function(){i.eBV(M);const S=i.XpG();return i.Njj(S.retryEvent.emit())}),i.nrm(4,"i",5),i.EFF(5,"\xa0Retry"),i.k0s()()}if(2&l){const M=i.XpG();i.R7$(2),i.JRh(M.message),i.R7$(1),i.Y8G("disabled",M.retryButtonDisabled)}}function I(l,p){1&l&&i.SdG(0)}const e=["*"];let v=(()=>{class l{constructor(){this.message="",this.shouldShowRetry=!1,this.retryButtonDisabled=!1,this.retryEvent=new i.bkB}static#e=this.\u0275fac=function(T){return new(T||l)};static#t=this.\u0275cmp=i.VBU({type:l,selectors:[["tm-loading-retry"]],inputs:{message:"message",shouldShowRetry:"shouldShowRetry",retryButtonDisabled:"retryButtonDisabled"},outputs:{retryEvent:"retryEvent"},ngContentSelectors:e,decls:3,vars:2,consts:[["class","text-center",4,"ngIf","ngIfElse"],["content",""],[1,"text-center"],[1,"text-muted","m-1"],[1,"btn","btn-primary",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-redo"]],template:function(T,S){if(1&T&&(i.NAR(),i.DNE(0,h,6,2,"div",0),i.DNE(1,I,1,0,"ng-template",null,1,i.C5r)),2&T){const D=i.sdS(2);i.Y8G("ngIf",S.shouldShowRetry)("ngIfElse",D)}},dependencies:[u.bT]})}return l})()},86082:(O,C,a)=>{a.d(C,{F:()=>e});var i=a(17705),u=a(60177);function h(v,l){if(1&v&&i.nrm(0,"i",3),2&v){const p=i.XpG();i.xc7("color",p.chevronColor)}}function I(v,l){if(1&v&&i.nrm(0,"i",4),2&v){const p=i.XpG();i.xc7("color",p.chevronColor)}}let e=(()=>{class v{constructor(){this.isExpanded=!1,this.chevronColor="white"}static#e=this.\u0275fac=function(M){return new(M||v)};static#t=this.\u0275cmp=i.VBU({type:v,selectors:[["tm-panel-chevron"]],inputs:{isExpanded:"isExpanded",chevronColor:"chevronColor"},decls:3,vars:3,consts:[["type","button","aria-label","Expand panel",1,"chevron","btn-course","btn","btn-primary","btn-sm"],["class","fas fa-chevron-down",3,"color",4,"ngIf"],["class","fas fa-chevron-up",3,"color",4,"ngIf"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"]],template:function(M,T){1&M&&(i.j41(0,"button",0),i.DNE(1,h,1,2,"i",1),i.DNE(2,I,1,2,"i",2),i.k0s()),2&M&&(i.BMQ("aria-expanded",T.isExpanded),i.R7$(1),i.Y8G("ngIf",!T.isExpanded),i.R7$(1),i.Y8G("ngIf",T.isExpanded))},dependencies:[u.bT],styles:["button.chevron[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;background-color:inherit;border-width:0}button.chevron[_ngcontent-%COMP%]:active{background-color:inherit}"]})}return v})()},57125:(O,C,a)=>{a.d(C,{o:()=>h});var i=a(60177),u=a(17705);let h=(()=>{class I{static#e=this.\u0275fac=function(l){return new(l||I)};static#t=this.\u0275mod=u.$C({type:I});static#n=this.\u0275inj=u.G2t({imports:[i.MD]})}return I})()},17422:(O,C,a)=>{a.d(C,{a:()=>I});var i=a(17705),u=a(58240),h=a(94227);let I=(()=>{class e{constructor(l){this.progressBarService=l,this.progressPercentage=10}ngOnInit(){this.getProgress()}getProgress(){this.progressBarService.progressPercentage.subscribe(l=>{this.progressPercentage=l})}static#e=this.\u0275fac=function(p){return new(p||e)(i.rXU(u.W))};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["tm-progress-bar"]],decls:2,vars:3,consts:[["type","info","height","26px","showValue","true",3,"value","striped","animated"]],template:function(p,M){1&p&&(i.j41(0,"div"),i.nrm(1,"ngb-progressbar",0),i.k0s()),2&p&&(i.R7$(1),i.Y8G("value",M.progressPercentage)("striped",!0)("animated",!0))},dependencies:[h.EH],encapsulation:2})}return e})()},21894:(O,C,a)=>{a.d(C,{i:()=>i});var i=function(u){return u[u.WARNING=0]="WARNING",u[u.DANGER=1]="DANGER",u[u.INFO=2]="INFO",u[u.NEUTRAL=3]="NEUTRAL",u[u.LOAD=4]="LOAD",u}(i||{})},64943:(O,C,a)=>{a.d(C,{y:()=>u});var i=a(17705);let u=(()=>{class h{transform(e){return Object.keys(e).map(v=>e[v])}static#e=this.\u0275fac=function(v){return new(v||h)};static#t=this.\u0275pipe=i.EJ8({name:"enumToArray",type:h,pure:!0})}return h})()},53200:(O,C,a)=>{a.d(C,{h:()=>h});var i=a(40035),u=a(17705);let h=(()=>{class I{transform(v){switch(v){case i.vD.INSTRUCTOR_PERMISSION_ROLE_COOWNER:return"Co-owner";case i.vD.INSTRUCTOR_PERMISSION_ROLE_MANAGER:return"Manager";case i.vD.INSTRUCTOR_PERMISSION_ROLE_OBSERVER:return"Observer";case i.vD.INSTRUCTOR_PERMISSION_ROLE_TUTOR:return"Tutor";default:return"Custom"}}static#e=this.\u0275fac=function(l){return new(l||I)};static#t=this.\u0275pipe=u.EJ8({name:"instructorRoleName",type:I,pure:!0})}return I})()},25552:(O,C,a)=>{a.d(C,{Z:()=>i});var i=function(u){return u.students="students",u.courses="courses",u.sessions="sessions",u.questions="questions",u.general="general",u.body="body",u}(i||{})},61961:(O,C,a)=>{a.r(C),a.d(C,{InstructorCourseEditPageModule:()=>dt});var i=a(60177),u=a(89417),h=a(82646),I=a(94227),e=a(17705),v=a(27468),l=a(7673),p=a(70980),M=a(70274),T=a(96354),S=a(40035),D=a(94089),E=a(26195),k=a(30715),L=a(21036),$=a(16),x=a(57645),j=a(57286),g=a(72890),P=a(86082),f=a(53200);function b(o,d){if(1&o){const t=e.RV6();e.j41(0,"div",10)(1,"strong",11),e.EFF(2," Sort Courses By: "),e.k0s(),e.j41(3,"div",12)(4,"button",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.sortCourses(n.SortBy.COURSE_ID))}),e.EFF(5,"Course ID"),e.k0s(),e.j41(6,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.sortCourses(n.SortBy.COURSE_NAME))}),e.EFF(7,"Course Name"),e.k0s(),e.j41(8,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.sortCourses(n.SortBy.COURSE_CREATION_DATE))}),e.EFF(9,"Creation Date"),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(4),e.Y8G("disabled",t.isSelectedForSorting(t.SortBy.COURSE_ID)),e.R7$(2),e.Y8G("disabled",t.isSelectedForSorting(t.SortBy.COURSE_NAME)),e.R7$(2),e.Y8G("disabled",t.isSelectedForSorting(t.SortBy.COURSE_CREATION_DATE))}}function _(o,d){if(1&o&&(e.j41(0,"strong",21),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.Lme("[",t.courseId,"]: ",t.courseName,"")}}function R(o,d){if(1&o&&(e.j41(0,"strong",21),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.Lme("[",t.courseId,"] (Archived): ",t.courseName,"")}}function F(o,d){1&o&&e.nrm(0,"i",35)}function y(o,d){1&o&&e.nrm(0,"i",36)}function w(o,d){1&o&&e.nrm(0,"i",35)}function B(o,d){1&o&&e.nrm(0,"i",36)}function J(o,d){1&o&&e.nrm(0,"i",35)}function W(o,d){1&o&&e.nrm(0,"i",36)}function K(o,d){1&o&&e.nrm(0,"i",35)}function z(o,d){1&o&&e.nrm(0,"i",36)}function H(o,d){1&o&&(e.j41(0,"div",38),e.nrm(1,"input",39),e.k0s())}function Q(o,d){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"input",40),e.bIt("ngModelChange",function(n){e.eBV(t);const r=e.XpG().$implicit;return e.Njj(r.isSelected=n)}),e.k0s()()}if(2&o){const t=e.XpG().$implicit,s=e.XpG(6);e.R7$(1),e.Y8G("disabled",s.isCopyingSelectedInstructors)("ngModel",t.isSelected)}}function Z(o,d){if(1&o&&(e.j41(0,"tr")(1,"td"),e.DNE(2,H,2,0,"div",37),e.DNE(3,Q,2,2,"div",8),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"instructorRoleName"),e.k0s()()),2&o){const t=d.$implicit,s=e.XpG(6);e.R7$(2),e.Y8G("ngIf",t.instructor.role===s.InstructorPermissionRole.INSTRUCTOR_PERMISSION_ROLE_CUSTOM),e.R7$(1),e.Y8G("ngIf",t.instructor.role!==s.InstructorPermissionRole.INSTRUCTOR_PERMISSION_ROLE_CUSTOM),e.R7$(2),e.JRh(t.instructor.name),e.R7$(2),e.JRh(t.instructor.email),e.R7$(2),e.JRh(t.instructor.isDisplayedToStudents?t.instructor.displayedToStudentsAs:s.notDisplayedToStudentText),e.R7$(2),e.JRh(e.bMT(12,6,t.instructor.role))}}const Y=function(o,d){return{"bg-primary text-white":o,"bg-info":d}};function q(o,d){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"table",28)(2,"thead",29)(3,"tr")(4,"th"),e.EFF(5,"#"),e.k0s(),e.j41(6,"th",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4).$implicit,r=e.XpG();return e.Njj(r.sortInstructorsToCopyForCourse(n,r.SortBy.RESPONDENT_NAME))}),e.j41(7,"button"),e.EFF(8," Instructor Name "),e.j41(9,"span",31),e.nrm(10,"i",32),e.DNE(11,F,1,0,"i",33),e.DNE(12,y,1,0,"i",34),e.k0s()()(),e.j41(13,"th",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4).$implicit,r=e.XpG();return e.Njj(r.sortInstructorsToCopyForCourse(n,r.SortBy.RESPONDENT_EMAIL))}),e.j41(14,"button"),e.EFF(15," Instructor Email "),e.j41(16,"span",31),e.nrm(17,"i",32),e.DNE(18,w,1,0,"i",33),e.DNE(19,B,1,0,"i",34),e.k0s()()(),e.j41(20,"th",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4).$implicit,r=e.XpG();return e.Njj(r.sortInstructorsToCopyForCourse(n,r.SortBy.INSTRUCTOR_DISPLAYED_TEXT))}),e.j41(21,"button"),e.EFF(22," Displayed to Student As "),e.j41(23,"span",31),e.nrm(24,"i",32),e.DNE(25,J,1,0,"i",33),e.DNE(26,W,1,0,"i",34),e.k0s()()(),e.j41(27,"th",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4).$implicit,r=e.XpG();return e.Njj(r.sortInstructorsToCopyForCourse(n,r.SortBy.INSTRUCTOR_PERMISSION_ROLE))}),e.j41(28,"button"),e.EFF(29," Access Level "),e.j41(30,"span",31),e.nrm(31,"i",32),e.DNE(32,K,1,0,"i",33),e.DNE(33,z,1,0,"i",34),e.k0s()()()()(),e.j41(34,"tbody"),e.DNE(35,Z,13,8,"tr",5),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG(4).$implicit,s=e.XpG();e.R7$(2),e.Y8G("ngClass",e.l_i(14,Y,!t.isArchived,t.isArchived)),e.R7$(4),e.BMQ("aria-sort",s.getAriaSort(t,s.SortBy.RESPONDENT_NAME)),e.R7$(5),e.Y8G("ngIf",s.isSortInstructorsBy(t,s.SortBy.RESPONDENT_NAME,s.SortOrder.DESC)),e.R7$(1),e.Y8G("ngIf",s.isSortInstructorsBy(t,s.SortBy.RESPONDENT_NAME,s.SortOrder.ASC)),e.R7$(1),e.BMQ("aria-sort",s.getAriaSort(t,s.SortBy.RESPONDENT_EMAIL)),e.R7$(5),e.Y8G("ngIf",s.isSortInstructorsBy(t,s.SortBy.RESPONDENT_EMAIL,s.SortOrder.DESC)),e.R7$(1),e.Y8G("ngIf",s.isSortInstructorsBy(t,s.SortBy.RESPONDENT_EMAIL,s.SortOrder.ASC)),e.R7$(1),e.BMQ("aria-sort",s.getAriaSort(t,s.SortBy.INSTRUCTOR_DISPLAYED_TEXT)),e.R7$(5),e.Y8G("ngIf",s.isSortInstructorsBy(t,s.SortBy.INSTRUCTOR_DISPLAYED_TEXT,s.SortOrder.DESC)),e.R7$(1),e.Y8G("ngIf",s.isSortInstructorsBy(t,s.SortBy.INSTRUCTOR_DISPLAYED_TEXT,s.SortOrder.ASC)),e.R7$(1),e.BMQ("aria-sort",s.getAriaSort(t,s.SortBy.INSTRUCTOR_PERMISSION_ROLE)),e.R7$(5),e.Y8G("ngIf",s.isSortInstructorsBy(t,s.SortBy.INSTRUCTOR_PERMISSION_ROLE,s.SortOrder.DESC)),e.R7$(1),e.Y8G("ngIf",s.isSortInstructorsBy(t,s.SortBy.INSTRUCTOR_PERMISSION_ROLE,s.SortOrder.ASC)),e.R7$(2),e.Y8G("ngForOf",t.instructorCandidates)}}function ee(o,d){if(1&o){const t=e.RV6();e.j41(0,"div",25),e.DNE(1,q,36,17,"ng-container",8),e.j41(2,"button",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3).$implicit,r=e.XpG();return e.Njj(r.loadInstructors(n))}),e.nrm(3,"i",27),e.EFF(4," \xa0Reload "),e.k0s()()}if(2&o){const t=e.XpG(3).$implicit,s=e.XpG();e.R7$(1),e.Y8G("ngIf",t.hasInstructorsLoaded),e.R7$(1),e.Y8G("disabled",s.isCopyingSelectedInstructors)}}function te(o,d){if(1&o&&(e.j41(0,"div"),e.DNE(1,ee,5,2,"div",24),e.k0s()),2&o){const t=e.XpG(2).$implicit;e.R7$(1),e.Y8G("ngIf",!t.hasLoadingFailed)}}function ne(o,d){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"tm-loading-retry",22),e.bIt("retryEvent",function(){e.eBV(t);const n=e.XpG().$implicit,r=e.XpG();return e.Njj(r.loadInstructors(n))}),e.DNE(2,te,2,1,"div",23),e.k0s()()}if(2&o){const t=e.XpG().$implicit,s=e.XpG();e.R7$(1),e.Y8G("shouldShowRetry",t.hasLoadingFailed)("retryButtonDisabled",s.isCopyingSelectedInstructors)("message","Failed to load instructors"),e.R7$(1),e.Y8G("tmIsLoading",!t.hasInstructorsLoaded)}}function se(o,d){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",16)(2,"div",17),e.bIt("click",function(){const r=e.eBV(t).$implicit,c=e.XpG();return e.Njj(c.toggleCard(r))}),e.DNE(3,_,2,2,"strong",18),e.DNE(4,R,2,2,"strong",18),e.j41(5,"div",19),e.nrm(6,"tm-panel-chevron",20),e.k0s()(),e.DNE(7,ne,3,4,"div",8),e.k0s()()}if(2&o){const t=d.$implicit;e.R7$(2),e.Y8G("ngClass",e.l_i(5,Y,!t.isArchived,t.isArchived)),e.R7$(1),e.Y8G("ngIf",!t.isArchived),e.R7$(1),e.Y8G("ngIf",t.isArchived),e.R7$(2),e.Y8G("isExpanded",t.isTabExpanded),e.R7$(1),e.Y8G("ngIf",t.isTabExpanded)}}function ie(o,d){1&o&&e.nrm(0,"tm-ajax-loading")}let oe=(()=>{class o{constructor(t,s,n,r){this.activeModal=t,this.statusMessageService=s,this.instructorService=n,this.tableComparatorService=r,this.copyClickedEvent=new e.bkB,this.SortBy=E.g,this.SortOrder=E.x,this.InstructorPermissionRole=S.vD,this.courses=[],this.notDisplayedToStudentText="(NOT displayed to students)",this.isCopyingSelectedInstructors=!1}toggleCard(t){t.isTabExpanded=!t.isTabExpanded,t.hasInstructorsLoaded||this.loadInstructors(t)}loadInstructors(t){t.hasInstructorsLoaded=!1,t.hasLoadingFailed=!1,t.instructorCandidates=[],this.instructorService.loadInstructors({courseId:t.courseId,intent:D.JD.FULL_DETAIL}).subscribe({next:s=>{s.instructors.forEach(n=>{t.instructorCandidates.push({instructor:n,isSelected:!1})}),t.hasInstructorsLoaded=!0},error:s=>{t.hasLoadingFailed=!0,this.statusMessageService.showErrorToast(s.error.message)}})}copySelectedInstructors(){this.isCopyingSelectedInstructors=!0;const t=this.getSelectedInstructors();this.copyClickedEvent.emit(t)}getSelectedInstructors(){const t=[];return this.courses.forEach(s=>{s.instructorCandidates.length>0&&t.push(...s.instructorCandidates.filter(n=>n.isSelected).map(n=>n.instructor))}),t}isSelectedForSorting(t){return this.coursesSortBy===t}isSortInstructorsBy(t,s,n){return t.instructorCandidatesSortBy===s&&t.instructorCandidatesSortOrder===n}sortCourses(t){this.coursesSortBy=t,this.courses.sort(this.sortCoursesBy(t))}getAriaSort(t,s){return t.instructorCandidatesSortBy!==s?"none":t.instructorCandidatesSortOrder===E.x.ASC?"ascending":"descending"}sortInstructorsToCopyForCourse(t,s){t.instructorCandidatesSortBy=s,t.instructorCandidatesSortOrder=t.instructorCandidatesSortOrder===E.x.DESC?E.x.ASC:E.x.DESC,t.instructorCandidates.sort(this.sortInstructorsBy(s,t.instructorCandidatesSortOrder))}sortCoursesBy(t){return(s,n)=>{let r,c,m;switch(t){case E.g.COURSE_ID:r=s.courseId,c=n.courseId,m=E.x.ASC;break;case E.g.COURSE_NAME:r=s.courseName,c=n.courseName,m=E.x.ASC;break;case E.g.COURSE_CREATION_DATE:r=s.creationTimestamp.toString(),c=n.creationTimestamp.toString(),m=E.x.DESC;break;default:r="",c="",m=E.x.ASC}return this.tableComparatorService.compare(t,m,r,c)}}sortInstructorsBy(t,s){return(n,r)=>{let c,m;switch(t){case E.g.RESPONDENT_NAME:c=n.instructor.name,m=r.instructor.name;break;case E.g.RESPONDENT_EMAIL:c=n.instructor.email,m=r.instructor.email;break;case E.g.INSTRUCTOR_DISPLAYED_TEXT:c=n.instructor.isDisplayedToStudents?n.instructor.displayedToStudentsAs||"":this.notDisplayedToStudentText,m=r.instructor.isDisplayedToStudents?r.instructor.displayedToStudentsAs||"":this.notDisplayedToStudentText;break;case E.g.INSTRUCTOR_PERMISSION_ROLE:c=n.instructor.role||"",m=r.instructor.role||"";break;default:c="",m=""}return this.tableComparatorService.compare(t,s,c,m)}}get isAnyInstructorCandidatesSelected(){return this.courses.reduce((t,s)=>t||!!s.instructorCandidates.find(n=>n.isSelected),!1)}static#e=this.\u0275fac=function(s){return new(s||o)(e.rXU(I.Lw),e.rXU(k.x),e.rXU(L.p),e.rXU($.C))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["tm-copy-instructors-from-other-courses-modal"]],outputs:{copyClickedEvent:"copyClickedEvent"},decls:13,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["id","btn-close-modal","type","button","aria-label","Close",1,"btn-close",3,"disabled","click"],["id","copy-instructor-modal",1,"modal-body"],["class","col-12 mb-3 text-md-end",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["id","btn-confirm-copy-instructor","type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],["id","btn-cancel-copy-instructor","type","button",1,"btn","btn-light",3,"disabled","click"],[1,"col-12","mb-3","text-md-end"],[1,"d-inline"],["data-toggle","buttons",1,"btn-group"],["id","sort-course-id",1,"btn","btn-light",3,"disabled","click"],["id","sort-course-name",1,"btn","btn-light",3,"disabled","click"],["id","sort-course-creation-date",1,"btn","btn-light",3,"disabled","click"],[1,"card"],[1,"card-header","cursor-pointer",3,"ngClass","click"],["class","text-break",4,"ngIf"],[1,"card-header-btn-toolbar"],[3,"isExpanded"],[1,"text-break"],[3,"shouldShowRetry","retryButtonDisabled","message","retryEvent"],[4,"tmIsLoading"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"btn","btn-secondary","float-end","mt-2","mb-3",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-redo"],["id","copy-instructor-table",1,"table","table-bordered","table-responsive-lg"],[3,"ngClass"],[1,"sortable-header",3,"click"],["aria-hidden","true",1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],["class","ngb-tooltip-class","ngbTooltip","This instructor has a customised access level and cannot be copied.",4,"ngIf"],["ngbTooltip","This instructor has a customised access level and cannot be copied.",1,"ngb-tooltip-class"],["disabled","","type","checkbox",1,"form-check-input","no-shadow"],["id","enabled-checkbox","type","checkbox",1,"form-check-input","no-shadow",3,"disabled","ngModel","ngModelChange"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"Copy Instructors"),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return n.activeModal.dismiss()}),e.k0s()(),e.j41(4,"div",3),e.DNE(5,b,10,3,"div",4),e.DNE(6,se,8,8,"div",5),e.k0s(),e.j41(7,"div",6)(8,"button",7),e.bIt("click",function(){return n.copySelectedInstructors()}),e.DNE(9,ie,1,0,"tm-ajax-loading",8),e.EFF(10,"Copy "),e.k0s(),e.j41(11,"button",9),e.bIt("click",function(){return n.activeModal.dismiss()}),e.EFF(12,"Cancel"),e.k0s()()),2&s&&(e.R7$(3),e.Y8G("disabled",n.isCopyingSelectedInstructors),e.R7$(2),e.Y8G("ngIf",n.courses.length>0),e.R7$(1),e.Y8G("ngForOf",n.courses),e.R7$(2),e.Y8G("disabled",!n.isAnyInstructorCandidatesSelected||n.isCopyingSelectedInstructors),e.R7$(1),e.Y8G("ngIf",n.isCopyingSelectedInstructors),e.R7$(2),e.Y8G("disabled",n.isCopyingSelectedInstructors))},dependencies:[i.YU,i.Sq,i.bT,u.Zm,u.BC,u.vS,I.md,x.n,j.y,g.Y,P.F,f.h],styles:[".sortable-header[_ngcontent-%COMP%]{cursor:pointer}.sortable-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3em}.sortable-header[_ngcontent-%COMP%]   .fa-stack[_ngcontent-%COMP%]{width:20%}.sortable-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;padding:0;text-align:left;width:100%;font:inherit;cursor:inherit}#copy-instructor-modal[_ngcontent-%COMP%]{table-layout:auto;margin-bottom:10px;min-width:70vw}.modal-footer[_ngcontent-%COMP%]{justify-content:right;background-color:#fff}.form-control[_ngcontent-%COMP%]{height:calc(.5em + 1.5vh);width:calc(.5em + 1.5vw)}.no-shadow[_ngcontent-%COMP%]{box-shadow:none}"]})}return o})();function re(o,d){if(1&o){const t=e.RV6();e.j41(0,"div",26)(1,"label")(2,"input",27),e.bIt("ngModelChange",function(n){const c=e.eBV(t).$implicit,m=e.XpG().index,N=e.XpG();return e.Njj(N.editSectionToSectionLevelPermission(m,c,n))}),e.k0s(),e.EFF(3),e.k0s()()}if(2&o){const t=d.$implicit,s=e.XpG().$implicit,n=e.XpG();e.R7$(2),e.Y8G("ngModel",s.sectionNames.includes(t))("disabled",!s.sectionNames.includes(t)&&n.hasSectionLevelPermission(t)),e.R7$(1),e.SpI(" ","None"===t?"Students not in a section":t," ")}}function ce(o,d){if(1&o){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,r=e.XpG();return e.Njj(r.addSessionLevelPermission(n))}),e.EFF(1,"Give different permissions for sessions in this section"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",0===t.allSessions.length)}}function ae(o,d){if(1&o){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG().index,r=e.XpG();return e.Njj(r.deleteSessionLevelPermission(n))}),e.EFF(1,"Delete session-level permissions"),e.k0s()}}function le(o,d){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"th",33),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"input",7),e.bIt("ngModelChange",function(n){const c=e.eBV(t).index,m=e.XpG(2).index,N=e.XpG();return e.Njj(N.triggerSessionLevelPermissionChange(m,c,"canSubmitSessionInSections",n))}),e.k0s()(),e.j41(5,"td")(6,"input",9),e.bIt("ngModelChange",function(n){const c=e.eBV(t).index,m=e.XpG(2).index,N=e.XpG();return e.Njj(N.triggerSessionLevelPermissionChange(m,c,"canViewSessionInSections",n))}),e.k0s()(),e.j41(7,"td")(8,"input",7),e.bIt("ngModelChange",function(n){const c=e.eBV(t).index,m=e.XpG(2).index,N=e.XpG();return e.Njj(N.triggerSessionLevelPermissionChange(m,c,"canModifySessionCommentsInSections",n))}),e.k0s()()()}if(2&o){const t=d.$implicit;e.R7$(2),e.JRh(t.sessionName),e.R7$(2),e.Y8G("ngModel",t.privilege.canSubmitSessionInSections),e.R7$(2),e.Y8G("disabled",t.privilege.canModifySessionCommentsInSections)("ngModel",t.privilege.canViewSessionInSections||t.privilege.canModifySessionCommentsInSections),e.R7$(2),e.Y8G("ngModel",t.privilege.canModifySessionCommentsInSections)}}function de(o,d){if(1&o&&(e.j41(0,"table",30)(1,"thead")(2,"tr")(3,"th",31),e.EFF(4,"Session Name"),e.k0s(),e.j41(5,"th",31),e.EFF(6,"Submit Responses and Add Comments"),e.k0s(),e.j41(7,"th",31),e.EFF(8,"View Responses and Comments"),e.k0s(),e.j41(9,"th",31),e.EFF(10,"Edit/Delete Responses/Comments by Others"),e.k0s()()(),e.j41(11,"tbody"),e.DNE(12,le,9,5,"tr",32),e.k0s()()),2&o){const t=e.XpG().$implicit;e.R7$(12),e.Y8G("ngForOf",t.sessionLevel)}}function ue(o,d){if(1&o){const t=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"div",4)(3,"div",14)(4,"p")(5,"strong"),e.EFF(6," In section(s) "),e.k0s()()(),e.j41(7,"div",15)(8,"div",16),e.DNE(9,re,4,3,"div",17),e.k0s()(),e.j41(10,"div",18)(11,"button",19),e.bIt("click",function(){const r=e.eBV(t).index,c=e.XpG();return e.Njj(c.removeSectionLevelPermission(r))}),e.nrm(12,"i",20),e.k0s()()(),e.j41(13,"div",4)(14,"div",21)(15,"strong"),e.EFF(16," the instructor can, "),e.k0s()()()(),e.j41(17,"div",22)(18,"div",4)(19,"div",5)(20,"label")(21,"input",7),e.bIt("ngModelChange",function(n){const c=e.eBV(t).index,m=e.XpG();return e.Njj(m.triggerSectionLevelPermissionChange(c,"canViewStudentInSections",n))}),e.k0s(),e.EFF(22,"\xa0 View Students' Details "),e.k0s()(),e.j41(23,"div",8)(24,"label")(25,"input",7),e.bIt("ngModelChange",function(n){const c=e.eBV(t).index,m=e.XpG();return e.Njj(m.triggerSectionLevelPermissionChange(c,"canSubmitSessionInSections",n))}),e.k0s(),e.EFF(26,"\xa0 Sessions: Submit Responses and Add Comments "),e.k0s(),e.j41(27,"label")(28,"input",9),e.bIt("ngModelChange",function(n){const c=e.eBV(t).index,m=e.XpG();return e.Njj(m.triggerSectionLevelPermissionChange(c,"canViewSessionInSections",n))}),e.k0s(),e.EFF(29,"\xa0 Sessions: View Responses and Comments "),e.k0s(),e.j41(30,"label")(31,"input",7),e.bIt("ngModelChange",function(n){const c=e.eBV(t).index,m=e.XpG();return e.Njj(m.triggerSectionLevelPermissionChange(c,"canModifySessionCommentsInSections",n))}),e.k0s(),e.EFF(32,"\xa0 Sessions: Edit/Delete Responses/Comments by Others "),e.k0s()()(),e.DNE(33,ce,2,1,"button",23),e.DNE(34,ae,2,0,"button",24),e.DNE(35,de,13,1,"table",25),e.k0s()()}if(2&o){const t=d.$implicit,s=e.XpG();e.R7$(9),e.Y8G("ngForOf",s.allSections),e.R7$(12),e.Y8G("ngModel",t.privilege.canViewStudentInSections),e.R7$(4),e.Y8G("ngModel",t.privilege.canSubmitSessionInSections),e.R7$(3),e.Y8G("disabled",t.privilege.canModifySessionCommentsInSections)("ngModel",t.privilege.canViewSessionInSections||t.privilege.canModifySessionCommentsInSections),e.R7$(3),e.Y8G("ngModel",t.privilege.canModifySessionCommentsInSections),e.R7$(2),e.Y8G("ngIf",0===t.sessionLevel.length),e.R7$(1),e.Y8G("ngIf",0!==t.sessionLevel.length),e.R7$(1),e.Y8G("ngIf",0!==t.sessionLevel.length)}}let _e=(()=>{class o{constructor(){this.permission={privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sectionLevel:[]},this.permissionChange=new e.bkB,this.allSections=[],this.allSessions=[]}hasSectionLevelPermission(t){return this.permission.sectionLevel.some(s=>s.sectionNames.includes(t))}get hasSectionLevelPermissionForAllSections(){return this.permission.sectionLevel.length>=this.allSections.length||this.permission.sectionLevel.map(t=>t.sectionNames.length).reduce((t,s)=>t+s,0)>=this.allSections.length}triggerOverallPermissionChange(t,s){const n=this.deepCopy(this.permission);n.privilege[t]=s,this.permissionChange.emit(n)}triggerSectionLevelPermissionChange(t,s,n){const r=this.deepCopy(this.permission);r.sectionLevel[t].privilege[s]=n,this.permissionChange.emit(r)}triggerSessionLevelPermissionChange(t,s,n,r){const c=this.deepCopy(this.permission);c.sectionLevel[t].sessionLevel[s].privilege[n]=r,this.permissionChange.emit(c)}addSectionLevelPermission(){const t=this.deepCopy(this.permission);t.sectionLevel.push({sectionNames:[],privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sessionLevel:[]}),this.permissionChange.emit(t)}addSessionLevelPermission(t){const s=this.deepCopy(this.permission);s.sectionLevel[t].sessionLevel=this.allSessions.map(n=>({sessionName:n,privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1}})),this.permissionChange.emit(s)}editSectionToSectionLevelPermission(t,s,n){const r=this.deepCopy(this.permission),c=new Set(r.sectionLevel[t].sectionNames);n?c.add(s):c.delete(s),r.sectionLevel[t].sectionNames=Array.from(c),this.permissionChange.emit(r)}deleteSessionLevelPermission(t){const s=this.deepCopy(this.permission);s.sectionLevel[t].sessionLevel=[],this.permissionChange.emit(s)}removeSectionLevelPermission(t){const s=this.deepCopy(this.permission);s.sectionLevel.splice(t,1),this.permissionChange.emit(s)}deepCopy(t){return JSON.parse(JSON.stringify(t))}static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["tm-custom-privilege-setting-panel"]],inputs:{permission:"permission",allSections:"allSections",allSessions:"allSessions"},outputs:{permissionChange:"permissionChange"},decls:43,vars:11,consts:[[1,"col-xs-12"],[1,"card","bg-light","border-info"],[1,"card-header","bg-info"],["id","custom-course",1,"card-body"],[1,"row"],[1,"col-6"],[1,"col-12"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"col-6","border-left-gray"],["type","checkbox",3,"disabled","ngModel","ngModelChange"],["class","card bg-light border-info top-margin",4,"ngFor","ngForOf"],["id","btn-add-section-level",1,"btn","btn-link",3,"disabled","click"],[1,"card","bg-light","border-info","top-margin"],[1,"card-header","bg-info","d-block"],[1,"col","col-sm-2"],[1,"col-6","col-sm-9"],["id","custom-sections",1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col","col-sm-1"],["id","btn-custom-sections-cancel","type","button",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"col-sm-12"],["id","custom-sections-access-levels",1,"card-body"],["id","btn-add-session-level","class","btn btn-link",3,"disabled","click",4,"ngIf"],["class","btn btn-link",3,"click",4,"ngIf"],["id","custom-sessions","class","table table-striped table-responsive",4,"ngIf"],[1,"col"],["type","checkbox",3,"ngModel","disabled","ngModelChange"],["id","btn-add-session-level",1,"btn","btn-link",3,"disabled","click"],[1,"btn","btn-link",3,"click"],["id","custom-sessions",1,"table","table-striped","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row",1,"text-break"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"strong"),e.EFF(4," In general, this instructor can "),e.k0s()(),e.j41(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label")(10,"input",7),e.bIt("ngModelChange",function(c){return n.triggerOverallPermissionChange("canModifyCourse",c)}),e.k0s(),e.EFF(11," Edit/Delete/Restore Course "),e.k0s()(),e.j41(12,"div",6)(13,"label")(14,"input",7),e.bIt("ngModelChange",function(c){return n.triggerOverallPermissionChange("canModifyInstructor",c)}),e.k0s(),e.EFF(15," Add/Edit/Delete Instructors "),e.k0s()(),e.j41(16,"div",6)(17,"label")(18,"input",7),e.bIt("ngModelChange",function(c){return n.triggerOverallPermissionChange("canModifySession",c)}),e.k0s(),e.EFF(19," Create/Edit/Delete/Restore Sessions "),e.k0s()(),e.j41(20,"div",6)(21,"label")(22,"input",7),e.bIt("ngModelChange",function(c){return n.triggerOverallPermissionChange("canModifyStudent",c)}),e.k0s(),e.EFF(23," Enroll/Edit/Delete Students "),e.k0s()()(),e.j41(24,"div",8)(25,"div",6)(26,"label")(27,"input",7),e.bIt("ngModelChange",function(c){return n.triggerOverallPermissionChange("canViewStudentInSections",c)}),e.k0s(),e.EFF(28," View Students' Details "),e.k0s()(),e.nrm(29,"hr"),e.j41(30,"div",6)(31,"label")(32,"input",7),e.bIt("ngModelChange",function(c){return n.triggerOverallPermissionChange("canSubmitSessionInSections",c)}),e.k0s(),e.EFF(33," Sessions: Submit Responses and Add Comments "),e.k0s(),e.j41(34,"label")(35,"input",9),e.bIt("ngModelChange",function(c){return n.triggerOverallPermissionChange("canViewSessionInSections",c)}),e.k0s(),e.EFF(36," Sessions: View Responses and Comments "),e.k0s(),e.j41(37,"label")(38,"input",7),e.bIt("ngModelChange",function(c){return n.triggerOverallPermissionChange("canModifySessionCommentsInSections",c)}),e.k0s(),e.EFF(39," Sessions: Edit/Delete Responses/Comments by Others "),e.k0s()()()()()(),e.DNE(40,ue,36,9,"div",10),e.j41(41,"button",11),e.bIt("click",function(){return n.addSectionLevelPermission()}),e.EFF(42," Give different permissions for a specific section "),e.k0s()()),2&s&&(e.R7$(10),e.Y8G("ngModel",n.permission.privilege.canModifyCourse),e.R7$(4),e.Y8G("ngModel",n.permission.privilege.canModifyInstructor),e.R7$(4),e.Y8G("ngModel",n.permission.privilege.canModifySession),e.R7$(4),e.Y8G("ngModel",n.permission.privilege.canModifyStudent),e.R7$(5),e.Y8G("ngModel",n.permission.privilege.canViewStudentInSections),e.R7$(5),e.Y8G("ngModel",n.permission.privilege.canSubmitSessionInSections),e.R7$(3),e.Y8G("disabled",n.permission.privilege.canModifySessionCommentsInSections)("ngModel",n.permission.privilege.canViewSessionInSections||n.permission.privilege.canModifySessionCommentsInSections),e.R7$(3),e.Y8G("ngModel",n.permission.privilege.canModifySessionCommentsInSections),e.R7$(2),e.Y8G("ngForOf",n.permission.sectionLevel),e.R7$(1),e.Y8G("disabled",n.hasSectionLevelPermissionForAllSections))},dependencies:[i.Sq,i.bT,u.Zm,u.BC,u.vS],styles:[".top-margin[_ngcontent-%COMP%]{margin-top:15px}.border-left-gray[_ngcontent-%COMP%]{border-left:1px solid #ddd}"]})}return o})();var me=a(64943);let pe=(()=>{class o{transform(t){switch(t){case S.vD.INSTRUCTOR_PERMISSION_ROLE_COOWNER:return"Co-owner: Can do everything.";case S.vD.INSTRUCTOR_PERMISSION_ROLE_MANAGER:return"Manager: Can do everything except for deleting/restoring the course.";case S.vD.INSTRUCTOR_PERMISSION_ROLE_OBSERVER:return"Observer: Can only view information(students, submissions, comments etc.). Cannot edit/delete/submit anything.";case S.vD.INSTRUCTOR_PERMISSION_ROLE_TUTOR:return"Tutor: Can view student details, give/view comments, submit/view responses for sessions.";default:return"Custom: No access by default. Any access needs to be granted explicitly."}}static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275pipe=e.EJ8({name:"instructorRoleDescription",type:o,pure:!0})}return o})();function ge(o,d){if(1&o){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.sendRemindJoinEmail.emit())}),e.nrm(1,"i",22),e.EFF(2," Resend Invite "),e.k0s()}if(2&o){const t=e.XpG();e.Mz_("id","btn-resend-invite-",t.instructorIndex+1,""),e.Y8G("disabled",!t.currInstructorCoursePrivilege.canModifyInstructor||t.instructor.isSavingInstructorEdit)}}function Ie(o,d){1&o&&e.nrm(0,"i",25)}function ve(o,d){if(1&o){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.triggerModelChange("isEditing",!0))}),e.DNE(1,Ie,1,0,"i",24),e.EFF(2," Edit "),e.k0s()}if(2&o){const t=e.XpG();e.Mz_("id","btn-edit-instructor-",t.instructorIndex+1,""),e.Y8G("disabled",!t.currInstructorCoursePrivilege.canModifyInstructor||t.instructor.isSavingInstructorEdit),e.R7$(1),e.Y8G("ngIf",!t.instructor.isSavingInstructorEdit)}}function Se(o,d){if(1&o){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelEditing.emit())}),e.nrm(1,"i",26),e.EFF(2," Cancel "),e.k0s()}if(2&o){const t=e.XpG();e.Mz_("id","btn-cancel-instructor-",t.instructorIndex+1,""),e.Y8G("disabled",t.isSavingNewInstructor)}}function fe(o,d){if(1&o){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteInstructor.emit())}),e.nrm(1,"i",28),e.EFF(2," Delete "),e.k0s()}if(2&o){const t=e.XpG();e.Mz_("id","btn-delete-instructor-",t.instructorIndex+1,""),e.Y8G("disabled",!t.currInstructorCoursePrivilege.canModifyInstructor||t.instructor.isSavingInstructorEdit)}}function Ce(o,d){if(1&o&&(e.j41(0,"div",10),e.nrm(1,"input",31),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Mz_("id","google-id-instructor-",t.instructorIndex+1,""),e.Y8G("ngModel",t.instructor.googleId)}}function he(o,d){1&o&&(e.j41(0,"span",32),e.EFF(1," Not available. Instructor is yet to join this course. "),e.k0s())}function Ee(o,d){if(1&o&&(e.j41(0,"div",8)(1,"label",9),e.EFF(2," Google ID: "),e.k0s(),e.DNE(3,Ce,2,2,"div",29),e.DNE(4,he,2,0,"span",30),e.k0s()),2&o){const t=e.XpG();e.R7$(1),e.Mz_("for","google-id-instructor-",t.instructorIndex+1,""),e.R7$(2),e.Y8G("ngIf",t.instructor.joinState===t.JoinState.JOINED),e.R7$(1),e.Y8G("ngIf",t.instructor.joinState===t.JoinState.NOT_JOINED)}}function be(o,d){if(1&o){const t=e.RV6();e.j41(0,"button",37),e.bIt("click",function(n){e.eBV(t);const r=e.XpG().$implicit;return e.XpG(2).viewRolePrivilegeModel.emit(r),e.Njj(n.stopPropagation())}),e.EFF(1,"View Details"),e.k0s()}}function Me(o,d){if(1&o){const t=e.RV6();e.j41(0,"div",34)(1,"label")(2,"input",35),e.bIt("click",function(){const r=e.eBV(t).$implicit,c=e.XpG(2);return e.Njj(c.triggerModelChange("role",r))}),e.k0s(),e.EFF(3),e.nI1(4,"instructorRoleDescription"),e.DNE(5,be,2,0,"button",36),e.k0s()()}if(2&o){const t=d.$implicit,s=e.XpG(2);e.R7$(2),e.FS9("id",t+s.instructorIndex+1),e.Y8G("checked",t===s.instructor.role)("disabled",!s.instructor.isEditing),e.R7$(1),e.SpI(" ",e.bMT(4,5,t)," "),e.R7$(2),e.Y8G("ngIf",t!==s.InstructorPermissionRole.INSTRUCTOR_PERMISSION_ROLE_CUSTOM)}}function Re(o,d){if(1&o&&(e.qex(0),e.DNE(1,Me,6,7,"div",33),e.nI1(2,"enumToArray"),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",e.bMT(2,1,t.InstructorPermissionRole))}}function ye(o,d){if(1&o){const t=e.RV6();e.j41(0,"button",37),e.bIt("click",function(n){e.eBV(t);const r=e.XpG(2);return r.viewRolePrivilegeModel.emit(r.instructor.role),e.Njj(n.stopPropagation())}),e.EFF(1,"View Details"),e.k0s()}}function Te(o,d){if(1&o&&(e.qex(0),e.j41(1,"span",38),e.EFF(2),e.nI1(3,"instructorRoleDescription"),e.k0s(),e.DNE(4,ye,2,0,"button",36),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Mz_("id","role-instructor-",t.instructorIndex+1,""),e.R7$(1),e.JRh(e.bMT(3,3,t.instructor.role)),e.R7$(2),e.Y8G("ngIf",t.instructor.role!==t.InstructorPermissionRole.INSTRUCTOR_PERMISSION_ROLE_CUSTOM)}}function Pe(o,d){if(1&o){const t=e.RV6();e.j41(0,"tm-custom-privilege-setting-panel",39),e.bIt("permissionChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.triggerModelChange("permission",n))}),e.k0s()}if(2&o){const t=e.XpG();e.Mz_("id","custom-access-instructor-",t.instructorIndex+1,""),e.Y8G("permission",t.instructor.permission)("allSections",t.allSections)("allSessions",t.allSessions)}}function Oe(o,d){1&o&&e.nrm(0,"tm-ajax-loading")}function Ne(o,d){1&o&&(e.j41(0,"span"),e.EFF(1,"Save changes"),e.k0s())}function Fe(o,d){1&o&&(e.j41(0,"span"),e.EFF(1,"Add Instructor"),e.k0s())}function De(o,d){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"button",40),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveInstructor.emit())}),e.DNE(2,Oe,1,0,"tm-ajax-loading",19),e.DNE(3,Ne,2,0,"span",19),e.DNE(4,Fe,2,0,"span",19),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(1),e.Mz_("id","btn-save-instructor-",t.instructorIndex+1,""),e.Y8G("disabled",t.instructor.isSavingInstructorEdit||t.isSavingNewInstructor),e.R7$(1),e.Y8G("ngIf",t.instructor.isSavingInstructorEdit||t.isSavingNewInstructor),e.R7$(1),e.Y8G("ngIf",t.editMode===t.EditMode.EDIT),e.R7$(1),e.Y8G("ngIf",t.editMode===t.EditMode.ADD)}}const Ge=function(o){return{"fill-plain":o}};var A=function(o){return o[o.EDIT=0]="EDIT",o[o.ADD=1]="ADD",o}(A||{});let je=(()=>{class o{constructor(){this.JoinState=S.SR,this.InstructorPermissionRole=S.vD,this.EditMode=A,this.editMode=A.EDIT,this.instructorIndex=0,this.instructor={googleId:"",courseId:"",email:"",isDisplayedToStudents:!0,displayedToStudentsAs:"",name:"",role:S.vD.INSTRUCTOR_PERMISSION_ROLE_COOWNER,joinState:S.SR.JOINED,permission:{privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sectionLevel:[]},isEditing:!1,isSavingInstructorEdit:!1},this.instructorChange=new e.bkB,this.currInstructorCoursePrivilege={canModifyCourse:!0,canModifySession:!0,canModifyStudent:!0,canModifyInstructor:!0,canViewStudentInSections:!0,canModifySessionCommentsInSections:!0,canViewSessionInSections:!0,canSubmitSessionInSections:!0},this.allSections=[],this.allSessions=[],this.isSavingNewInstructor=!1,this.sendRemindJoinEmail=new e.bkB,this.cancelEditing=new e.bkB,this.deleteInstructor=new e.bkB,this.saveInstructor=new e.bkB,this.viewRolePrivilegeModel=new e.bkB}triggerModelChange(t,s){this.instructorChange.emit({...this.instructor,[t]:s})}static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["tm-instructor-edit-panel"]],inputs:{editMode:"editMode",instructorIndex:"instructorIndex",instructor:"instructor",currInstructorCoursePrivilege:"currInstructorCoursePrivilege",allSections:"allSections",allSessions:"allSessions",isSavingNewInstructor:"isSavingNewInstructor"},outputs:{instructorChange:"instructorChange",sendRemindJoinEmail:"sendRemindJoinEmail",cancelEditing:"cancelEditing",deleteInstructor:"deleteInstructor",saveInstructor:"saveInstructor",viewRolePrivilegeModel:"viewRolePrivilegeModel"},decls:37,vars:30,consts:[[1,"card","bg-light","top-padded"],[1,"card-header","bg-primary","text-white","text-center"],[1,"card-header-btn-toolbar"],["class","btn btn-primary btn-sm","ngbTooltip","Send invitation email to the instructor","placement","top-right",3,"id","disabled","click",4,"ngIf"],["class","btn btn-primary btn-sm",3,"id","disabled","click",4,"ngIf"],["class","btn btn-primary btn-sm","ngbTooltip","Delete the instructor from the course","placement","top-right",3,"id","disabled","click",4,"ngIf"],[1,"card-body","text-center",3,"ngClass"],["class","row form-group",4,"ngIf"],[1,"row","form-group"],[1,"col-sm-2","control-label",3,"for"],[1,"col-sm-9"],["maxlength","100",1,"form-control",3,"id","ngModel","disabled","ngModelChange"],["maxlength","254",1,"form-control",3,"id","ngModel","disabled","ngModelChange"],["checked","","type","checkbox","aria-label","Enable display name",3,"id","ngModel","disabled","ngModelChange"],["ngbTooltip","If this is unselected, the instructor will be completely invisible to students. E.g. to give access to a colleague for \u2018auditing\u2019 your course",1,"ngb-tooltip-class"],["type","text","placeholder","E.g. Co-lecturer, Teaching Assistant (default: Instructor)",1,"form-control",3,"id","disabled","defaultValue","ngModel","ngModelChange"],[1,"row","form-group","align-items-start","text-start"],[1,"col-sm-2","control-label","text-center","text-md-end"],[1,"col-sm-9",3,"id"],[4,"ngIf"],["class","text-start",3,"id","permission","allSections","allSessions","permissionChange",4,"ngIf"],["ngbTooltip","Send invitation email to the instructor","placement","top-right",1,"btn","btn-primary","btn-sm",3,"id","disabled","click"],["aria-hidden","true",1,"fa","fa-envelope"],[1,"btn","btn-primary","btn-sm",3,"id","disabled","click"],["class","fa fa-pen","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-pen"],["aria-hidden","true",1,"fa","fa-times"],["ngbTooltip","Delete the instructor from the course","placement","top-right",1,"btn","btn-primary","btn-sm",3,"id","disabled","click"],["aria-hidden","true",1,"fa","fa-trash"],["class","col-sm-9",4,"ngIf"],["class","text-danger col-sm-9 text-start margin-bottom-label",4,"ngIf"],["maxlength","254","disabled","",1,"form-control",3,"id","ngModel"],[1,"text-danger","col-sm-9","text-start","margin-bottom-label"],["class","row",4,"ngFor","ngForOf"],[1,"row"],["type","radio",3,"id","checked","disabled","click"],["type","button","class","btn btn-link padding-0",3,"click",4,"ngIf"],["type","button",1,"btn","btn-link","padding-0",3,"click"],[3,"id"],[1,"text-start",3,"id","permission","allSections","allSessions","permissionChange"],["type","button",1,"btn","btn-success",3,"id","disabled","click"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"strong"),e.EFF(3),e.k0s(),e.j41(4,"div",2),e.DNE(5,ge,3,2,"button",3),e.DNE(6,ve,3,3,"button",4),e.DNE(7,Se,3,2,"button",4),e.DNE(8,fe,3,2,"button",5),e.k0s()(),e.j41(9,"div",6),e.DNE(10,Ee,5,3,"div",7),e.j41(11,"div",8)(12,"label",9),e.EFF(13," Name: "),e.k0s(),e.j41(14,"div",10)(15,"input",11),e.bIt("ngModelChange",function(c){return n.triggerModelChange("name",c)}),e.k0s()()(),e.j41(16,"div",8)(17,"label",9),e.EFF(18," Email: "),e.k0s(),e.j41(19,"div",10)(20,"input",12),e.bIt("ngModelChange",function(c){return n.triggerModelChange("email",c)}),e.k0s()()(),e.j41(21,"div",8)(22,"label",9)(23,"input",13),e.bIt("ngModelChange",function(c){return n.triggerModelChange("isDisplayedToStudents",c)}),e.k0s(),e.EFF(24," \xa0 "),e.j41(25,"span",14),e.EFF(26,"Display to students as:"),e.k0s()(),e.j41(27,"div",10)(28,"input",15),e.bIt("ngModelChange",function(c){return n.triggerModelChange("displayedToStudentsAs",c)}),e.k0s()()(),e.j41(29,"div",16)(30,"label",17),e.EFF(31," Access Level: "),e.k0s(),e.j41(32,"div",18),e.DNE(33,Re,3,3,"ng-container",19),e.DNE(34,Te,5,5,"ng-container",19),e.k0s()(),e.DNE(35,Pe,1,4,"tm-custom-privilege-setting-panel",20),e.DNE(36,De,5,5,"div",19),e.k0s()()),2&s&&(e.R7$(3),e.SpI("Instructor ",n.instructorIndex+1,""),e.R7$(2),e.Y8G("ngIf",n.instructor.joinState===n.JoinState.NOT_JOINED&&n.editMode===n.EditMode.EDIT),e.R7$(1),e.Y8G("ngIf",!n.instructor.isEditing&&n.editMode===n.EditMode.EDIT),e.R7$(1),e.Y8G("ngIf",n.instructor.isEditing||n.editMode===n.EditMode.ADD),e.R7$(1),e.Y8G("ngIf",n.editMode===n.EditMode.EDIT),e.R7$(1),e.Y8G("ngClass",e.eq3(28,Ge,n.editMode===n.EditMode.ADD)),e.R7$(1),e.Y8G("ngIf",n.editMode===n.EditMode.EDIT&&n.currInstructorCoursePrivilege.canModifyInstructor),e.R7$(2),e.Mz_("for","name-instructor-",n.instructorIndex+1,""),e.R7$(3),e.Mz_("id","name-instructor-",n.instructorIndex+1,""),e.Y8G("ngModel",n.instructor.name)("disabled",!n.instructor.isEditing),e.R7$(2),e.Mz_("for","email-instructor-",n.instructorIndex+1,""),e.R7$(3),e.Mz_("id","email-instructor-",n.instructorIndex+1,""),e.Y8G("ngModel",n.instructor.email)("disabled",!n.instructor.isEditing||n.instructor.joinState===n.JoinState.NOT_JOINED&&n.editMode!==n.EditMode.ADD),e.R7$(2),e.Mz_("for","displayed-name-instructor-",n.instructorIndex+1,""),e.R7$(1),e.Mz_("id","checkbox-display-instructor-",n.instructorIndex+1,""),e.Y8G("ngModel",n.instructor.isDisplayedToStudents)("disabled",!n.instructor.isEditing),e.R7$(5),e.Mz_("id","displayed-name-instructor-",n.instructorIndex+1,""),e.Y8G("disabled",!n.instructor.isDisplayedToStudents||!n.instructor.isEditing)("defaultValue","Instructor")("ngModel",n.instructor.isDisplayedToStudents?n.instructor.displayedToStudentsAs:"(This instructor will NOT be displayed to students)"),e.R7$(4),e.Mz_("id","access-levels-instructor-",n.instructorIndex+1,""),e.R7$(1),e.Y8G("ngIf",n.instructor.isEditing),e.R7$(1),e.Y8G("ngIf",!n.instructor.isEditing),e.R7$(1),e.Y8G("ngIf",n.instructor.isEditing&&n.instructor.role===n.InstructorPermissionRole.INSTRUCTOR_PERMISSION_ROLE_CUSTOM),e.R7$(1),e.Y8G("ngIf",n.instructor.isEditing))},dependencies:[i.YU,i.Sq,i.bT,u.me,u.Zm,u.BC,u.tU,u.vS,I.md,j.y,_e,me.y,pe],styles:[".fill-plain[_ngcontent-%COMP%]{background-color:#eaeff5}.control-label[_ngcontent-%COMP%]{font-weight:700}@media (width >= 576px){.control-label[_ngcontent-%COMP%]{text-align:right}}.padding-0[_ngcontent-%COMP%]{padding:0}.margin-bottom-label[_ngcontent-%COMP%]{margin-bottom:.5rem}"]})}return o})(),ke=(()=>{class o{constructor(t){this.activeModal=t,this.role=S.vD.INSTRUCTOR_PERMISSION_ROLE_CUSTOM,this.instructorPrivilege={canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1}}static#e=this.\u0275fac=function(s){return new(s||o)(e.rXU(I.Lw))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["tm-view-role-privileges-model"]],inputs:{role:"role",instructorPrivilege:"instructorPrivilege"},decls:33,vars:11,consts:[[1,"modal-header"],["id","role-title",1,"modal-title"],["data-dismiss","modal","aria-hidden","true",1,"btn-close",3,"click"],["id","view-instr-role-modal",1,"modal-body"],[1,"row"],[1,"col-sm-6"],["disabled","","type","checkbox",3,"checked"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2),e.nI1(3,"instructorRoleName"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return n.activeModal.dismiss()}),e.k0s()(),e.j41(5,"div",3)(6,"div",4)(7,"div",5),e.nrm(8,"input",6),e.EFF(9," Edit/Delete/Restore Course "),e.k0s(),e.j41(10,"div",5),e.nrm(11,"input",6),e.EFF(12," Add/Edit/Delete Instructors "),e.k0s(),e.j41(13,"div",5),e.nrm(14,"input",6),e.EFF(15," Create/Edit/Delete/Restore Sessions "),e.k0s(),e.j41(16,"div",5),e.nrm(17,"input",6),e.EFF(18," Enroll/Edit/Delete Students "),e.k0s(),e.j41(19,"div",5),e.nrm(20,"input",6),e.EFF(21," View Students' Details "),e.nrm(22,"br"),e.k0s(),e.j41(23,"div",5),e.nrm(24,"input",6),e.EFF(25," Sessions: Submit Responses and Add Comments "),e.nrm(26,"br")(27,"input",6),e.EFF(28," Sessions: View Responses and Comments "),e.nrm(29,"br")(30,"input",6),e.EFF(31," Sessions: Edit/Delete Responses/Comments by others "),e.nrm(32,"br"),e.k0s()()()),2&s&&(e.R7$(2),e.SpI("Permissions for ",e.bMT(3,9,n.role),""),e.R7$(6),e.Y8G("checked",n.instructorPrivilege.canModifyCourse),e.R7$(3),e.Y8G("checked",n.instructorPrivilege.canModifyInstructor),e.R7$(3),e.Y8G("checked",n.instructorPrivilege.canModifySession),e.R7$(3),e.Y8G("checked",n.instructorPrivilege.canModifyStudent),e.R7$(3),e.Y8G("checked",n.instructorPrivilege.canViewStudentInSections),e.R7$(4),e.Y8G("checked",n.instructorPrivilege.canSubmitSessionInSections),e.R7$(3),e.Y8G("checked",n.instructorPrivilege.canViewSessionInSections),e.R7$(3),e.Y8G("checked",n.instructorPrivilege.canModifySessionCommentsInSections))},dependencies:[f.h]})}return o})();var G=a(64180),Le=a(92772),U=a(97451),X=a(21894),xe=a(44199),Ae=a(29205),$e=a(25552),we=a(73629),Be=a(86978),Ve=a(43743),Ye=a(89734),Ue=a(72709),Xe=a(6294),Je=a(53992),We=a(23386);function Ke(o,d){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"tm-course-edit-form",7),e.bIt("formModelChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.courseFormModel=n)})("deleteCourseEvent",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteCourse())})("updateCourseEvent",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveCourse())}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("formMode",t.CourseEditFormMode.EDIT)("formModel",t.courseFormModel)("resetFormEvent",t.resetCourseFormEvent)}}function ze(o,d){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"tm-instructor-edit-panel",9),e.bIt("instructorChange",function(n){const c=e.eBV(t).$implicit;return e.Njj(c.editPanel=n)})("viewRolePrivilegeModel",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.viewRolePrivilegeModel(n))})("deleteInstructor",function(){const r=e.eBV(t).index,c=e.XpG(2);return e.Njj(c.deleteInstructor(r))})("saveInstructor",function(){const r=e.eBV(t).index,c=e.XpG(2);return e.Njj(c.saveInstructor(r))})("cancelEditing",function(){const r=e.eBV(t).index,c=e.XpG(2);return e.Njj(c.cancelEditingInstructor(r))})("sendRemindJoinEmail",function(){const r=e.eBV(t).index,c=e.XpG(2);return e.Njj(c.resendReminderEmail(r))}),e.k0s(),e.nrm(2,"br"),e.bVm()}if(2&o){const t=d.$implicit,s=d.index,n=e.XpG(2);e.R7$(1),e.Y8G("editMode",n.EditMode.EDIT)("instructor",t.editPanel)("instructorIndex",s)("currInstructorCoursePrivilege",n.currInstructorCoursePrivilege)("allSections",n.allSections)("allSessions",n.allSessions)}}function He(o,d){if(1&o&&(e.j41(0,"div"),e.DNE(1,ze,3,6,"ng-container",8),e.k0s()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.instructorDetailPanels)}}function Qe(o,d){1&o&&e.nrm(0,"tm-ajax-loading")}function Ze(o,d){if(1&o){const t=e.RV6();e.j41(0,"div",10)(1,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isAddingNewInstructor=!0)}),e.EFF(2," Add New Instructor "),e.k0s(),e.j41(3,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.copyInstructors())}),e.DNE(4,Qe,1,0,"tm-ajax-loading",6),e.EFF(5,"Copy Instructors from Other Courses "),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("disabled",t.isCopyingInstructor),e.R7$(2),e.Y8G("disabled",!t.currInstructorCoursePrivilege.canModifyInstructor||t.isCopyingInstructor),e.R7$(1),e.Y8G("ngIf",t.isCopyingInstructor)}}function qe(o,d){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"tm-instructor-edit-panel",13),e.bIt("instructorChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.newInstructorPanel=n)})("viewRolePrivilegeModel",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.viewRolePrivilegeModel(n))})("saveInstructor",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNewInstructor())})("cancelEditing",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isAddingNewInstructor=!1)}),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("@collapseAnim",void 0),e.R7$(1),e.Y8G("editMode",t.EditMode.ADD)("instructor",t.newInstructorPanel)("instructorIndex",t.instructorDetailPanels.length)("isSavingNewInstructor",t.isSavingNewInstructor)("currInstructorCoursePrivilege",t.currInstructorCoursePrivilege)("allSections",t.allSections)("allSessions",t.allSessions)}}const et=function(o,d){return{questionId:o,section:d}};let tt=(()=>{class o{constructor(t,s,n,r,c,m,N,V,ut,_t){this.route=t,this.navigationService=s,this.studentService=n,this.instructorService=r,this.feedbackSessionsService=c,this.statusMessageService=m,this.courseService=N,this.authService=V,this.ngbModal=ut,this.simpleModalService=_t,this.EditMode=A,this.FormValidator=Le.t,this.CoursesSectionQuestions=Ae.V,this.Sections=$e.Z,this.CourseEditFormMode=U.ZG,this.courseId="",this.currInstructorGoogleId="",this.currInstructorCoursePrivilege={canModifyCourse:!0,canModifySession:!0,canModifyStudent:!0,canModifyInstructor:!0,canViewStudentInSections:!0,canModifySessionCommentsInSections:!0,canViewSessionInSections:!0,canSubmitSessionInSections:!0},this.instructorDetailPanels=[],this.isAddingNewInstructor=!1,this.isCopyingInstructor=!1,this.newInstructorPanel={googleId:"",courseId:"",email:"",isDisplayedToStudents:!0,displayedToStudentsAs:"Instructor",name:"",role:S.vD.INSTRUCTOR_PERMISSION_ROLE_COOWNER,joinState:S.SR.NOT_JOINED,permission:{privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sectionLevel:[]},isEditing:!0,isSavingInstructorEdit:!1},this.courseFormModel=(0,U.m2)(),this.resetCourseFormEvent=new e.bkB,this.allSections=[],this.allSessions=[],this.isCourseLoading=!1,this.hasCourseLoadingFailed=!1,this.isInstructorsLoading=!1,this.hasInstructorsLoadingFailed=!1,this.isSavingNewInstructor=!1}ngOnInit(){this.route.queryParams.subscribe(t=>{this.courseId=t.courseid,this.loadCourseInfo(),this.loadCurrInstructorInfo(),(0,v.p)([this.studentService.getStudentsFromCourse({courseId:this.courseId}),this.feedbackSessionsService.getFeedbackSessionsForInstructor(this.courseId)]).subscribe(s=>{const r=s[1];this.allSections=Array.from(new Set(s[0].students.map(c=>c.sectionName))),this.allSessions=r.feedbackSessions.map(c=>c.feedbackSessionName),this.loadCourseInstructors()})})}loadCourseInfo(){this.hasCourseLoadingFailed=!1,this.isCourseLoading=!0,this.courseService.getCourseAsInstructor(this.courseId).pipe((0,p.j)(()=>{this.isCourseLoading=!1})).subscribe({next:t=>{this.courseFormModel.course=t,this.courseFormModel.originalCourse={...t},this.currInstructorCoursePrivilege=t.privileges||(0,G.Ws)(),this.courseFormModel.canModifyCourse=this.currInstructorCoursePrivilege.canModifyCourse},error:t=>{this.hasCourseLoadingFailed=!0,this.statusMessageService.showErrorToast(t.error.message)}})}loadCurrInstructorInfo(){this.authService.getAuthUser().subscribe({next:t=>{this.currInstructorGoogleId=void 0===t.user?"":t.user.id},error:t=>{this.statusMessageService.showErrorToast(t.error.message)}})}deleteCourse(){this.courseService.binCourse(this.courseId).subscribe({next:t=>{this.navigationService.navigateWithSuccessMessage("/web/instructor/courses",`The course ${t.courseId} has been deleted. You can restore it from the Recycle Bin manually.`)},error:t=>{this.statusMessageService.showErrorToast(t.error.message)}})}onSaveCourse(){this.courseFormModel.isSaving=!0,this.courseService.updateCourse(this.courseId,{courseName:this.courseFormModel.course.courseName,timeZone:this.courseFormModel.course.timeZone}).pipe((0,p.j)(()=>{this.courseFormModel.isSaving=!1})).subscribe({next:t=>{this.statusMessageService.showSuccessToast("The course has been edited."),this.courseFormModel.isEditing=!1,this.courseFormModel.course=t,this.courseFormModel.originalCourse={...t}},error:t=>{this.statusMessageService.showErrorToast(t.error.message)}}),this.resetCourseFormEvent.emit()}loadCourseInstructors(){this.hasInstructorsLoadingFailed=!1,this.isInstructorsLoading=!0,this.instructorService.loadInstructors({courseId:this.courseId,intent:D.JD.FULL_DETAIL}).subscribe({next:t=>{this.instructorDetailPanels=t.instructors.map(s=>({originalInstructor:{...s},originalPanel:this.getInstructorEditPanelModel(s),editPanel:this.getInstructorEditPanelModel(s),isSavingInstructorEdit:!1})),this.instructorDetailPanels.forEach(s=>{this.loadPermissionForInstructor(s)})},error:t=>{this.hasInstructorsLoadingFailed=!0,this.statusMessageService.showErrorToast(t.error.message)}})}getInstructorEditPanelModel(t){return{googleId:t.googleId,courseId:t.courseId,email:t.email,isDisplayedToStudents:t.isDisplayedToStudents,displayedToStudentsAs:t.displayedToStudentsAs,name:t.name,role:t.role,joinState:t.joinState,permission:{privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sectionLevel:[]},isEditing:!1,isSavingInstructorEdit:!1}}viewRolePrivilegeModel(t){const s=this.ngbModal.open(ke);let n;switch(s.result.then(()=>{},()=>{}),t){case S.vD.INSTRUCTOR_PERMISSION_ROLE_COOWNER:n=(0,G.GK)();break;case S.vD.INSTRUCTOR_PERMISSION_ROLE_MANAGER:n=(0,G.ad)();break;case S.vD.INSTRUCTOR_PERMISSION_ROLE_OBSERVER:n=(0,G.hQ)();break;case S.vD.INSTRUCTOR_PERMISSION_ROLE_TUTOR:n=(0,G.DR)();break;default:n=(0,G.Ws)()}s.componentInstance.instructorPrivilege=n,s.componentInstance.role=t}cancelEditingInstructor(t){const s=this.instructorDetailPanels[t];s.editPanel=JSON.parse(JSON.stringify(s.originalPanel)),s.editPanel.isSavingInstructorEdit=!1,s.editPanel.isEditing=!1}saveInstructor(t){const s=this.instructorDetailPanels[t];s.editPanel.isSavingInstructorEdit=!0,this.instructorService.updateInstructor({courseId:s.originalInstructor.courseId,requestBody:{id:s.originalInstructor.joinState===S.SR.JOINED?s.originalInstructor.googleId:void 0,name:s.editPanel.name,email:s.originalInstructor.joinState===S.SR.JOINED?s.editPanel.email:s.originalInstructor.email,role:s.editPanel.role,displayName:s.editPanel.displayedToStudentsAs,isDisplayedToStudent:s.editPanel.isDisplayedToStudents}}).pipe((0,p.j)(()=>{s.editPanel.isSavingInstructorEdit=!1})).subscribe({next:r=>{s.editPanel.isEditing=!1,s.originalInstructor={...r};const c=s.editPanel.permission;s.editPanel=this.getInstructorEditPanelModel(r),s.editPanel.permission=c,this.updatePrivilegeForInstructor(s.originalInstructor,s.editPanel.permission),this.statusMessageService.showSuccessToast(`The instructor ${r.name} has been updated.`)},error:r=>{this.statusMessageService.showErrorToast(r.error.message)}}),s.originalPanel=JSON.parse(JSON.stringify(s.editPanel))}deleteInstructor(t){const s=this.instructorDetailPanels[t];this.simpleModalService.openConfirmationModal(`Delete instructor <strong>${s.originalInstructor.name}</strong>?`,X.i.DANGER,s.originalInstructor.googleId===this.currInstructorGoogleId?`Are you sure you want to delete your instructor role\n        from the course <strong>${s.originalInstructor.courseId}</strong>?\n        You will not be able to access the course anymore.`:`Are you sure you want to delete the instructor <strong>${s.originalInstructor.name}</strong>\n        from the course <strong>${s.originalInstructor.courseId}</strong>?\n        He/she will not be able to access the course anymore.`).result.then(()=>{this.instructorService.deleteInstructor({courseId:s.originalInstructor.courseId,instructorEmail:s.originalInstructor.email}).subscribe({next:()=>{s.originalInstructor.googleId===this.currInstructorGoogleId?this.navigationService.navigateWithSuccessMessage("/web/instructor/courses","Instructor is successfully deleted."):(this.instructorDetailPanels.splice(t,1),this.statusMessageService.showSuccessToast("Instructor is successfully deleted."))},error:m=>{this.statusMessageService.showErrorToast(m.error.message)}})},()=>{})}resendReminderEmail(t){const s=this.instructorDetailPanels[t];this.simpleModalService.openConfirmationModal("Re-send invitation email?",X.i.INFO,`Do you wish to re-send the invitation email to instructor\n      ${s.originalInstructor.name} from course ${s.originalInstructor.courseId}?`).result.then(()=>{this.courseService.remindInstructorForJoin(s.originalInstructor.courseId,s.originalInstructor.email).subscribe({next:c=>{this.statusMessageService.showSuccessToast(c.message)},error:c=>{this.statusMessageService.showErrorToast(c.error.message)}})},()=>{})}addNewInstructor(){this.isSavingNewInstructor=!0,this.instructorService.createInstructor({courseId:this.courseId,requestBody:{name:this.newInstructorPanel.name,email:this.newInstructorPanel.email,role:this.newInstructorPanel.role,displayName:this.newInstructorPanel.displayedToStudentsAs,isDisplayedToStudent:this.newInstructorPanel.isDisplayedToStudents}}).pipe((0,p.j)(()=>{this.isSavingNewInstructor=!1})).subscribe({next:s=>{const n={originalInstructor:{...s},originalPanel:this.getInstructorEditPanelModel(s),editPanel:this.getInstructorEditPanelModel(s)};n.editPanel.permission=this.newInstructorPanel.permission,n.originalPanel=JSON.parse(JSON.stringify(n.editPanel)),this.instructorDetailPanels.push(n),this.statusMessageService.showSuccessToast(`The instructor ${s.name} has been added successfully. An email containing how to 'join' this course will be sent to ${s.email} in a few minutes.`),this.updatePrivilegeForInstructor(n.originalInstructor,n.editPanel.permission),this.isAddingNewInstructor=!1,this.newInstructorPanel={googleId:"",courseId:"",email:"",isDisplayedToStudents:!0,displayedToStudentsAs:"",name:"",role:S.vD.INSTRUCTOR_PERMISSION_ROLE_COOWNER,joinState:S.SR.NOT_JOINED,permission:{privilege:{canModifyCourse:!0,canModifySession:!0,canModifyStudent:!0,canModifyInstructor:!0,canViewStudentInSections:!0,canModifySessionCommentsInSections:!0,canViewSessionInSections:!0,canSubmitSessionInSections:!0},sectionLevel:[]},isEditing:!0,isSavingInstructorEdit:!1}},error:s=>{this.statusMessageService.showErrorToast(s.error.message)}})}loadPermissionForInstructor(t){const s=t.originalInstructor,n=t.editPanel.permission;s.role===S.vD.INSTRUCTOR_PERMISSION_ROLE_CUSTOM?this.instructorService.loadInstructorPrivilege({courseId:s.courseId,instructorEmail:s.email}).subscribe(r=>{n.privilege=r.privileges.courseLevel,this.allSections.forEach(c=>{const m={sectionNames:[c],privilege:r.privileges.sectionLevel[c]||n.privilege,sessionLevel:[]};this.allSessions.forEach(N=>{m.sessionLevel.push({sessionName:N,privilege:(r.privileges.sessionLevel[c]||{})[N]||m.privilege})}),n.sectionLevel.push(m)}),n.sectionLevel=n.sectionLevel.filter(c=>c.privilege.canViewStudentInSections!==n.privilege.canViewStudentInSections||c.privilege.canModifySessionCommentsInSections!==n.privilege.canModifySessionCommentsInSections||c.privilege.canViewSessionInSections!==n.privilege.canViewSessionInSections||c.privilege.canSubmitSessionInSections!==n.privilege.canSubmitSessionInSections||c.sessionLevel.some(m=>c.privilege.canModifySessionCommentsInSections!==m.privilege.canModifySessionCommentsInSections||c.privilege.canViewSessionInSections!==m.privilege.canViewSessionInSections||c.privilege.canSubmitSessionInSections!==m.privilege.canSubmitSessionInSections)),n.sectionLevel.forEach(c=>{c.sessionLevel.every(m=>c.privilege.canModifySessionCommentsInSections===m.privilege.canModifySessionCommentsInSections&&c.privilege.canViewSessionInSections===m.privilege.canViewSessionInSections&&c.privilege.canSubmitSessionInSections===m.privilege.canSubmitSessionInSections)&&(c.sessionLevel=[])}),t.originalPanel=JSON.parse(JSON.stringify(t.editPanel))}):this.isInstructorsLoading=!1}updatePrivilegeForInstructor(t,s){if(t.role!==S.vD.INSTRUCTOR_PERMISSION_ROLE_CUSTOM)return;const n={courseLevel:s.privilege,sectionLevel:{},sessionLevel:{}};s.sectionLevel.forEach(r=>{r.sectionNames.forEach(c=>{n.sectionLevel[c]=r.privilege,n.sessionLevel[c]={},r.sessionLevel.forEach(m=>{n.sessionLevel[c][m.sessionName]=m.privilege})})}),this.instructorService.updateInstructorPrivilege({courseId:t.courseId,instructorEmail:t.email,requestBody:{privileges:n}}).subscribe({next:()=>{s.sectionLevel=s.sectionLevel.filter(r=>0!==r.sectionNames.length)},error:r=>{this.statusMessageService.showErrorToast(r.error.message)}})}copyInstructors(){this.isCopyingInstructor=!0;const t=[];(0,v.p)([this.courseService.getAllCoursesAsInstructor("active"),this.courseService.getAllCoursesAsInstructor("archived")]).subscribe({next:s=>{const r=s[1];s[0].courses.forEach(c=>{c.courseId!==this.courseId&&c.institute===this.courseFormModel.course.institute&&t.push({courseId:c.courseId,courseName:c.courseName,creationTimestamp:c.creationTimestamp,isArchived:!1,instructorCandidates:[],instructorCandidatesSortBy:E.g.NONE,instructorCandidatesSortOrder:E.x.ASC,hasInstructorsLoaded:!1,isTabExpanded:!1,hasLoadingFailed:!1})}),r.courses.forEach(c=>{c.courseId!==this.courseId&&c.institute===this.courseFormModel.course.institute&&t.push({courseId:c.courseId,courseName:c.courseName,creationTimestamp:c.creationTimestamp,isArchived:!0,instructorCandidates:[],instructorCandidatesSortBy:E.g.NONE,instructorCandidatesSortOrder:E.x.ASC,hasInstructorsLoaded:!1,isTabExpanded:!1,hasLoadingFailed:!1})})},error:s=>{this.isCopyingInstructor=!1,this.statusMessageService.showErrorToast(s.error.message)},complete:()=>{const s=this.ngbModal.open(oe);s.componentInstance.courses=t,s.dismissed.subscribe(()=>{this.isCopyingInstructor=!1}),s.componentInstance.copyClickedEvent.subscribe(n=>{this.verifyInstructorsToCopy(n).subscribe(r=>{r?this.addNewInstructors(n,s):s.componentInstance.isCopyingSelectedInstructors=!1})})}})}addNewInstructors(t,s){(0,l.of)(...t).pipe((0,M.H)(n=>this.instructorService.createInstructor({courseId:this.courseId,requestBody:{name:n.name,email:n.email,role:n.role,displayName:n.displayedToStudentsAs,isDisplayedToStudent:n.isDisplayedToStudents}})),(0,p.j)(()=>{this.isCopyingInstructor=!1,s.componentInstance.isCopyingSelectedInstructors=!1,s.close()})).subscribe({next:n=>{const r={originalInstructor:{...n},originalPanel:this.getInstructorEditPanelModel(n),editPanel:this.getInstructorEditPanelModel(n)};r.editPanel.permission=this.newInstructorPanel.permission,r.originalPanel=JSON.parse(JSON.stringify(r.editPanel)),this.instructorDetailPanels.push(r)},error:n=>{this.statusMessageService.showErrorToast(n.error.message)},complete:()=>{this.statusMessageService.showSuccessToast("The selected instructor(s) have been added successfully. An email containing how to 'join' this course will be sent to them in a few minutes.")}})}verifyInstructorsToCopy(t){return(0,v.p)([this.instructorService.loadInstructors({courseId:this.courseId,intent:D.JD.FULL_DETAIL})]).pipe((0,T.T)(s=>{const n=t.concat(s[0].instructors),r=new Set;for(const c of n){if(r.has(c.email))return this.statusMessageService.showErrorToast(`An instructor with email address ${c.email} already exists in the course and/or you have selected more than one instructor with this email address.`),!1;r.add(c.email)}return!0}))}static#e=this.\u0275fac=function(s){return new(s||o)(e.rXU(h.nX),e.rXU(we.o),e.rXU(Be.b),e.rXU(L.p),e.rXU(Ve.u),e.rXU(k.x),e.rXU(Ye.f),e.rXU(Ue.u),e.rXU(I.Bq),e.rXU(Xe.r))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["tm-instructor-course-edit-page"]],decls:10,vars:12,consts:[[3,"shouldShowRetry","message","retryEvent"],[4,"tmIsLoading"],[1,"right","top-padded"],["tmRouterLink","/web/instructor/help","rel","noopener noreferrer","target","_blank",1,"small",3,"queryParams"],["aria-hidden","true",1,"fa","fa-info-circle"],["class","card-body text-center",4,"ngIf"],[4,"ngIf"],[3,"formMode","formModel","resetFormEvent","formModelChange","deleteCourseEvent","updateCourseEvent"],[4,"ngFor","ngForOf"],[3,"editMode","instructor","instructorIndex","currInstructorCoursePrivilege","allSections","allSessions","instructorChange","viewRolePrivilegeModel","deleteInstructor","saveInstructor","cancelEditing","sendRemindJoinEmail"],[1,"card-body","text-center"],["id","btn-add-instructor","type","button",1,"btn","btn-success","mx-2","my-1",3,"disabled","click"],["id","btn-copy-instructor","type","button",1,"btn","btn-info","mx-2","my-1",3,"disabled","click"],[3,"editMode","instructor","instructorIndex","isSavingNewInstructor","currInstructorCoursePrivilege","allSections","allSessions","instructorChange","viewRolePrivilegeModel","saveInstructor","cancelEditing"]],template:function(s,n){1&s&&(e.j41(0,"tm-loading-retry",0),e.bIt("retryEvent",function(){return n.loadCourseInfo()}),e.DNE(1,Ke,2,3,"div",1),e.k0s(),e.j41(2,"tm-loading-retry",0),e.bIt("retryEvent",function(){return n.loadCourseInstructors()}),e.j41(3,"div",2)(4,"a",3),e.nrm(5,"i",4),e.EFF(6," More about configuring access permissions "),e.k0s()(),e.DNE(7,He,2,1,"div",1),e.k0s(),e.DNE(8,Ze,6,3,"div",5),e.DNE(9,qe,2,8,"div",6)),2&s&&(e.Y8G("shouldShowRetry",n.hasCourseLoadingFailed)("message","Failed to load course"),e.R7$(1),e.Y8G("tmIsLoading",n.isCourseLoading),e.R7$(1),e.Y8G("shouldShowRetry",n.hasInstructorsLoadingFailed)("message","Failed to load instructors of course"),e.R7$(2),e.Y8G("queryParams",e.l_i(9,et,n.CoursesSectionQuestions.COURSE_INSTRUCTOR_ACCESS,n.Sections.courses)),e.R7$(3),e.Y8G("tmIsLoading",n.isInstructorsLoading),e.R7$(1),e.Y8G("ngIf",!n.isAddingNewInstructor),e.R7$(1),e.Y8G("ngIf",n.isAddingNewInstructor))},dependencies:[i.Sq,i.bT,x.n,j.y,g.Y,Je.y,We.b,je],data:{animation:[xe.j]}})}return o})();var nt=a(85385),st=a(10893),it=a(34029),ot=a(84309),rt=a(57125),ct=a(44661),at=a(48381);const lt=[{path:"",component:tt}];let dt=(()=>{class o{static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[i.MD,u.YN,h.iI.forChild(lt),I.n8,ct.x,ot.y,nt.D,it.Z,at.d,rt.o,st.y]})}return o})()},21036:(O,C,a)=>{a.d(C,{p:()=>I});var i=a(8059),u=a(17705),h=a(16507);let I=(()=>{class e{constructor(l){this.httpRequestService=l}loadInstructors(l){const p={courseid:l.courseId};return l.intent&&(p.intent=l.intent),this.httpRequestService.get(i.Ld.INSTRUCTORS,p)}getInstructor(l){const p={courseid:l.courseId,intent:l.intent};return l.feedbackSessionName&&(p.fsname=l.feedbackSessionName),l.key&&(p.key=l.key),l.moderatedPerson&&(p.moderatedperson=l.moderatedPerson),l.previewAs&&(p.previewas=l.previewAs),this.httpRequestService.get(i.Ld.INSTRUCTOR,p)}createInstructor(l){return this.httpRequestService.post(i.Ld.INSTRUCTOR,{courseid:l.courseId},l.requestBody)}updateInstructor(l){return this.httpRequestService.put(i.Ld.INSTRUCTOR,{courseid:l.courseId},l.requestBody)}deleteInstructor(l){const p={courseid:l.courseId};return l.instructorEmail&&(p.instructoremail=l.instructorEmail),l.instructorId&&(p.instructorid=l.instructorId),this.httpRequestService.delete(i.Ld.INSTRUCTOR,p)}loadInstructorPrivilege(l){const p={courseid:l.courseId};return l.instructorEmail&&(p.instructoremail=l.instructorEmail),l.instructorId&&(p.instructorid=l.instructorId),this.httpRequestService.get(i.Ld.INSTRUCTOR_PRIVILEGE,p)}updateInstructorPrivilege(l){return this.httpRequestService.put(i.Ld.INSTRUCTOR_PRIVILEGE,{courseid:l.courseId,instructoremail:l.instructorEmail},l.requestBody)}regenerateInstructorKey(l,p){return this.httpRequestService.post(i.Ld.INSTRUCTOR_KEY,{courseid:l,instructoremail:p})}static#e=this.\u0275fac=function(p){return new(p||e)(u.KVO(h.R))};static#t=this.\u0275prov=u.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},58240:(O,C,a)=>{a.d(C,{W:()=>h});var i=a(21413),u=a(17705);let h=(()=>{class I{constructor(){this.progressPercentage=new i.B}updateProgress(v){this.progressPercentage.next(v)}static#e=this.\u0275fac=function(l){return new(l||I)};static#t=this.\u0275prov=u.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},6294:(O,C,a)=>{a.d(C,{r:()=>j});var i=a(17705),u=a(21894),h=a(94227),I=a(60177),e=a(17422);function v(g,P){1&g&&i.nrm(0,"i",15)}function l(g,P){1&g&&i.nrm(0,"i",16)}function p(g,P){1&g&&i.nrm(0,"i",17)}function M(g,P){1&g&&i.eu8(0)}function T(g,P){if(1&g&&(i.j41(0,"div"),i.DNE(1,M,1,0,"ng-container",18),i.k0s()),2&g){const f=i.XpG();i.R7$(1),i.Y8G("ngTemplateOutlet",f.content)}}function S(g,P){if(1&g&&i.nrm(0,"div",19),2&g){const f=i.XpG();i.Y8G("innerHTML",f.content,i.npT)}}function D(g,P){1&g&&(i.j41(0,"div",20),i.nrm(1,"tm-progress-bar"),i.k0s())}function E(g,P){if(1&g){const f=i.RV6();i.j41(0,"button",21),i.bIt("click",function(){i.eBV(f);const _=i.XpG();return i.Njj(_.activeModal.dismiss())}),i.EFF(1),i.k0s()}if(2&g){const f=i.XpG();i.R7$(1),i.SpI(" ",f.cancelMessage," ")}}const k=function(g){return{"display-none":g}},L=function(g,P,f,b){return{"bg-danger":g,"bg-warning":P,"bg-info":f,"bg-white":b}},$=function(g,P,f,b){return{"btn-danger":g,"btn-warning":P,"btn-info":f,"btn-primary":b}};let x=(()=>{class g{get isTemplate(){return this.content instanceof i.C4Q}constructor(f){this.activeModal=f,this.SimpleModalType=u.i,this.header="",this.content="",this.type=u.i.NEUTRAL,this.isInformationOnly=!1,this.confirmMessage="Yes",this.cancelMessage="No, cancel the operation"}static#e=this.\u0275fac=function(b){return new(b||g)(i.rXU(h.Lw))};static#t=this.\u0275cmp=i.VBU({type:g,selectors:[["tm-confirmation-modal"]],inputs:{header:"header",content:"content",type:"type",isInformationOnly:"isInformationOnly",confirmMessage:"confirmMessage",cancelMessage:"cancelMessage"},decls:17,vars:24,consts:[[1,"transparent-overlay",3,"ngClass"],[1,"modal-header",3,"ngClass"],[1,"modal-title"],["class","fas fa-times-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],[1,"margin-left-5px",3,"innerHTML"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-light modal-btn-cancel",3,"click",4,"ngIf"],["type","button",1,"btn","modal-btn-ok","z-index-1",3,"ngClass","click"],[1,"fas","fa-times-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[4,"ngTemplateOutlet"],[3,"innerHTML"],[1,"progress-bar-container"],["type","button",1,"btn","btn-light","modal-btn-cancel",3,"click"]],template:function(b,_){1&b&&(i.nrm(0,"div",0),i.j41(1,"div",1)(2,"div")(3,"h5",2),i.DNE(4,v,1,0,"i",3),i.DNE(5,l,1,0,"i",4),i.DNE(6,p,1,0,"i",5),i.nrm(7,"span",6),i.k0s()(),i.j41(8,"button",7),i.bIt("click",function(){return _.type===_.SimpleModalType.LOAD?_.activeModal.close():_.activeModal.dismiss()}),i.k0s()(),i.j41(9,"div",8),i.DNE(10,T,2,1,"div",9),i.DNE(11,S,1,1,"div",10),i.DNE(12,D,2,0,"div",11),i.k0s(),i.j41(13,"div",12),i.DNE(14,E,2,1,"button",13),i.j41(15,"button",14),i.bIt("click",function(){return _.activeModal.close()}),i.EFF(16),i.k0s()()),2&b&&(i.Y8G("ngClass",i.eq3(12,k,_.type!==_.SimpleModalType.LOAD)),i.R7$(1),i.Y8G("ngClass",i.ziG(14,L,_.type===_.SimpleModalType.DANGER,_.type===_.SimpleModalType.WARNING,_.type===_.SimpleModalType.INFO||_.type===_.SimpleModalType.LOAD,_.type===_.SimpleModalType.NEUTRAL)),i.R7$(3),i.Y8G("ngIf",_.type===_.SimpleModalType.DANGER),i.R7$(1),i.Y8G("ngIf",_.type===_.SimpleModalType.WARNING),i.R7$(1),i.Y8G("ngIf",_.type===_.SimpleModalType.INFO||_.type===_.SimpleModalType.LOAD),i.R7$(1),i.Y8G("innerHTML",_.header,i.npT),i.R7$(3),i.Y8G("ngIf",_.isTemplate),i.R7$(1),i.Y8G("ngIf",!_.isTemplate),i.R7$(1),i.Y8G("ngIf",_.type===_.SimpleModalType.LOAD),i.R7$(2),i.Y8G("ngIf",!_.isInformationOnly),i.R7$(1),i.Y8G("ngClass",i.ziG(19,$,_.type===_.SimpleModalType.DANGER||_.type===_.SimpleModalType.LOAD,_.type===_.SimpleModalType.WARNING,_.type===_.SimpleModalType.INFO,_.type===_.SimpleModalType.NEUTRAL)),i.R7$(1),i.JRh(_.confirmMessage))},dependencies:[I.YU,I.bT,I.T3,e.a],styles:[".margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.progress-bar-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2px}.transparent-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;visibility:false;z-index:0}.display-none[_ngcontent-%COMP%]{display:none}.z-index-1[_ngcontent-%COMP%]{z-index:1}"]})}return g})(),j=(()=>{class g{constructor(f){this.ngbModal=f}open(f,b,_,R,F){const y=this.ngbModal.open(x,F);return y.componentInstance.header=f,y.componentInstance.content=_,y.componentInstance.type=b,R&&(Object.entries(R).forEach(([w,B])=>{y.componentInstance[w]=B}),R.onClosed&&(y.closed.subscribe(()=>{R.onClosed()}),y.dismissed.subscribe(()=>{R.onClosed()}))),y}openConfirmationModal(f,b,_,R,F){const y={isInformationOnly:!1,confirmMessage:"Yes",cancelMessage:"No, cancel the operation",...R};return this.open(f,b,_,y,F)}openInformationModal(f,b,_,R,F){const y={isInformationOnly:!0,confirmMessage:"OK",...R};return this.open(f,b,_,y,F)}openLoadingModal(f,b,_,R,F){const y={isInformationOnly:!0,confirmMessage:"Abort",...R};return this.open(f,b,_,y,F)}static#e=this.\u0275fac=function(b){return new(b||g)(i.KVO(h.Bq))};static#t=this.\u0275prov=i.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},64180:(O,C,a)=>{a.d(C,{DR:()=>e,GK:()=>u,Ws:()=>v,ad:()=>h,hQ:()=>I});var i=a(8059);const u=()=>JSON.parse(i.PE.COOWNER),h=()=>JSON.parse(i.PE.MANAGER),I=()=>JSON.parse(i.PE.OBSERVER),e=()=>JSON.parse(i.PE.TUTOR),v=()=>JSON.parse(i.PE.CUSTOM)}}]);