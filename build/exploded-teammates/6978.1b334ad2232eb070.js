"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[6978],{78613:(p,M,t)=>{t.d(M,{K:()=>E});var c=t(40035),n=t(17705);let E=(()=>{class e{transform(C){switch(C){case c.SR.JOINED:return"Joined";case c.SR.NOT_JOINED:return"Yet to Join";default:return"Unknown"}}static#E=this.\u0275fac=function(R){return new(R||e)};static#e=this.\u0275pipe=n.EJ8({name:"joinState",type:e,pure:!0})}return e})()},89734:(p,M,t)=>{t.d(M,{f:()=>C});var c=t(27468),n=t(96354),E=t(8059),e=t(17705),A=t(16507);let C=(()=>{class R{constructor(T){this.httpRequestService=T}getAllCoursesAsInstructor(T){return this.httpRequestService.get(E.Ld.COURSES,{entitytype:"instructor",coursestatus:T})}getCourseAsInstructor(T,_){const s={courseid:T,entitytype:"instructor"};return _&&(s.key=_),this.httpRequestService.get(E.Ld.COURSE,s)}getAllCoursesAsStudent(){return this.httpRequestService.get(E.Ld.COURSES,{entitytype:"student"})}getCourseAsStudent(T,_){const s={courseid:T,entitytype:"student"};return _&&(s.key=_),this.httpRequestService.get(E.Ld.COURSE,s)}getStudentCoursesInMasqueradeMode(T){return this.httpRequestService.get(E.Ld.COURSES,{entitytype:"student",user:T})}getInstructorCoursesInMasqueradeMode(T){const s={coursestatus:"archived",entitytype:"instructor",user:T};return(0,c.p)([this.httpRequestService.get(E.Ld.COURSES,{coursestatus:"active",entitytype:"instructor",user:T}),this.httpRequestService.get(E.Ld.COURSES,s)]).pipe((0,n.T)(N=>({courses:N[0].courses.concat(N[1].courses)})))}getInstructorCoursesThatAreActive(){return this.httpRequestService.get(E.Ld.COURSES,{entitytype:"instructor",coursestatus:"active"})}createCourse(T,_){return this.httpRequestService.post(E.Ld.COURSE,{instructorinstitution:T},_)}updateCourse(T,_){return this.httpRequestService.put(E.Ld.COURSE,{courseid:T},_)}deleteCourse(T){return this.httpRequestService.delete(E.Ld.COURSE,{courseid:T})}changeArchiveStatus(T,_){return this.httpRequestService.put(E.Ld.COURSE_ARCHIVE,{courseid:T},_)}binCourse(T){return this.httpRequestService.put(E.Ld.BIN_COURSE,{courseid:T})}restoreCourse(T){return this.httpRequestService.delete(E.Ld.BIN_COURSE,{courseid:T})}getJoinCourseStatus(T,_,s){const N={key:T,entitytype:_};return s&&(N.iscreatingaccount="true"),this.httpRequestService.get(E.Ld.JOIN,N)}joinCourse(T,_){return this.httpRequestService.put(E.Ld.JOIN,{key:T,entitytype:_})}remindUnregisteredStudentsForJoin(T){return this.httpRequestService.post(E.Ld.JOIN_REMIND,{courseid:T})}remindStudentForJoin(T,_){return this.httpRequestService.post(E.Ld.JOIN_REMIND,{courseid:T,studentemail:_})}remindInstructorForJoin(T,_){return this.httpRequestService.post(E.Ld.JOIN_REMIND,{courseid:T,instructoremail:_})}hasResponsesForCourse(T){return this.httpRequestService.get(E.Ld.HAS_RESPONSES,{entitytype:"instructor",courseid:T})}removeStudentFromCourse(T,_){return this.httpRequestService.delete(E.Ld.STUDENT,{courseid:T,studentemail:_})}getCourseSectionNames(T){return this.httpRequestService.get(E.Ld.COURSE_SECTIONS,{courseid:T})}calculateCourseStatistics(T){const _=new Set,s=new Set;return T.forEach(N=>{_.add(N.teamName),s.add(N.sectionName)}),{numOfSections:s.size,numOfTeams:_.size,numOfStudents:T.length}}static#E=this.\u0275fac=function(_){return new(_||R)(e.KVO(A.R))};static#e=this.\u0275prov=e.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},97653:(p,M,t)=>{t.d(M,{F:()=>n});class n{static convertCsvContentsToCsvString(e){return e.map(A=>A.map(C=>C.indexOf("\r")>=0||C.indexOf("\n")>=0||C.indexOf(",")>=0||C.indexOf('"')>=0?`"${C.replace(/"/g,'""')}"`:C).join(",")).join("\r\n")}}},86978:(p,M,t)=>{t.d(M,{b:()=>s});var c=t(73028),n=t(96354),E=t(97653),e=t(78613),A=t(8059),C=t(26195),R=t(17705),U=t(16507),T=t(16),_=t(89734);let s=(()=>{class N{constructor(I,a,O){this.httpRequestService=I,this.tableComparatorService=a,this.courseService=O}getStudentsFromCourse(I){const a={courseid:I.courseId};return I.teamName&&(a.teamname=I.teamName),this.httpRequestService.get(A.Ld.STUDENTS,a)}getStudent(I,a,O){const i={courseid:I};return a&&(i.studentemail=a),O&&(i.key=O),this.httpRequestService.get(A.Ld.STUDENT,i)}updateStudent(I){return this.httpRequestService.put(A.Ld.STUDENT,{courseid:I.courseId,studentemail:I.studentEmail},I.requestBody)}deleteStudent(I){return this.httpRequestService.delete(A.Ld.STUDENT,{googleid:I.googleId,courseid:I.courseId})}regenerateStudentKey(I,a){return this.httpRequestService.post(A.Ld.STUDENT_KEY,{courseid:I,studentemail:a})}enrollStudents(I,a){return this.httpRequestService.put(A.Ld.STUDENTS,{courseid:I},a)}getStudentsFromCourseAndTeam(I,a){return this.httpRequestService.get(A.Ld.STUDENTS,{courseid:I,teamname:a})}batchDeleteStudentsFromCourse(I){const a={courseid:I.courseId,limit:I.limit.toString()};return this.httpRequestService.delete(A.Ld.STUDENTS,a)}loadStudentListAsCsv(I){return this.courseService.getCourseAsInstructor(I.courseId).pipe((0,c.Z)(a=>this.getStudentsFromCourse({courseId:I.courseId}).pipe((0,n.T)(O=>this.processStudentsToCsv(a.courseId,a.courseName,O.students)))))}processStudentsToCsv(I,a,O){const i=[];i.push(["Course ID",I]),i.push(["Course Name",a]),i.push([]);const L=O.some(u=>"None"!==u.sectionName&&""!==u.sectionName),P=["Team","Name","Status","Email"];i.push(L?["Section"].concat(P):P),O.sort((u,r)=>this.tableComparatorService.compare(C.g.SECTION_NAME,C.x.ASC,u.sectionName,r.sectionName)||this.tableComparatorService.compare(C.g.TEAM_NAME,C.x.ASC,u.teamName,r.teamName)||this.tableComparatorService.compare(C.g.RESPONDENT_NAME,C.x.ASC,u.name,r.name));const D=new e.K;return O.forEach(u=>{const r=[u.teamName?u.teamName:"",u.name,D.transform(u.joinState),u.email];i.push(L?[u.sectionName].concat(r):r)}),E.F.convertCsvContentsToCsvString(i)}static#E=this.\u0275fac=function(a){return new(a||N)(R.KVO(U.R),R.KVO(T.C),R.KVO(_.f))};static#e=this.\u0275prov=R.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},16:(p,M,t)=>{t.d(M,{C:()=>C});var c=t(96508),n=t.n(c),E=t(94089),e=t(26195),A=t(17705);let C=(()=>{class R{compareChronologically(T,_,s){const N=n()(T),S=n()(_);return N.isValid()?S.isValid()?s===e.x.ASC?N.diff(S):s===e.x.DESC?S.diff(N):0:-1:1}compareLexicographically(T,_,s){return s===e.x.ASC?T.localeCompare(_):s===e.x.DESC?_.localeCompare(T):0}compareNaturally(T,_,s){return s===e.x.ASC?T.localeCompare(_,void 0,{numeric:!0}):s===e.x.DESC?_.localeCompare(T,void 0,{numeric:!0}):0}compareNumbers(T,_,s){const N=Number(T),S=Number(_);return Number.isNaN(N)?1:Number.isNaN(S)?-1:(s===e.x.DESC?-1:1)*Math.sign(N-S)}compareRoles(T,_,s){const N=Object.keys(E.vD),S=N.indexOf(T),I=N.indexOf(_);return Number.isNaN(S)?1:Number.isNaN(I)?-1:(s===e.x.DESC?-1:1)*Math.sign(I-S)}compare(T,_,s,N){switch(T){case e.g.CONTRIBUTION_TEAM:case e.g.CONTRIBUTION_VALUE:case e.g.RUBRIC_SUBQUESTION:case e.g.RUBRIC_CHOICE:case e.g.RANK_RECIPIENTS_TEAM:case e.g.RANK_RECIPIENTS_RECIPIENT:case e.g.MCQ_TEAM:case e.g.MCQ_OPTION_SELECTED_TIMES:case e.g.MSQ_TEAM:case e.g.MSQ_OPTION_SELECTED_TIMES:case e.g.SECTION_NAME:case e.g.TEAM_NAME:case e.g.SESSION_NAME:case e.g.GIVER_TEAM:case e.g.RECIPIENT_TEAM:case e.g.INSTRUCTOR_DISPLAYED_TEXT:return this.compareNaturally(s,N,_);case e.g.CONSTSUM_OPTIONS_OPTION:case e.g.CONTRIBUTION_RECIPIENT:case e.g.COMMENTS_CREATION_DATE:case e.g.RANK_OPTIONS_OPTION:case e.g.MCQ_CHOICE:case e.g.MCQ_RECIPIENT_NAME:case e.g.MSQ_CHOICE:case e.g.MSQ_RECIPIENT_NAME:case e.g.RESPONDENT_NAME:case e.g.RESPONDENT_EMAIL:case e.g.JOIN_STATUS:case e.g.COURSE_ID:case e.g.COURSE_NAME:case e.g.COURSE_CREATION_DATE:case e.g.SESSION_COMPLETION_STATUS:case e.g.SESSION_START_DATE:case e.g.SESSION_END_DATE:case e.g.SESSION_CREATION_DATE:case e.g.SESSION_DELETION_DATE:case e.g.NOTIFICATION_START_TIME:case e.g.NOTIFICATION_END_TIME:case e.g.NOTIFICATION_CREATE_TIME:case e.g.NOTIFICATION_TITLE:case e.g.NOTIFICATION_TARGET_USER:case e.g.NOTIFICATION_STYLE:case e.g.QUESTION_TYPE:case e.g.QUESTION_TEXT:case e.g.GIVER_NAME:case e.g.RECIPIENT_NAME:case e.g.LOG_TYPE:case e.g.RESULT_VIEW_STATUS:return this.compareLexicographically(s,N,_);case e.g.MCQ_RESPONSE_COUNT:case e.g.MSQ_RESPONSE_COUNT:case e.g.RANK_OPTIONS_OVERALL_RANK:case e.g.RANK_RECIPIENTS_SELF_RANK:case e.g.RANK_RECIPIENTS_OVERALL_RANK:case e.g.RANK_RECIPIENTS_OVERALL_RANK_EXCLUDING_SELF:case e.g.RANK_RECIPIENTS_TEAM_RANK:case e.g.RANK_RECIPIENTS_TEAM_RANK_EXCLUDING_SELF:case e.g.CONSTSUM_OPTIONS_POINTS:case e.g.CONSTSUM_RECIPIENTS_POINTS:case e.g.RUBRIC_WEIGHT_AVERAGE:case e.g.RUBRIC_TOTAL_CHOSEN_WEIGHT:case e.g.NUMERICAL_SCALE_MAX:case e.g.NUMERICAL_SCALE_MIN:case e.g.NUMERICAL_SCALE_AVERAGE:case e.g.NUMERICAL_SCALE_AVERAGE_EXCLUDE_SELF:case e.g.MCQ_WEIGHT:case e.g.MCQ_PERCENTAGE:case e.g.MCQ_WEIGHTED_PERCENTAGE:case e.g.MCQ_WEIGHT_TOTAL:case e.g.MCQ_WEIGHT_AVERAGE:case e.g.MSQ_WEIGHT:case e.g.MSQ_PERCENTAGE:case e.g.MSQ_WEIGHTED_PERCENTAGE:case e.g.MSQ_WEIGHT_TOTAL:case e.g.MSQ_WEIGHT_AVERAGE:return this.compareNumbers(s,N,_);case e.g.LOG_DATE:return this.compareChronologically(s,N,_);case e.g.INSTRUCTOR_PERMISSION_ROLE:return this.compareRoles(s,N,_);default:return 0}}static#E=this.\u0275fac=function(_){return new(_||R)};static#e=this.\u0275prov=A.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},26195:(p,M,t)=>{t.d(M,{g:()=>c,x:()=>n});var c=function(E){return E[E.NONE=0]="NONE",E[E.SECTION_NAME=1]="SECTION_NAME",E[E.TEAM_NAME=2]="TEAM_NAME",E[E.RESPONDENT_NAME=3]="RESPONDENT_NAME",E[E.RESPONDENT_EMAIL=4]="RESPONDENT_EMAIL",E[E.INSTRUCTOR_PERMISSION_ROLE=5]="INSTRUCTOR_PERMISSION_ROLE",E[E.INSTRUCTOR_DISPLAYED_TEXT=6]="INSTRUCTOR_DISPLAYED_TEXT",E[E.JOIN_STATUS=7]="JOIN_STATUS",E[E.COURSE_ID=8]="COURSE_ID",E[E.COURSE_NAME=9]="COURSE_NAME",E[E.COURSE_CREATION_DATE=10]="COURSE_CREATION_DATE",E[E.COURSE_DELETION_DATE=11]="COURSE_DELETION_DATE",E[E.SESSION_COMPLETION_STATUS=12]="SESSION_COMPLETION_STATUS",E[E.SESSION_NAME=13]="SESSION_NAME",E[E.SESSION_START_DATE=14]="SESSION_START_DATE",E[E.SESSION_END_DATE=15]="SESSION_END_DATE",E[E.SESSION_CREATION_DATE=16]="SESSION_CREATION_DATE",E[E.SESSION_DELETION_DATE=17]="SESSION_DELETION_DATE",E[E.QUESTION_TYPE=18]="QUESTION_TYPE",E[E.QUESTION_TEXT=19]="QUESTION_TEXT",E[E.GIVER_TEAM=20]="GIVER_TEAM",E[E.GIVER_NAME=21]="GIVER_NAME",E[E.RECIPIENT_TEAM=22]="RECIPIENT_TEAM",E[E.RECIPIENT_NAME=23]="RECIPIENT_NAME",E[E.RECIPIENT_EMAIL=24]="RECIPIENT_EMAIL",E[E.NUMERICAL_SCALE_AVERAGE=25]="NUMERICAL_SCALE_AVERAGE",E[E.NUMERICAL_SCALE_MAX=26]="NUMERICAL_SCALE_MAX",E[E.NUMERICAL_SCALE_MIN=27]="NUMERICAL_SCALE_MIN",E[E.NUMERICAL_SCALE_AVERAGE_EXCLUDE_SELF=28]="NUMERICAL_SCALE_AVERAGE_EXCLUDE_SELF",E[E.MCQ_CHOICE=29]="MCQ_CHOICE",E[E.MCQ_WEIGHT=30]="MCQ_WEIGHT",E[E.MCQ_RESPONSE_COUNT=31]="MCQ_RESPONSE_COUNT",E[E.MCQ_PERCENTAGE=32]="MCQ_PERCENTAGE",E[E.MCQ_WEIGHTED_PERCENTAGE=33]="MCQ_WEIGHTED_PERCENTAGE",E[E.MCQ_TEAM=34]="MCQ_TEAM",E[E.MCQ_RECIPIENT_NAME=35]="MCQ_RECIPIENT_NAME",E[E.MCQ_OPTION_SELECTED_TIMES=36]="MCQ_OPTION_SELECTED_TIMES",E[E.MCQ_WEIGHT_TOTAL=37]="MCQ_WEIGHT_TOTAL",E[E.MCQ_WEIGHT_AVERAGE=38]="MCQ_WEIGHT_AVERAGE",E[E.MSQ_CHOICE=39]="MSQ_CHOICE",E[E.MSQ_WEIGHT=40]="MSQ_WEIGHT",E[E.MSQ_RESPONSE_COUNT=41]="MSQ_RESPONSE_COUNT",E[E.MSQ_PERCENTAGE=42]="MSQ_PERCENTAGE",E[E.MSQ_WEIGHTED_PERCENTAGE=43]="MSQ_WEIGHTED_PERCENTAGE",E[E.MSQ_TEAM=44]="MSQ_TEAM",E[E.MSQ_RECIPIENT_NAME=45]="MSQ_RECIPIENT_NAME",E[E.MSQ_OPTION_SELECTED_TIMES=46]="MSQ_OPTION_SELECTED_TIMES",E[E.MSQ_WEIGHT_TOTAL=47]="MSQ_WEIGHT_TOTAL",E[E.MSQ_WEIGHT_AVERAGE=48]="MSQ_WEIGHT_AVERAGE",E[E.RANK_OPTIONS_OPTION=49]="RANK_OPTIONS_OPTION",E[E.RANK_OPTIONS_OVERALL_RANK=50]="RANK_OPTIONS_OVERALL_RANK",E[E.RANK_RECIPIENTS_TEAM=51]="RANK_RECIPIENTS_TEAM",E[E.RANK_RECIPIENTS_RECIPIENT=52]="RANK_RECIPIENTS_RECIPIENT",E[E.RANK_RECIPIENTS_SELF_RANK=53]="RANK_RECIPIENTS_SELF_RANK",E[E.RANK_RECIPIENTS_OVERALL_RANK=54]="RANK_RECIPIENTS_OVERALL_RANK",E[E.RANK_RECIPIENTS_OVERALL_RANK_EXCLUDING_SELF=55]="RANK_RECIPIENTS_OVERALL_RANK_EXCLUDING_SELF",E[E.RANK_RECIPIENTS_TEAM_RANK=56]="RANK_RECIPIENTS_TEAM_RANK",E[E.RANK_RECIPIENTS_TEAM_RANK_EXCLUDING_SELF=57]="RANK_RECIPIENTS_TEAM_RANK_EXCLUDING_SELF",E[E.RUBRIC_SUBQUESTION=58]="RUBRIC_SUBQUESTION",E[E.RUBRIC_CHOICE=59]="RUBRIC_CHOICE",E[E.RUBRIC_WEIGHT_AVERAGE=60]="RUBRIC_WEIGHT_AVERAGE",E[E.RUBRIC_TOTAL_CHOSEN_WEIGHT=61]="RUBRIC_TOTAL_CHOSEN_WEIGHT",E[E.RUBRIC_OVERALL_WEIGHT_AVERAGE=62]="RUBRIC_OVERALL_WEIGHT_AVERAGE",E[E.RUBRIC_OVERALL_TOTAL_WEIGHT=63]="RUBRIC_OVERALL_TOTAL_WEIGHT",E[E.CONSTSUM_OPTIONS_OPTION=64]="CONSTSUM_OPTIONS_OPTION",E[E.CONSTSUM_OPTIONS_POINTS=65]="CONSTSUM_OPTIONS_POINTS",E[E.CONSTSUM_RECIPIENTS_POINTS=66]="CONSTSUM_RECIPIENTS_POINTS",E[E.CONTRIBUTION_TEAM=67]="CONTRIBUTION_TEAM",E[E.CONTRIBUTION_RECIPIENT=68]="CONTRIBUTION_RECIPIENT",E[E.CONTRIBUTION_VALUE=69]="CONTRIBUTION_VALUE",E[E.COMMENTS_CREATION_DATE=70]="COMMENTS_CREATION_DATE",E[E.LOG_TYPE=71]="LOG_TYPE",E[E.LOG_DATE=72]="LOG_DATE",E[E.RESULT_VIEW_STATUS=73]="RESULT_VIEW_STATUS",E[E.NOTIFICATION_TITLE=74]="NOTIFICATION_TITLE",E[E.NOTIFICATION_START_TIME=75]="NOTIFICATION_START_TIME",E[E.NOTIFICATION_END_TIME=76]="NOTIFICATION_END_TIME",E[E.NOTIFICATION_CREATE_TIME=77]="NOTIFICATION_CREATE_TIME",E[E.NOTIFICATION_TARGET_USER=78]="NOTIFICATION_TARGET_USER",E[E.NOTIFICATION_STYLE=79]="NOTIFICATION_STYLE",E}(c||{}),n=function(E){return E[E.DESC=0]="DESC",E[E.ASC=1]="ASC",E}(n||{})}}]);