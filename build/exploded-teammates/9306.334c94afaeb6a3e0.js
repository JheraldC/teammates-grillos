(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[9306],{57286:(M,p,n)=>{"use strict";n.d(p,{y:()=>e});var t=n(17705);let e=(()=>{class s{constructor(){this.useBlueSpinner=!1,this.color="white"}static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-ajax-loading"]],inputs:{useBlueSpinner:"useBlueSpinner",color:"color"},decls:2,vars:3,consts:[[1,"loading-container"],["role","status"]],template:function(o,a){1&o&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s()),2&o&&(t.R7$(1),t.ZvI("spinner-border spinner-border-sm text-",a.useBlueSpinner?"primary":a.color,""))},styles:[".loading-container[_ngcontent-%COMP%]{display:inline;margin-right:10px}"]})}return s})()},40909:(M,p,n)=>{"use strict";n.d(p,{C:()=>T});var t=n(11086),e=n(17705),s=n(8059),r=n(16507);let c=(()=>{class _{constructor(u){this.httpRequestService=u}sendErrorReport(u){return this.httpRequestService.post(s.Ld.ERROR_REPORT,{},u.request)}static#e=this.\u0275fac=function(E){return new(E||_)(e.KVO(r.R))};static#t=this.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})();var o=n(94227),a=n(30715),g=n(60177),f=n(89417);function i(_,R){1&_&&(e.j41(0,"div")(1,"p"),e.EFF(2," We are sorry that this happened. Please help us troubleshoot the problem by providing us some additional details using the form below: "),e.k0s()())}function l(_,R){if(1&_&&(e.j41(0,"div")(1,"p"),e.EFF(2," We are sorry that this happened. It is likely that your browser could not create or access cookies for authorization. If cookies are disabled in your browser, please turn on your cookies before trying again. Alternatively, you could also try emptying your browser's cache, or switching to a different browser. "),e.k0s(),e.j41(3,"p"),e.EFF(4," For further support, please contact our email address at "),e.j41(5,"a",6),e.EFF(6),e.k0s(),e.EFF(7,". "),e.k0s()()),2&_){const u=e.XpG();e.R7$(5),e.Mz_("href","mailto:",u.supportEmail,"",e.B4B),e.R7$(1),e.JRh(u.supportEmail)}}function v(_,R){if(1&_){const u=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(u);const m=e.XpG(2);return e.Njj(m.sendErrorReport())}),e.EFF(1,"Send Error Report"),e.k0s()}if(2&_){const u=e.XpG(2);e.Y8G("disabled",!u.sendButtonEnabled)}}function d(_,R){1&_&&(e.j41(0,"div"),e.EFF(1," Your error report has been recorded. We will follow up with you in due course, usually, within 24 hours. "),e.k0s())}function h(_,R){if(1&_){const u=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"label"),e.EFF(3,"Request ID:"),e.k0s(),e.nrm(4,"br"),e.j41(5,"em"),e.EFF(6,"Note: This field is filled by the system and not modifiable."),e.k0s(),e.j41(7,"input",9),e.bIt("ngModelChange",function(m){e.eBV(u);const D=e.XpG();return e.Njj(D.requestId=m)}),e.k0s()(),e.j41(8,"div",8)(9,"label"),e.EFF(10,"Subject:"),e.k0s(),e.nrm(11,"br"),e.j41(12,"em"),e.EFF(13,"Note: This field is pre-filled for convenience. Feel free to change it to suit your needs."),e.k0s(),e.j41(14,"input",10),e.bIt("ngModelChange",function(m){e.eBV(u);const D=e.XpG();return e.Njj(D.subject=m)}),e.k0s()(),e.j41(15,"div",8)(16,"label"),e.EFF(17,"Content:"),e.k0s(),e.j41(18,"textarea",11),e.bIt("ngModelChange",function(m){e.eBV(u);const D=e.XpG();return e.Njj(D.content=m)}),e.k0s()(),e.DNE(19,v,2,1,"button",12),e.DNE(20,d,2,0,"div",4),e.k0s()}if(2&_){const u=e.XpG();e.R7$(7),e.Y8G("ngModel",u.requestId)("disabled",!0),e.R7$(7),e.Y8G("ngModel",u.subject),e.R7$(4),e.Y8G("ngModel",u.content),e.R7$(1),e.Y8G("ngIf",!u.errorReportSubmitted),e.R7$(1),e.Y8G("ngIf",u.errorReportSubmitted)}}let T=(()=>{class _{constructor(u,E,m){this.errorReportService=u,this.ngbActiveModal=E,this.statusMessageService=m,this.errorMessage="",this.subject="User-submitted Error Report",this.content="",this.requestId="",this.sendButtonEnabled=!0,this.errorReportEnabled=!0,this.errorReportSubmitted=!1,this.csrfErrorMessages=["Missing CSRF token.","Invalid CSRF token."],this.supportEmail=t.c.supportEmail}ngOnInit(){this.csrfErrorMessages.includes(this.errorMessage)&&(this.errorReportEnabled=!1)}sendErrorReport(){const u={requestId:this.requestId,subject:this.subject,content:this.content};this.sendButtonEnabled=!1,this.errorReportService.sendErrorReport({request:u}).subscribe({next:()=>{this.errorReportSubmitted=!0,this.statusMessageService.showSuccessToast("Your error report has been successfully sent"),this.ngbActiveModal.close()},error:E=>{this.sendButtonEnabled=!0,this.statusMessageService.showErrorToast(E.error.message)}})}static#e=this.\u0275fac=function(E){return new(E||_)(e.rXU(c),e.rXU(o.Lw),e.rXU(a.x))};static#t=this.\u0275cmp=e.VBU({type:_,selectors:[["tm-error-report"]],decls:11,vars:4,consts:[[1,"container","error-container"],[1,"row"],[1,"col-md-12"],["id","error-message"],[4,"ngIf"],["id","error-report",4,"ngIf"],[3,"href"],["id","error-report"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Tell us the steps you took that led you to this error page",1,"form-control",3,"ngModel","ngModelChange"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"]],template:function(E,m){1&E&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Uh oh! Something went wrong."),e.k0s(),e.nrm(3,"hr"),e.j41(4,"div",1)(5,"div",2)(6,"p",3),e.EFF(7),e.k0s(),e.DNE(8,i,3,0,"div",4),e.DNE(9,l,8,2,"div",4),e.k0s()(),e.DNE(10,h,21,6,"div",5),e.k0s()),2&E&&(e.R7$(7),e.SpI(' The server returns the following error message: "',m.errorMessage,'". '),e.R7$(1),e.Y8G("ngIf",m.errorReportEnabled),e.R7$(1),e.Y8G("ngIf",!m.errorReportEnabled),e.R7$(1),e.Y8G("ngIf",m.errorReportEnabled))},dependencies:[g.bT,f.me,f.BC,f.vS],styles:[".error-container[_ngcontent-%COMP%]{padding:3%}"]})}return _})()},86082:(M,p,n)=>{"use strict";n.d(p,{F:()=>c});var t=n(17705),e=n(60177);function s(o,a){if(1&o&&t.nrm(0,"i",3),2&o){const g=t.XpG();t.xc7("color",g.chevronColor)}}function r(o,a){if(1&o&&t.nrm(0,"i",4),2&o){const g=t.XpG();t.xc7("color",g.chevronColor)}}let c=(()=>{class o{constructor(){this.isExpanded=!1,this.chevronColor="white"}static#e=this.\u0275fac=function(f){return new(f||o)};static#t=this.\u0275cmp=t.VBU({type:o,selectors:[["tm-panel-chevron"]],inputs:{isExpanded:"isExpanded",chevronColor:"chevronColor"},decls:3,vars:3,consts:[["type","button","aria-label","Expand panel",1,"chevron","btn-course","btn","btn-primary","btn-sm"],["class","fas fa-chevron-down",3,"color",4,"ngIf"],["class","fas fa-chevron-up",3,"color",4,"ngIf"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"]],template:function(f,i){1&f&&(t.j41(0,"button",0),t.DNE(1,s,1,2,"i",1),t.DNE(2,r,1,2,"i",2),t.k0s()),2&f&&(t.BMQ("aria-expanded",i.isExpanded),t.R7$(1),t.Y8G("ngIf",!i.isExpanded),t.R7$(1),t.Y8G("ngIf",i.isExpanded))},dependencies:[e.bT],styles:["button.chevron[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;background-color:inherit;border-width:0}button.chevron[_ngcontent-%COMP%]:active{background-color:inherit}"]})}return o})()},57125:(M,p,n)=>{"use strict";n.d(p,{o:()=>s});var t=n(60177),e=n(17705);let s=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.$C({type:r});static#n=this.\u0275inj=e.G2t({imports:[t.MD]})}return r})()},26043:(M,p,n)=>{"use strict";n.d(p,{v:()=>e});var t=n(17705);let e=(()=>{class s{transform(c){let o="can see your response";return c.SHOW_RECIPIENT_NAME?(o+=", the name of the recipient",o+=c.SHOW_GIVER_NAME?", and your name":", but not your name"):o+=c.SHOW_GIVER_NAME?", and your name, but not the name of the recipient":", but not the name of the recipient, or your name",o}static#e=this.\u0275fac=function(o){return new(o||s)};static#t=this.\u0275pipe=t.EJ8({name:"visibilityCapability",type:s,pure:!0})}return s})()},76170:(M,p,n)=>{"use strict";n.d(p,{L:()=>s});var t=n(40035),e=n(17705);let s=(()=>{class r{transform(o,a,g,f){switch(o){case t.sk.RECIPIENT:{let i="";switch(a){case t.tp.INSTRUCTORS:i="instructor";break;case t.tp.STUDENTS:case t.tp.STUDENTS_EXCLUDING_SELF:case t.tp.STUDENTS_IN_SAME_SECTION:case t.tp.OWN_TEAM_MEMBERS:case t.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF:i="student";break;case t.tp.TEAMS:case t.tp.TEAMS_EXCLUDING_SELF:case t.tp.TEAMS_IN_SAME_SECTION:case t.tp.OWN_TEAM:i="team";break;default:return"unknown"}return[t.tp.INSTRUCTORS,t.tp.STUDENTS,t.tp.STUDENTS_EXCLUDING_SELF,t.tp.TEAMS,t.tp.TEAMS_EXCLUDING_SELF].includes(a)&&(g===t.cB.UNLIMITED||g===t.cB.CUSTOM&&void 0!==f&&f>1)&&(i=`${i}s`),`The receiving ${i}`}case t.sk.GIVER_TEAM_MEMBERS:return"Your team members";case t.sk.INSTRUCTORS:return"Instructors in this course";case t.sk.STUDENTS:return"Other students in the course";case t.sk.RECIPIENT_TEAM_MEMBERS:return"The recipient's team members";default:return"Unknown"}}static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275pipe=e.EJ8({name:"visibilityEntityName",type:r,pure:!0})}return r})()},73453:(M,p,n)=>{"use strict";n.d(p,{D:()=>s});var t=n(60177),e=n(17705);let s=(()=>{class r{static#e=this.\u0275fac=function(a){return new(a||r)};static#t=this.\u0275mod=e.$C({type:r});static#n=this.\u0275inj=e.G2t({imports:[t.MD]})}return r})()},32526:(M,p,n)=>{"use strict";n.r(p),n.d(p,{SessionSubmissionPageModule:()=>E});var t=n(60177),e=n(89417),s=n(82646),r=n(94227),c=n(88370),o=n(27267),a=n(85385),g=n(34029),f=n(84309),i=n(61786),l=n(44661),v=n(17705),d=n(57286),h=n(3349),T=n(57645),_=n(72890),R=n(8035);const u=[{path:"",component:o.T}];let E=(()=>{class m{static#e=this.\u0275fac=function(C){return new(C||m)};static#t=this.\u0275mod=v.$C({type:m});static#n=this.\u0275inj=v.G2t({imports:[a.D,l.x,t.MD,e.YN,r.zH,r.n8,i.R,s.iI.forChild(u),f.y,g.Z,c.Q5]})}return m})();v.wjB(o.T,function(){return[d.y,t.Sq,t.bT,e.xH,e.y7,r.md,h.w,T.n,_.Y,c.dQ]},function(){return[R.$,t.lG]})},59919:(M,p,n)=>{"use strict";n.d(p,{I:()=>t});class t{static hasOngoingExtension(s){const r=Date.now();return Object.values(s.studentDeadlines).some(c=>c>r)||Object.values(s.instructorDeadlines).some(c=>c>r)}static getDeadlinesBeforeOrEqualToEndTime(s,r){const c={};for(const[o,a]of Object.entries(s))a<=r&&(c[o]=a);return c}static mapStudentsToStudentModels(s,r,c){return s.map(o=>{const a={sectionName:o.sectionName,teamName:o.teamName,name:o.name,email:o.email,extensionDeadline:c,hasExtension:!1,isSelected:!1};return o.email in r&&(a.hasExtension=!0,a.extensionDeadline=r[o.email]),a})}static mapInstructorsToInstructorModels(s,r,c){return s.map(o=>{const a={name:o.name,role:o.role,email:o.email,extensionDeadline:c,hasExtension:!1,isSelected:!1};return o.email in r&&(a.hasExtension=!0,a.extensionDeadline=r[o.email]),a})}static getUpdatedDeadlinesForCreation(s,r,c){const o={...r};return s.forEach(a=>{o[a.email]=c}),o}static getUpdatedDeadlinesForDeletion(s,r){const c={...r};return s.forEach(o=>{delete c[o.email]}),c}static getOngoingUserFeedbackSessionEndingTimestamp(s){return t.hasUserOngoingExtension(s)?s.submissionEndWithExtensionTimestamp:s.submissionEndTimestamp}static hasUserOngoingExtension(s){const r=s.submissionEndWithExtensionTimestamp;return this.hasUserExtension(s)&&r>Date.now()}static getUserFeedbackSessionEndingTimestamp(s){return t.hasUserExtension(s)?s.submissionEndWithExtensionTimestamp:s.submissionEndTimestamp}static hasUserExtension(s){const r=s.submissionEndWithExtensionTimestamp;return void 0!==r&&r>s.submissionEndTimestamp}}},74278:(M,p,n)=>{"use strict";n.d(p,{Q:()=>t});const t=3},2578:function(M,p){var n,e;void 0!==(e="function"==typeof(n=function(){"use strict";function r(i,l,v){var d=new XMLHttpRequest;d.open("GET",i),d.responseType="blob",d.onload=function(){f(d.response,l,v)},d.onerror=function(){console.error("could not download file")},d.send()}function c(i){var l=new XMLHttpRequest;l.open("HEAD",i,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function o(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(l)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,g=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(i,l,v){var d=a.URL||a.webkitURL,h=document.createElement("a");h.download=l=l||i.name||"download",h.rel="noopener","string"==typeof i?(h.href=i,h.origin===location.origin?o(h):c(h.href)?r(i,l,v):o(h,h.target="_blank")):(h.href=d.createObjectURL(i),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){o(h)},0))}:"msSaveOrOpenBlob"in navigator?function(i,l,v){if(l=l||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(function s(i,l){return typeof l>"u"?l={autoBom:!1}:"object"!=typeof l&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i}(i,v),l);else if(c(i))r(i,l,v);else{var d=document.createElement("a");d.href=i,d.target="_blank",setTimeout(function(){o(d)})}}:function(i,l,v,d){if((d=d||open("","_blank"))&&(d.document.title=d.document.body.innerText="downloading..."),"string"==typeof i)return r(i,l,v);var h="application/octet-stream"===i.type,T=/constructor/i.test(a.HTMLElement)||a.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||h&&T||g)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var m=R.result;m=_?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=m:location=m,d=null},R.readAsDataURL(i)}else{var u=a.URL||a.webkitURL,E=u.createObjectURL(i);d?d.location=E:location.href=E,d=null,setTimeout(function(){u.revokeObjectURL(E)},4e4)}});a.saveAs=f.saveAs=f,M.exports=f})?n.apply(p,[]):n)&&(M.exports=e)}}]);