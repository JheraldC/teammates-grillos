"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[2706],{72890:(A,T,a)=>{a.d(T,{Y:()=>C});var s=a(17705),h=a(60177);function y(m,v){if(1&m){const b=s.RV6();s.j41(0,"div",2)(1,"p",3),s.EFF(2),s.k0s(),s.j41(3,"button",4),s.bIt("click",function(){s.eBV(b);const u=s.XpG();return s.Njj(u.retryEvent.emit())}),s.nrm(4,"i",5),s.EFF(5,"\xa0Retry"),s.k0s()()}if(2&m){const b=s.XpG();s.R7$(2),s.JRh(b.message),s.R7$(1),s.Y8G("disabled",b.retryButtonDisabled)}}function g(m,v){1&m&&s.SdG(0)}const e=["*"];let C=(()=>{class m{constructor(){this.message="",this.shouldShowRetry=!1,this.retryButtonDisabled=!1,this.retryEvent=new s.bkB}static#e=this.\u0275fac=function(l){return new(l||m)};static#t=this.\u0275cmp=s.VBU({type:m,selectors:[["tm-loading-retry"]],inputs:{message:"message",shouldShowRetry:"shouldShowRetry",retryButtonDisabled:"retryButtonDisabled"},outputs:{retryEvent:"retryEvent"},ngContentSelectors:e,decls:3,vars:2,consts:[["class","text-center",4,"ngIf","ngIfElse"],["content",""],[1,"text-center"],[1,"text-muted","m-1"],[1,"btn","btn-primary",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-redo"]],template:function(l,u){if(1&l&&(s.NAR(),s.DNE(0,y,6,2,"div",0),s.DNE(1,g,1,0,"ng-template",null,1,s.C5r)),2&l){const N=s.sdS(2);s.Y8G("ngIf",u.shouldShowRetry)("ngIfElse",N)}},dependencies:[h.bT]})}return m})()},92042:(A,T,a)=>{a.d(T,{U:()=>m});var s=a(17705),h=a(60177);function y(v,b){if(1&v&&(s.j41(0,"p"),s.EFF(1),s.k0s()),2&v){const l=s.XpG();s.R7$(1),s.SpI(" The feedback session has been copied to all courses. However, changes are made to some session timings as the existing timings are no longer valid in these courses: ",l.coursesOfModifiedSession.join(", "),". The changes are as follows:\n")}}function g(v,b){1&v&&(s.j41(0,"p"),s.EFF(1," The course has been added. However, changes are made to some session timings as the existing timings are no longer valid. The changes are as follows:\n"),s.k0s())}const e=function(v){return{"text-color-lightgray":v}};function C(v,b){if(1&v&&(s.qex(0),s.j41(1,"tr",3)(2,"td",4),s.EFF(3),s.k0s(),s.j41(4,"td"),s.EFF(5,"Submission opening time"),s.k0s(),s.j41(6,"td"),s.EFF(7),s.k0s(),s.j41(8,"td"),s.EFF(9),s.k0s()(),s.j41(10,"tr",3)(11,"td"),s.EFF(12,"Submission closing time"),s.k0s(),s.j41(13,"td"),s.EFF(14),s.k0s(),s.j41(15,"td"),s.EFF(16),s.k0s()(),s.j41(17,"tr",3)(18,"td"),s.EFF(19,"Session visible time"),s.k0s(),s.j41(20,"td"),s.EFF(21),s.k0s(),s.j41(22,"td"),s.EFF(23),s.k0s()(),s.j41(24,"tr",3)(25,"td"),s.EFF(26,"Response visible time"),s.k0s(),s.j41(27,"td"),s.EFF(28),s.k0s(),s.j41(29,"td"),s.EFF(30),s.k0s()(),s.bVm()),2&v){const l=b.$implicit;s.R7$(1),s.Y8G("ngClass",s.eq3(13,e,l.value.oldTimestamp.submissionStartTimestamp===l.value.newTimestamp.submissionStartTimestamp)),s.R7$(2),s.JRh(l.key),s.R7$(4),s.JRh(l.value.oldTimestamp.submissionStartTimestamp),s.R7$(2),s.JRh(l.value.newTimestamp.submissionStartTimestamp),s.R7$(1),s.Y8G("ngClass",s.eq3(15,e,l.value.oldTimestamp.submissionEndTimestamp===l.value.newTimestamp.submissionEndTimestamp)),s.R7$(4),s.JRh(l.value.oldTimestamp.submissionEndTimestamp),s.R7$(2),s.JRh(l.value.newTimestamp.submissionEndTimestamp),s.R7$(1),s.Y8G("ngClass",s.eq3(17,e,l.value.oldTimestamp.sessionVisibleTimestamp===l.value.newTimestamp.sessionVisibleTimestamp)),s.R7$(4),s.JRh(l.value.oldTimestamp.sessionVisibleTimestamp),s.R7$(2),s.JRh(l.value.newTimestamp.sessionVisibleTimestamp),s.R7$(1),s.Y8G("ngClass",s.eq3(19,e,l.value.oldTimestamp.responseVisibleTimestamp===l.value.newTimestamp.responseVisibleTimestamp)),s.R7$(4),s.JRh(l.value.oldTimestamp.responseVisibleTimestamp),s.R7$(2),s.JRh(l.value.newTimestamp.responseVisibleTimestamp)}}let m=(()=>{class v{constructor(){this.coursesOfModifiedSession=[],this.modifiedSessions={}}static#e=this.\u0275fac=function(u){return new(u||v)};static#t=this.\u0275cmp=s.VBU({type:v,selectors:[["tm-modified-timestamps-modal"]],inputs:{coursesOfModifiedSession:"coursesOfModifiedSession",modifiedSessions:"modifiedSessions"},decls:19,vars:5,consts:[[4,"ngIf"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[3,"ngClass"],["rowspan","4"]],template:function(u,N){1&u&&(s.DNE(0,y,2,1,"p",0),s.DNE(1,g,2,0,"p",0),s.j41(2,"table",1)(3,"thead")(4,"tr")(5,"th"),s.EFF(6,"Session Name"),s.k0s(),s.j41(7,"th"),s.EFF(8,"Timings"),s.k0s(),s.j41(9,"th"),s.EFF(10,"Existing"),s.k0s(),s.j41(11,"th"),s.EFF(12,"Modified"),s.k0s()()(),s.j41(13,"tbody"),s.DNE(14,C,31,21,"ng-container",2),s.nI1(15,"keyvalue"),s.k0s()(),s.nrm(16,"br"),s.j41(17,"p"),s.EFF(18," Please modify the timings as necessary.\n"),s.k0s()),2&u&&(s.Y8G("ngIf",0!==N.coursesOfModifiedSession.length),s.R7$(1),s.Y8G("ngIf",0===N.coursesOfModifiedSession.length),s.R7$(13),s.Y8G("ngForOf",s.bMT(15,3,N.modifiedSessions)))},dependencies:[h.YU,h.Sq,h.bT,h.lG]})}return v})()},28324:(A,T,a)=>{a.d(T,{t:()=>y});var s=a(60177),h=a(17705);let y=(()=>{class g{static#e=this.\u0275fac=function(m){return new(m||g)};static#t=this.\u0275mod=h.$C({type:g});static#s=this.\u0275inj=h.G2t({imports:[s.MD]})}return g})()},86082:(A,T,a)=>{a.d(T,{F:()=>e});var s=a(17705),h=a(60177);function y(C,m){if(1&C&&s.nrm(0,"i",3),2&C){const v=s.XpG();s.xc7("color",v.chevronColor)}}function g(C,m){if(1&C&&s.nrm(0,"i",4),2&C){const v=s.XpG();s.xc7("color",v.chevronColor)}}let e=(()=>{class C{constructor(){this.isExpanded=!1,this.chevronColor="white"}static#e=this.\u0275fac=function(b){return new(b||C)};static#t=this.\u0275cmp=s.VBU({type:C,selectors:[["tm-panel-chevron"]],inputs:{isExpanded:"isExpanded",chevronColor:"chevronColor"},decls:3,vars:3,consts:[["type","button","aria-label","Expand panel",1,"chevron","btn-course","btn","btn-primary","btn-sm"],["class","fas fa-chevron-down",3,"color",4,"ngIf"],["class","fas fa-chevron-up",3,"color",4,"ngIf"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"]],template:function(b,l){1&b&&(s.j41(0,"button",0),s.DNE(1,y,1,2,"i",1),s.DNE(2,g,1,2,"i",2),s.k0s()),2&b&&(s.BMQ("aria-expanded",l.isExpanded),s.R7$(1),s.Y8G("ngIf",!l.isExpanded),s.R7$(1),s.Y8G("ngIf",l.isExpanded))},dependencies:[h.bT],styles:["button.chevron[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;background-color:inherit;border-width:0}button.chevron[_ngcontent-%COMP%]:active{background-color:inherit}"]})}return C})()},57125:(A,T,a)=>{a.d(T,{o:()=>y});var s=a(60177),h=a(17705);let y=(()=>{class g{static#e=this.\u0275fac=function(m){return new(m||g)};static#t=this.\u0275mod=h.$C({type:g});static#s=this.\u0275inj=h.G2t({imports:[s.MD]})}return g})()},17422:(A,T,a)=>{a.d(T,{a:()=>g});var s=a(17705),h=a(58240),y=a(94227);let g=(()=>{class e{constructor(m){this.progressBarService=m,this.progressPercentage=10}ngOnInit(){this.getProgress()}getProgress(){this.progressBarService.progressPercentage.subscribe(m=>{this.progressPercentage=m})}static#e=this.\u0275fac=function(v){return new(v||e)(s.rXU(h.W))};static#t=this.\u0275cmp=s.VBU({type:e,selectors:[["tm-progress-bar"]],decls:2,vars:3,consts:[["type","info","height","26px","showValue","true",3,"value","striped","animated"]],template:function(v,b){1&v&&(s.j41(0,"div"),s.nrm(1,"ngb-progressbar",0),s.k0s()),2&v&&(s.R7$(1),s.Y8G("value",b.progressPercentage)("striped",!0)("animated",!0))},dependencies:[y.EH],encapsulation:2})}return e})()},21894:(A,T,a)=>{a.d(T,{i:()=>s});var s=function(h){return h[h.WARNING=0]="WARNING",h[h.DANGER=1]="DANGER",h[h.INFO=2]="INFO",h[h.NEUTRAL=3]="NEUTRAL",h[h.LOAD=4]="LOAD",h}(s||{})},92706:(A,T,a)=>{a.r(T),a.d(T,{InstructorCoursesPageModule:()=>Rt});var s=a(60177),h=a(89417),y=a(82646),g=a(94227),e=a(17705),C=a(96508),m=a.n(C),v=a(27468),b=a(70980),l=a(40035),u=a(26195),N=a(80310),$=a(97451),P=a(21894),L=a(44199),Y=a(30715),U=a(89734),X=a(86978),p=a(6294),M=a(16),f=a(43743),S=a(58240),d=a(50833),I=a(57645),F=a(57286),R=a(72890),V=a(86082),z=a(53992),Q=a(17422),Z=a(23386),q=a(92042);const ee=["modifiedTimestampsModal"];function te(o,c){if(1&o){const t=e.RV6();e.j41(0,"div",14)(1,"tm-course-edit-form",15),e.bIt("formModelChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.courseFormModel=n)})("closeFormEvent",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isAddNewCourseFormExpanded=!1)})("createNewCourseEvent",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createNewCourse())})("copyCourseEvent",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.createCopiedCourse(n))}),e.k0s()()}if(2&o){const t=e.XpG();e.Y8G("@collapseAnim",void 0),e.R7$(1),e.Y8G("formMode",t.CourseEditFormMode.ADD)("formModel",t.courseFormModel)("resetFormEvent",t.resetCourseForm)}}function se(o,c){1&o&&(e.j41(0,"div",16)(1,"p"),e.EFF(2,"Copy Progress"),e.k0s(),e.nrm(3,"tm-progress-bar"),e.k0s())}function oe(o,c){1&o&&(e.j41(0,"div",19),e.EFF(1," You do not seem to have any active courses. Use the button above to create a new course. "),e.k0s())}function ne(o,c){1&o&&e.nrm(0,"i",34)}function re(o,c){1&o&&e.nrm(0,"i",35)}function ie(o,c){1&o&&e.nrm(0,"i",34)}function ae(o,c){1&o&&e.nrm(0,"i",35)}function ce(o,c){1&o&&e.nrm(0,"i",34)}function de(o,c){1&o&&e.nrm(0,"i",35)}function le(o,c){1&o&&e.nrm(0,"tm-ajax-loading",36),2&o&&e.Y8G("useBlueSpinner",!0)}function ue(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",54),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).index,i=e.XpG(3);return e.Njj(i.getCourseStats(n))}),e.EFF(1," Show "),e.k0s()}}function _e(o,c){if(1&o&&(e.j41(0,"span"),e.DNE(1,ue,2,0,"button",53),e.k0s()),2&o){const t=e.XpG().$implicit;e.XpG();const r=e.sdS(38);e.R7$(1),e.Y8G("ngIf",!t.isLoadingCourseStats)("ngIfElse",r)}}function me(o,c){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit,r=e.XpG(3);e.R7$(1),e.SpI(" ",r.courseStats[t.course.courseId].sections," ")}}function pe(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",56),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).index,i=e.XpG(3);return e.Njj(i.getCourseStats(n))}),e.EFF(1," Show "),e.k0s()}if(2&o){const t=e.XpG(2).index;e.Mz_("id","show-statistics-",t,"")}}function he(o,c){if(1&o&&(e.j41(0,"span"),e.DNE(1,pe,2,1,"button",55),e.k0s()),2&o){const t=e.XpG().$implicit;e.XpG();const r=e.sdS(38);e.R7$(1),e.Y8G("ngIf",!t.isLoadingCourseStats)("ngIfElse",r)}}function ge(o,c){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit,r=e.XpG(3);e.R7$(1),e.SpI(" ",r.courseStats[t.course.courseId].teams," ")}}function ve(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",54),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).index,i=e.XpG(3);return e.Njj(i.getCourseStats(n))}),e.EFF(1," Show "),e.k0s()}}function fe(o,c){if(1&o&&(e.j41(0,"span"),e.DNE(1,ve,2,0,"button",53),e.k0s()),2&o){const t=e.XpG().$implicit;e.XpG();const r=e.sdS(38);e.R7$(1),e.Y8G("ngIf",!t.isLoadingCourseStats)("ngIfElse",r)}}function Ce(o,c){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit,r=e.XpG(3);e.R7$(1),e.SpI(" ",r.courseStats[t.course.courseId].students," ")}}function be(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",54),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).index,i=e.XpG(3);return e.Njj(i.getCourseStats(n))}),e.EFF(1," Show "),e.k0s()}}function Se(o,c){if(1&o&&(e.j41(0,"span"),e.DNE(1,be,2,0,"button",53),e.k0s()),2&o){const t=e.XpG().$implicit;e.XpG();const r=e.sdS(38);e.R7$(1),e.Y8G("ngIf",!t.isLoadingCourseStats)("ngIfElse",r)}}function Ee(o,c){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit,r=e.XpG(3);e.R7$(1),e.SpI(" ",r.courseStats[t.course.courseId].unregistered," ")}}const w=function(o){return{courseid:o}};function Te(o,c){if(1&o&&(e.j41(0,"a",57),e.EFF(1," Enroll "),e.k0s()),2&o){const t=e.XpG(),n=t.$implicit;e.Mz_("id","btn-enroll-",t.index,""),e.Y8G("queryParams",e.eq3(2,w,n.course.courseId))}}function ye(o,c){if(1&o&&(e.j41(0,"button",58),e.EFF(1," Enroll "),e.k0s()),2&o){const t=e.XpG().index;e.Mz_("id","btn-enroll-disabled-",t,"")}}function Ie(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",59),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG(3);return e.Njj(i.onCopy(n.course.courseId,n.course.courseName,n.course.timeZone))}),e.EFF(1," Copy "),e.k0s()}if(2&o){const t=e.XpG().index,r=e.XpG(3);e.Mz_("id","btn-copy-",t,""),e.Y8G("disabled",r.isCopyingCourse)}}function Re(o,c){if(1&o&&(e.j41(0,"a",60),e.EFF(1," View Logs "),e.k0s()),2&o){const t=e.XpG().$implicit;e.Y8G("queryParams",e.eq3(1,w,t.course.courseId))}}function Me(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",61),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG(3);return e.Njj(i.onDelete(n.course.courseId))}),e.EFF(1," Delete "),e.k0s()}if(2&o){const t=e.XpG().index;e.Mz_("id","btn-soft-delete-",t,"")}}function De(o,c){if(1&o&&(e.j41(0,"button",62),e.EFF(1," Delete "),e.k0s()),2&o){const t=e.XpG().index;e.Mz_("id","btn-soft-delete-disabled-",t,"")}}function Oe(o,c){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"td",37),e.EFF(2),e.k0s(),e.j41(3,"td",38),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"span",39),e.nI1(7,"date"),e.EFF(8),e.nI1(9,"date"),e.k0s()(),e.j41(10,"td"),e.DNE(11,_e,2,2,"span",33),e.DNE(12,me,2,1,"span",33),e.k0s(),e.j41(13,"td"),e.DNE(14,he,2,2,"span",33),e.DNE(15,ge,2,1,"span",33),e.k0s(),e.j41(16,"td"),e.DNE(17,fe,2,2,"span",33),e.DNE(18,Ce,2,1,"span",33),e.k0s(),e.j41(19,"td"),e.DNE(20,Se,2,2,"span",33),e.DNE(21,Ee,2,1,"span",33),e.k0s(),e.j41(22,"td",40),e.DNE(23,Te,2,4,"a",41),e.DNE(24,ye,2,1,"button",42),e.j41(25,"div",43)(26,"button",44),e.EFF(27,"Other Actions"),e.k0s(),e.j41(28,"div",45)(29,"a",46),e.EFF(30," View "),e.k0s(),e.j41(31,"a",47),e.EFF(32," Edit "),e.k0s(),e.DNE(33,Ie,2,2,"button",48),e.j41(34,"button",49),e.bIt("click",function(){const i=e.eBV(t).$implicit,_=e.XpG(3);return e.Njj(_.changeArchiveStatus(i.course.courseId,!0))}),e.EFF(35," Archive "),e.k0s(),e.DNE(36,Re,2,3,"a",50),e.DNE(37,Me,2,1,"button",51),e.DNE(38,De,2,1,"button",52),e.k0s()()()()}if(2&o){const t=c.$implicit,r=c.index,n=e.XpG(3);e.R7$(1),e.Mz_("id","course-id-",r,""),e.R7$(1),e.JRh(t.course.courseId),e.R7$(2),e.JRh(t.course.courseName),e.R7$(2),e.Y8G("ngbTooltip",e.i5U(7,23,t.course.creationTimestamp,"EEE, dd MMM yyyy, h:mma")),e.R7$(2),e.SpI(" ",e.i5U(9,26,t.course.creationTimestamp,"d MMM yyyy")," "),e.R7$(3),e.Y8G("ngIf",!n.courseStats[t.course.courseId]),e.R7$(1),e.Y8G("ngIf",n.courseStats[t.course.courseId]),e.R7$(2),e.Y8G("ngIf",!n.courseStats[t.course.courseId]),e.R7$(1),e.Y8G("ngIf",n.courseStats[t.course.courseId]),e.R7$(2),e.Y8G("ngIf",!n.courseStats[t.course.courseId]),e.R7$(1),e.Y8G("ngIf",n.courseStats[t.course.courseId]),e.R7$(2),e.Y8G("ngIf",!n.courseStats[t.course.courseId]),e.R7$(1),e.Y8G("ngIf",n.courseStats[t.course.courseId]),e.R7$(2),e.Y8G("ngIf",t.canModifyStudent),e.R7$(1),e.Y8G("ngIf",!t.canModifyStudent),e.R7$(2),e.Mz_("id","btn-other-actions-",r,""),e.R7$(3),e.Y8G("queryParams",e.eq3(29,w,t.course.courseId)),e.R7$(2),e.Y8G("queryParams",e.eq3(31,w,t.course.courseId)),e.R7$(2),e.Y8G("ngIf",t.canModifyCourse),e.R7$(1),e.Mz_("id","btn-archive-",r,""),e.R7$(2),e.Y8G("ngIf",(null==t.course.privileges?null:t.course.privileges.canModifyInstructor)&&t.course.isMigrated),e.R7$(1),e.Y8G("ngIf",t.canModifyCourse),e.R7$(1),e.Y8G("ngIf",!t.canModifyCourse)}}function Ae(o,c){1&o&&(e.j41(0,"tr"),e.nrm(1,"td")(2,"td")(3,"td")(4,"td")(5,"td")(6,"td")(7,"td")(8,"td"),e.k0s())}function Ne(o,c){1&o&&(e.j41(0,"p"),e.EFF(1,"No records found."),e.k0s())}function Fe(o,c){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",20)(2,"table",21)(3,"thead")(4,"tr",22)(5,"th",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.sortCoursesEvent(n.SortBy.COURSE_ID))}),e.j41(6,"button"),e.EFF(7," Course ID "),e.j41(8,"span",24),e.nrm(9,"i",25),e.DNE(10,ne,1,0,"i",26),e.DNE(11,re,1,0,"i",27),e.k0s()()(),e.j41(12,"th",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.sortCoursesEvent(n.SortBy.COURSE_NAME))}),e.j41(13,"button"),e.EFF(14," Course Name "),e.j41(15,"span",24),e.nrm(16,"i",25),e.DNE(17,ie,1,0,"i",26),e.DNE(18,ae,1,0,"i",27),e.k0s()()(),e.j41(19,"th",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.sortCoursesEvent(n.SortBy.COURSE_CREATION_DATE))}),e.j41(20,"button"),e.EFF(21," Creation Date "),e.j41(22,"span",24),e.nrm(23,"i",25),e.DNE(24,ce,1,0,"i",26),e.DNE(25,de,1,0,"i",27),e.k0s()()(),e.j41(26,"th"),e.EFF(27,"Sections"),e.k0s(),e.j41(28,"th"),e.EFF(29,"Teams"),e.k0s(),e.j41(30,"th"),e.EFF(31,"Total Students"),e.k0s(),e.j41(32,"th"),e.EFF(33,"Total Unregistered"),e.k0s(),e.j41(34,"th",30),e.EFF(35,"Action(s)"),e.k0s()()(),e.j41(36,"tbody"),e.DNE(37,le,1,1,"ng-template",null,31,e.C5r),e.DNE(39,Oe,39,33,"tr",32),e.k0s(),e.DNE(40,Ae,9,0,"tr",33),e.k0s(),e.DNE(41,Ne,2,0,"p",33),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(5),e.BMQ("aria-sort",t.getAriaSortActive(t.SortBy.COURSE_ID)),e.R7$(5),e.Y8G("ngIf",t.activeTableSortBy===t.SortBy.COURSE_ID&&t.activeTableSortOrder===t.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",t.activeTableSortBy===t.SortBy.COURSE_ID&&t.activeTableSortOrder===t.SortOrder.ASC),e.R7$(1),e.BMQ("aria-sort",t.getAriaSortActive(t.SortBy.COURSE_NAME)),e.R7$(5),e.Y8G("ngIf",t.activeTableSortBy===t.SortBy.COURSE_NAME&&t.activeTableSortOrder===t.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",t.activeTableSortBy===t.SortBy.COURSE_NAME&&t.activeTableSortOrder===t.SortOrder.ASC),e.R7$(1),e.BMQ("aria-sort",t.getAriaSortActive(t.SortBy.COURSE_CREATION_DATE)),e.R7$(5),e.Y8G("ngIf",t.activeTableSortBy===t.SortBy.COURSE_CREATION_DATE&&t.activeTableSortOrder===t.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",t.activeTableSortBy===t.SortBy.COURSE_CREATION_DATE&&t.activeTableSortOrder===t.SortOrder.ASC),e.R7$(14),e.Y8G("ngForOf",t.activeCourses),e.R7$(1),e.Y8G("ngIf",!t.activeCourses.length),e.R7$(1),e.Y8G("ngIf",!t.activeCourses.length)}}function Pe(o,c){if(1&o&&(e.j41(0,"div"),e.DNE(1,oe,2,0,"ng-template",null,17,e.C5r),e.DNE(3,Fe,42,12,"div",18),e.k0s()),2&o){const t=e.sdS(2),r=e.XpG();e.R7$(3),e.Y8G("ngIf",r.activeCourses.length)("ngIfElse",t)}}function ke(o,c){1&o&&(e.j41(0,"div",19),e.EFF(1," There are no courses archived currently. "),e.k0s())}function Ge(o,c){1&o&&e.nrm(0,"i",34)}function je(o,c){1&o&&e.nrm(0,"i",35)}function xe(o,c){1&o&&e.nrm(0,"i",34)}function Be(o,c){1&o&&e.nrm(0,"i",35)}function $e(o,c){1&o&&e.nrm(0,"i",34)}function we(o,c){1&o&&e.nrm(0,"i",35)}function Le(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",76),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG(4);return e.Njj(i.onDelete(n.course.courseId))}),e.EFF(1," Delete "),e.k0s()}if(2&o){const t=e.XpG().index;e.Mz_("id","btn-soft-delete-archived-",t,"")}}function Ye(o,c){if(1&o&&(e.j41(0,"button",58),e.EFF(1," Delete "),e.k0s()),2&o){const t=e.XpG().index;e.Mz_("id","btn-soft-delete-archived-disabled-",t,"")}}function Ue(o,c){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"td",37),e.EFF(2),e.k0s(),e.j41(3,"td",38),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"span",39),e.nI1(7,"date"),e.EFF(8),e.nI1(9,"date"),e.k0s()(),e.j41(10,"td",40)(11,"button",74),e.bIt("click",function(){const i=e.eBV(t).$implicit,_=e.XpG(4);return e.Njj(_.changeArchiveStatus(i.course.courseId,!1))}),e.EFF(12," Unarchive "),e.k0s(),e.DNE(13,Le,2,1,"button",75),e.DNE(14,Ye,2,1,"button",42),e.k0s()()}if(2&o){const t=c.$implicit,r=c.index;e.R7$(1),e.Mz_("id","archived-course-id-",r,""),e.R7$(1),e.JRh(t.course.courseId),e.R7$(2),e.JRh(t.course.courseName),e.R7$(2),e.FS9("ngbTooltip",e.i5U(7,8,t.course.creationTimestamp,"EEE, dd MMM yyyy, h:mma")),e.R7$(2),e.JRh(e.i5U(9,11,t.course.creationTimestamp,"d MMM yyyy")),e.R7$(3),e.Mz_("id","btn-unarchive-",r,""),e.R7$(2),e.Y8G("ngIf",t.canModifyCourse),e.R7$(1),e.Y8G("ngIf",!t.canModifyCourse)}}function Xe(o,c){if(1&o){const t=e.RV6();e.j41(0,"div",70)(1,"table",71)(2,"thead")(3,"tr",72)(4,"th",73),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.sortArchivedCoursesEvent(n.SortBy.COURSE_ID))}),e.j41(5,"button"),e.EFF(6," Course ID "),e.j41(7,"span",24),e.nrm(8,"i",25),e.DNE(9,Ge,1,0,"i",26),e.DNE(10,je,1,0,"i",27),e.k0s()()(),e.j41(11,"th",73),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.sortArchivedCoursesEvent(n.SortBy.COURSE_NAME))}),e.j41(12,"button"),e.EFF(13," Course Name "),e.j41(14,"span",24),e.nrm(15,"i",25),e.DNE(16,xe,1,0,"i",26),e.DNE(17,Be,1,0,"i",27),e.k0s()()(),e.j41(18,"th",73),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.sortArchivedCoursesEvent(n.SortBy.COURSE_CREATION_DATE))}),e.j41(19,"button"),e.EFF(20," Creation Date "),e.j41(21,"span",24),e.nrm(22,"i",25),e.DNE(23,$e,1,0,"i",26),e.DNE(24,we,1,0,"i",27),e.k0s()()(),e.j41(25,"th",30),e.EFF(26,"Action(s)"),e.k0s()()(),e.j41(27,"tbody"),e.DNE(28,Ue,15,14,"tr",32),e.k0s()()()}if(2&o){const t=e.XpG(3);e.Y8G("@collapseAnim",void 0),e.R7$(4),e.BMQ("aria-sort",t.getAriaSortArchived(t.SortBy.COURSE_ID)),e.R7$(5),e.Y8G("ngIf",t.archivedTableSortBy===t.SortBy.COURSE_ID&&t.archivedTableSortOrder===t.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",t.archivedTableSortBy===t.SortBy.COURSE_ID&&t.archivedTableSortOrder===t.SortOrder.ASC),e.R7$(1),e.BMQ("aria-sort",t.getAriaSortArchived(t.SortBy.COURSE_NAME)),e.R7$(5),e.Y8G("ngIf",t.archivedTableSortBy===t.SortBy.COURSE_NAME&&t.archivedTableSortOrder===t.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",t.archivedTableSortBy===t.SortBy.COURSE_NAME&&t.archivedTableSortOrder===t.SortOrder.ASC),e.R7$(1),e.BMQ("aria-sort",t.getAriaSortArchived(t.SortBy.COURSE_CREATION_DATE)),e.R7$(5),e.Y8G("ngIf",t.archivedTableSortBy===t.SortBy.COURSE_CREATION_DATE&&t.archivedTableSortOrder===t.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",t.archivedTableSortBy===t.SortBy.COURSE_CREATION_DATE&&t.archivedTableSortOrder===t.SortOrder.ASC),e.R7$(4),e.Y8G("ngForOf",t.archivedCourses)}}function Ve(o,c){if(1&o){const t=e.RV6();e.j41(0,"div",65)(1,"div",66),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isArchivedCourseExpanded=!n.isArchivedCourseExpanded)}),e.j41(2,"b"),e.EFF(3,"Archive"),e.k0s(),e.j41(4,"div",67),e.nrm(5,"tm-panel-chevron",68),e.k0s()(),e.DNE(6,Xe,29,11,"div",69),e.k0s()}if(2&o){const t=e.XpG(2);e.R7$(5),e.Y8G("isExpanded",t.isArchivedCourseExpanded),e.R7$(1),e.Y8G("ngIf",t.isArchivedCourseExpanded)}}function ze(o,c){if(1&o&&(e.j41(0,"div"),e.DNE(1,ke,2,0,"ng-template",null,63,e.C5r),e.DNE(3,Ve,7,2,"div",64),e.k0s()),2&o){const t=e.sdS(2),r=e.XpG();e.R7$(3),e.Y8G("ngIf",r.archivedCourses.length)("ngIfElse",t)}}function We(o,c){1&o&&(e.j41(0,"div",19),e.EFF(1," There are no courses in the bin. "),e.k0s())}function Ke(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",85),e.bIt("click",function(n){e.eBV(t);const i=e.XpG(3);return n.stopPropagation(),e.Njj(i.onRestoreAll())}),e.nrm(1,"i",86),e.EFF(2," Restore All "),e.k0s()}}function Je(o,c){1&o&&(e.j41(0,"button",87),e.nrm(1,"i",86),e.EFF(2," Restore All "),e.k0s())}function He(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",88),e.bIt("click",function(n){e.eBV(t);const i=e.XpG(3);return n.stopPropagation(),e.Njj(i.onDeleteAll())}),e.nrm(1,"i",89),e.EFF(2," Delete All "),e.k0s()}}function Qe(o,c){1&o&&(e.j41(0,"button",87),e.nrm(1,"i",89),e.EFF(2," Delete All "),e.k0s())}function Ze(o,c){1&o&&e.nrm(0,"i",34)}function qe(o,c){1&o&&e.nrm(0,"i",35)}function et(o,c){1&o&&e.nrm(0,"i",34)}function tt(o,c){1&o&&e.nrm(0,"i",35)}function st(o,c){1&o&&e.nrm(0,"i",34)}function ot(o,c){1&o&&e.nrm(0,"i",35)}function nt(o,c){1&o&&e.nrm(0,"i",34)}function rt(o,c){1&o&&e.nrm(0,"i",35)}function it(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",95),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG(4);return e.Njj(i.onRestore(n.course.courseId))}),e.EFF(1," Restore "),e.k0s()}if(2&o){const t=e.XpG().index;e.Mz_("id","btn-restore-",t,"")}}function at(o,c){if(1&o&&(e.j41(0,"button",58),e.EFF(1," Restore "),e.k0s()),2&o){const t=e.XpG().index;e.Mz_("id","btn-restore-disabled-",t,"")}}function ct(o,c){if(1&o){const t=e.RV6();e.j41(0,"button",96),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG(4);return e.Njj(i.onDeletePermanently(n.course.courseId))}),e.EFF(1," Delete Permanently "),e.k0s()}if(2&o){const t=e.XpG().index;e.Mz_("id","btn-delete-",t,"")}}function dt(o,c){if(1&o&&(e.j41(0,"button",97),e.EFF(1," Delete Permanently "),e.k0s()),2&o){const t=e.XpG().index;e.Mz_("id","btn-delete-disabled-",t,"")}}function lt(o,c){if(1&o&&(e.j41(0,"tr")(1,"td",37),e.EFF(2),e.k0s(),e.j41(3,"td",38),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"span",39),e.nI1(7,"date"),e.EFF(8),e.nI1(9,"date"),e.k0s()(),e.j41(10,"td")(11,"span",39),e.nI1(12,"date"),e.EFF(13),e.nI1(14,"date"),e.k0s()(),e.j41(15,"td",40),e.DNE(16,it,2,1,"button",92),e.DNE(17,at,2,1,"button",42),e.DNE(18,ct,2,1,"button",93),e.DNE(19,dt,2,1,"button",94),e.k0s()()),2&o){const t=c.$implicit,r=c.index;e.R7$(1),e.Mz_("id","deleted-course-id-",r,""),e.R7$(1),e.JRh(t.course.courseId),e.R7$(2),e.JRh(t.course.courseName),e.R7$(2),e.Y8G("ngbTooltip",e.i5U(7,11,t.course.creationTimestamp,"EEE, dd MMM yyyy, h:mma")),e.R7$(2),e.SpI(" ",e.i5U(9,14,t.course.creationTimestamp,"d MMM yyyy")," "),e.R7$(3),e.Y8G("ngbTooltip",e.i5U(12,17,t.course.deletionTimestamp,"EEE, dd MMM yyyy, h:mma")),e.R7$(2),e.SpI(" ",e.i5U(14,20,t.course.deletionTimestamp,"d MMM yyyy")," "),e.R7$(3),e.Y8G("ngIf",t.canModifyCourse),e.R7$(1),e.Y8G("ngIf",!t.canModifyCourse),e.R7$(1),e.Y8G("ngIf",t.canModifyCourse),e.R7$(1),e.Y8G("ngIf",!t.canModifyCourse)}}function ut(o,c){if(1&o){const t=e.RV6();e.j41(0,"div",90)(1,"table",91)(2,"thead")(3,"tr",72)(4,"th",73),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.sortDeletedCoursesEvent(n.SortBy.COURSE_ID))}),e.j41(5,"button"),e.EFF(6," Course ID "),e.j41(7,"span",24),e.nrm(8,"i",25),e.DNE(9,Ze,1,0,"i",26),e.DNE(10,qe,1,0,"i",27),e.k0s()()(),e.j41(11,"th",73),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.sortDeletedCoursesEvent(n.SortBy.COURSE_NAME))}),e.j41(12,"button"),e.EFF(13," Course Name "),e.j41(14,"span",24),e.nrm(15,"i",25),e.DNE(16,et,1,0,"i",26),e.DNE(17,tt,1,0,"i",27),e.k0s()()(),e.j41(18,"th",73),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.sortDeletedCoursesEvent(n.SortBy.COURSE_CREATION_DATE))}),e.j41(19,"button"),e.EFF(20," Creation Date "),e.j41(21,"span",24),e.nrm(22,"i",25),e.DNE(23,st,1,0,"i",26),e.DNE(24,ot,1,0,"i",27),e.k0s()()(),e.j41(25,"th",73),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.sortDeletedCoursesEvent(n.SortBy.COURSE_DELETION_DATE))}),e.j41(26,"button"),e.EFF(27," Deletion Date "),e.j41(28,"span",24),e.nrm(29,"i",25),e.DNE(30,nt,1,0,"i",26),e.DNE(31,rt,1,0,"i",27),e.k0s()()(),e.j41(32,"th",30),e.EFF(33,"Action(s)"),e.k0s()()(),e.j41(34,"tbody"),e.DNE(35,lt,20,23,"tr",32),e.k0s()()()}if(2&o){const t=e.XpG(3);e.Y8G("@collapseAnim",void 0),e.R7$(4),e.BMQ("aria-sort",t.getAriaSortDeleted(t.SortBy.COURSE_ID)),e.R7$(5),e.Y8G("ngIf",t.deletedTableSortBy===t.SortBy.COURSE_ID&&t.deletedTableSortOrder===t.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",t.deletedTableSortBy===t.SortBy.COURSE_ID&&t.deletedTableSortOrder===t.SortOrder.ASC),e.R7$(1),e.BMQ("aria-sort",t.getAriaSortDeleted(t.SortBy.COURSE_NAME)),e.R7$(5),e.Y8G("ngIf",t.deletedTableSortBy===t.SortBy.COURSE_NAME&&t.deletedTableSortOrder===t.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",t.deletedTableSortBy===t.SortBy.COURSE_NAME&&t.deletedTableSortOrder===t.SortOrder.ASC),e.R7$(1),e.BMQ("aria-sort",t.getAriaSortDeleted(t.SortBy.COURSE_CREATION_DATE)),e.R7$(5),e.Y8G("ngIf",t.deletedTableSortBy===t.SortBy.COURSE_CREATION_DATE&&t.deletedTableSortOrder===t.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",t.deletedTableSortBy===t.SortBy.COURSE_CREATION_DATE&&t.deletedTableSortOrder===t.SortOrder.ASC),e.R7$(1),e.BMQ("aria-sort",t.getAriaSortDeleted(t.SortBy.COURSE_DELETION_DATE)),e.R7$(5),e.Y8G("ngIf",t.deletedTableSortBy===t.SortBy.COURSE_DELETION_DATE&&t.deletedTableSortOrder===t.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",t.deletedTableSortBy===t.SortBy.COURSE_DELETION_DATE&&t.deletedTableSortOrder===t.SortOrder.ASC),e.R7$(4),e.Y8G("ngForOf",t.softDeletedCourses)}}function _t(o,c){if(1&o){const t=e.RV6();e.j41(0,"div",79)(1,"div",80),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.isRecycleBinExpanded=!n.isRecycleBinExpanded)}),e.j41(2,"b"),e.EFF(3,"Recycle Bin"),e.k0s(),e.j41(4,"div",67),e.DNE(5,Ke,3,0,"button",81),e.DNE(6,Je,3,0,"button",82),e.DNE(7,He,3,0,"button",83),e.DNE(8,Qe,3,0,"button",82),e.nrm(9,"tm-panel-chevron",68),e.k0s()(),e.DNE(10,ut,36,14,"div",84),e.k0s()}if(2&o){const t=e.XpG(2);e.R7$(5),e.Y8G("ngIf",t.canRestoreAll),e.R7$(1),e.Y8G("ngIf",!t.canRestoreAll),e.R7$(1),e.Y8G("ngIf",t.canDeleteAll),e.R7$(1),e.Y8G("ngIf",!t.canDeleteAll),e.R7$(1),e.Y8G("isExpanded",t.isRecycleBinExpanded),e.R7$(1),e.Y8G("ngIf",t.isRecycleBinExpanded)}}function mt(o,c){if(1&o&&(e.j41(0,"div"),e.DNE(1,We,2,0,"ng-template",null,77,e.C5r),e.DNE(3,_t,11,6,"div",78),e.k0s()),2&o){const t=e.sdS(2),r=e.XpG();e.R7$(3),e.Y8G("ngIf",r.softDeletedCourses.length)("ngIfElse",t)}}function pt(o,c){if(1&o&&e.nrm(0,"tm-modified-timestamps-modal",98),2&o){const t=e.XpG();e.Y8G("modifiedSessions",t.modifiedSessions)}}let ht=(()=>{class o{constructor(t,r,n,i,_,E,D,W,K,J){this.ngbModal=t,this.route=r,this.statusMessageService=n,this.courseService=i,this.studentService=_,this.simpleModalService=E,this.tableComparatorService=D,this.feedbackSessionsService=W,this.progressBarService=K,this.timezoneService=J,this.activeCourses=[],this.archivedCourses=[],this.softDeletedCourses=[],this.allCoursesList=[],this.activeCoursesList=[],this.courseStats={},this.courseFormModel=(0,$.H_)(),this.resetCourseForm=new e.bkB,this.activeTableSortOrder=u.x.ASC,this.activeTableSortBy=u.g.COURSE_CREATION_DATE,this.archivedTableSortOrder=u.x.ASC,this.archivedTableSortBy=u.g.COURSE_NAME,this.deletedTableSortOrder=u.x.ASC,this.deletedTableSortBy=u.g.COURSE_NAME,this.SortBy=u.g,this.SortOrder=u.x,this.CourseEditFormMode=$.ZG,this.isLoadingActiveCourses=!1,this.isLoadingArchivedCourses=!1,this.isLoadingSoftDeletedCourses=!1,this.hasLoadingFailed=!1,this.isRecycleBinExpanded=!1,this.canDeleteAll=!0,this.canRestoreAll=!0,this.isAddNewCourseFormExpanded=!1,this.isArchivedCourseExpanded=!1,this.isCopyingCourse=!1,this.copyProgressPercentage=0,this.totalNumberOfSessionsToCopy=0,this.numberOfSessionsCopied=0,this.modifiedSessions={},this.courseAdded=new e.bkB}ngOnInit(){this.route.queryParams.subscribe(t=>{t.isAddNewCourse&&(this.isAddNewCourseFormExpanded=t.isAddNewCourse),this.loadInstructorCourses()})}setIsCopyingCourse(t){this.isCopyingCourse=t,this.courseFormModel.isCopying=t}loadInstructorCourses(){this.hasLoadingFailed=!1,this.isLoadingActiveCourses=!0,this.isLoadingArchivedCourses=!0,this.isLoadingSoftDeletedCourses=!0,this.activeCourses=[],this.archivedCourses=[],this.softDeletedCourses=[],this.activeCoursesList=[],this.allCoursesList=[],this.courseService.getAllCoursesAsInstructor("active").subscribe({next:t=>{t.courses.forEach(r=>{this.allCoursesList.push(r),this.activeCoursesList.push(r);let n=!1,i=!1;r.privileges&&(n=r.privileges.canModifyCourse,i=r.privileges.canModifyStudent),this.activeCourses.push({course:r,canModifyCourse:n,canModifyStudent:i,isLoadingCourseStats:!1})}),this.activeCoursesDefaultSort(),this.isLoadingActiveCourses=!1},error:t=>{this.isLoadingActiveCourses=!1,this.hasLoadingFailed=!0,this.statusMessageService.showErrorToast(t.error.message)}}),this.courseService.getAllCoursesAsInstructor("archived").subscribe({next:t=>{for(const r of t.courses){this.allCoursesList.push(r);let n=!1,i=!1;r.privileges&&(n=r.privileges.canModifyCourse,i=r.privileges.canModifyStudent),this.archivedCourses.push({course:r,canModifyCourse:n,canModifyStudent:i,isLoadingCourseStats:!1}),this.archivedCoursesDefaultSort()}this.isLoadingArchivedCourses=!1},error:t=>{this.isLoadingArchivedCourses=!1,this.hasLoadingFailed=!0,this.statusMessageService.showErrorToast(t.error.message)}}),this.courseService.getAllCoursesAsInstructor("softDeleted").subscribe({next:t=>{for(const r of t.courses){this.allCoursesList.push(r);let n=!1,i=!1;r.privileges&&(n=r.privileges.canModifyCourse,i=r.privileges.canModifyStudent);const E={course:r,canModifyCourse:n,canModifyStudent:i,isLoadingCourseStats:!1};this.softDeletedCourses.push(E),this.deletedCoursesDefaultSort(),E.canModifyCourse||(this.canDeleteAll=!1,this.canRestoreAll=!1)}this.isLoadingSoftDeletedCourses=!1},error:t=>{this.isLoadingSoftDeletedCourses=!1,this.hasLoadingFailed=!0,this.statusMessageService.showErrorToast(t.error.message)}}),this.courseFormModel.activeCourses=this.activeCoursesList,this.courseFormModel.allCourses=this.allCoursesList}getCourseStats(t){const r=this.activeCourses[t],n=r.course.courseId;n?(r.isLoadingCourseStats=!0,this.studentService.getStudentsFromCourse({courseId:n}).pipe((0,b.j)(()=>{r.isLoadingCourseStats=!1})).subscribe({next:i=>{this.courseStats[n]={sections:new Set(i.students.map(_=>_.sectionName)).size,teams:new Set(i.students.map(_=>_.teamName)).size,students:i.students.length,unregistered:i.students.filter(_=>_.joinState===l.SR.NOT_JOINED).length}},error:i=>{this.statusMessageService.showErrorToast(i.error.message)}})):this.statusMessageService.showErrorToast(`Course ${n} is not found!`)}changeArchiveStatus(t,r){t?this.courseService.changeArchiveStatus(t,{archiveStatus:r}).subscribe({next:n=>{n.isArchived?(this.changeModelFromActiveToArchived(t),this.statusMessageService.showSuccessToast(`The course ${t} has been archived. It will not appear on the home page anymore.`)):(this.changeModelFromArchivedToActive(t),this.statusMessageService.showSuccessToast("The course has been unarchived."))},error:n=>{this.statusMessageService.showErrorToast(n.error.message)}}):this.statusMessageService.showErrorToast(`Course ${t} is not found!`)}changeModelFromActiveToArchived(t){const r=this.findCourse(this.activeCourses,t);this.activeCourses=this.removeCourse(this.activeCourses,t),this.activeCoursesList=this.activeCourses.map(n=>n.course),void 0!==r&&(this.archivedCourses.push(r),this.archivedCourses.sort(this.sortBy(this.archivedTableSortBy,this.archivedTableSortOrder)))}changeModelFromArchivedToActive(t){const r=this.findCourse(this.archivedCourses,t);this.archivedCourses=this.removeCourse(this.archivedCourses,t),void 0!==r&&(this.activeCourses.push(r),this.activeCoursesList=this.activeCourses.map(n=>n.course),this.activeCourses.sort(this.sortBy(this.activeTableSortBy,this.activeTableSortOrder)))}createNewCourse(){this.courseFormModel.isSaving=!0,this.courseService.createCourse(this.courseFormModel.course.institute,{courseName:this.courseFormModel.course.courseName,timeZone:this.courseFormModel.course.timeZone,courseId:this.courseFormModel.course.courseId}).pipe((0,b.j)(()=>{this.courseFormModel.isSaving=!1})).subscribe({next:()=>{this.statusMessageService.showSuccessToast("The course has been added."),this.courseFormModel.course.courseId="",this.courseFormModel.course.courseName="",this.resetCourseForm.emit(),this.loadInstructorCourses()},error:t=>{this.statusMessageService.showErrorToast(t.error.message)}})}findCourse(t,r){return t.find(n=>n.course.courseId===r)}removeCourse(t,r){return t.filter(n=>n.course.courseId!==r)}onCopy(t,r,n){t?this.feedbackSessionsService.getFeedbackSessionsForInstructor(t).subscribe({next:i=>{const _=this.ngbModal.open(N.n);_.componentInstance.oldCourseId=t,_.componentInstance.oldCourseName=r,_.componentInstance.allCourses=this.allCoursesList,_.componentInstance.newTimeZone=n,_.componentInstance.courseToFeedbackSession[t]=i.feedbackSessions,_.componentInstance.selectedFeedbackSessions=new Set(i.feedbackSessions),_.result.then(E=>this.createCopiedCourse(E),()=>{})},error:i=>{this.statusMessageService.showErrorToast(i.error.message)}}):this.statusMessageService.showErrorToast("Course is not found!")}createCopiedCourse(t){this.setIsCopyingCourse(!0),this.modifiedSessions={},this.numberOfSessionsCopied=0,this.totalNumberOfSessionsToCopy=t.totalNumberOfSessions,this.copyProgressPercentage=0,this.courseService.createCourse(t.newCourseInstitute,{courseName:t.newCourseName,timeZone:t.newTimeZone,courseId:t.newCourseId}).subscribe({next:()=>{new Promise(n=>{if(0===t.selectedFeedbackSessionList.size)return this.progressBarService.updateProgress(100),void n();t.selectedFeedbackSessionList.forEach(i=>{this.copyFeedbackSession(i,t.newCourseId,t.newTimeZone,t.oldCourseId).pipe((0,b.j)(()=>{this.numberOfSessionsCopied+=1,this.copyProgressPercentage=Math.round(100*this.numberOfSessionsCopied/this.totalNumberOfSessionsToCopy),this.progressBarService.updateProgress(this.copyProgressPercentage),this.numberOfSessionsCopied===this.totalNumberOfSessionsToCopy&&n()})).subscribe()})}).then(()=>{this.courseService.getCourseAsInstructor(t.newCourseId).subscribe(n=>{this.activeCourses.push(this.getCourseModelFromCourse(n)),this.activeCoursesList.push(n),this.allCoursesList.push(n),this.activeCoursesDefaultSort(),this.setIsCopyingCourse(!1),Object.keys(this.modifiedSessions).length>0?this.simpleModalService.openInformationModal("Note On Modified Session Timings",P.i.WARNING,this.modifiedTimestampsModal):this.statusMessageService.showSuccessToast("The course has been added.")})})},error:r=>{this.statusMessageService.showErrorToast(r.error.message),this.setIsCopyingCourse(!1),this.hasLoadingFailed=!0}})}getCourseModelFromCourse(t){let r=!1,n=!1;return t.privileges&&(r=t.privileges.canModifyCourse,n=t.privileges.canModifyStudent),{course:t,canModifyCourse:r,canModifyStudent:n,isLoadingCourseStats:!1}}copyFeedbackSession(t,r,n,i){return this.feedbackSessionsService.createFeedbackSession(r,this.toFbSessionCreationReqWithName(t,n,i))}toFbSessionCreationReqWithName(t,r,n){const i=m()().tz(r).subtract(2,"hours").valueOf(),_=m()().tz(r).add(2,"days").startOf("hour").valueOf(),E=m()().tz(r).add(7,"days").startOf("hour").valueOf(),D=m()().tz(r).add(90,"days").valueOf(),W=m()().tz(r).add(90,"days").startOf("hour").valueOf(),K=m()().tz(r).add(180,"days").valueOf(),J=m()().tz(r).add(180,"days").startOf("hour").valueOf();let k=!1,O=t.submissionStartTimestamp;O<i?(O=_,k=!0):O>D&&(O=W,k=!0);let G=t.submissionEndTimestamp;G<O?(G=E,k=!0):G>K&&(G=J,k=!0);let x=t.sessionVisibleSetting,j=t.customSessionVisibleTimestamp;const Mt=m()(O).tz(r).subtract(30,"days").valueOf(),Dt=m()(O).tz(r).subtract(30,"days").startOf("hour").valueOf();x===l.Be.CUSTOM&&(j<Mt?(j=Dt,k=!0):j>O&&(x=l.Be.AT_OPEN,k=!0));let B=t.responseVisibleSetting;const H=t.customResponseVisibleTimestamp;return B===l.KG.CUSTOM&&(x===l.Be.AT_OPEN&&H<O||H<j)&&(B=l.KG.LATER,k=!0),k&&(this.modifiedSessions[t.feedbackSessionName]={oldTimestamp:{submissionStartTimestamp:this.formatTimestamp(t.submissionStartTimestamp,t.timeZone),submissionEndTimestamp:this.formatTimestamp(t.submissionEndTimestamp,t.timeZone),sessionVisibleTimestamp:t.sessionVisibleSetting===l.Be.AT_OPEN?"On submission opening time":this.formatTimestamp(t.customSessionVisibleTimestamp,t.timeZone),responseVisibleTimestamp:""},newTimestamp:{submissionStartTimestamp:this.formatTimestamp(O,t.timeZone),submissionEndTimestamp:this.formatTimestamp(G,t.timeZone),sessionVisibleTimestamp:x===l.Be.AT_OPEN?"On submission opening time":this.formatTimestamp(j,t.timeZone),responseVisibleTimestamp:""}},this.modifiedSessions[t.feedbackSessionName].oldTimestamp.responseVisibleTimestamp=t.responseVisibleSetting===l.KG.AT_VISIBLE?"On session visible time":t.responseVisibleSetting===l.KG.LATER?"Not now (publish manually)":this.formatTimestamp(t.customResponseVisibleTimestamp,t.timeZone),this.modifiedSessions[t.feedbackSessionName].newTimestamp.responseVisibleTimestamp=B===l.KG.AT_VISIBLE?"On session visible time":B===l.KG.LATER?"Not now (publish manually)":this.formatTimestamp(H,t.timeZone)),{feedbackSessionName:t.feedbackSessionName,toCopyCourseId:n,toCopySessionName:t.feedbackSessionName,instructions:t.instructions,submissionStartTimestamp:O,submissionEndTimestamp:G,gracePeriod:t.gracePeriod,sessionVisibleSetting:x,customSessionVisibleTimestamp:j,responseVisibleSetting:B,customResponseVisibleTimestamp:t.customResponseVisibleTimestamp,isClosingSoonEmailEnabled:t.isClosingSoonEmailEnabled,isPublishedEmailEnabled:t.isPublishedEmailEnabled}}formatTimestamp(t,r){return this.timezoneService.formatToString(t,r,"D MMM YYYY h:mm A")}onDelete(t){return t?this.simpleModalService.openConfirmationModal("Warning: The course will be moved to the recycle bin.",P.i.WARNING,"Are you sure you want to continue?").result.then(()=>{this.courseService.binCourse(t).subscribe({next:n=>{this.moveCourseToRecycleBin(t,n.deletionTimestamp),this.statusMessageService.showSuccessToast(`The course ${n.courseId} has been deleted. You can restore it from the Recycle Bin manually.`)},error:n=>{this.statusMessageService.showErrorToast(n.error.message)}})}).catch(()=>{}):(this.statusMessageService.showErrorToast(`Course ${t} is not found!`),Promise.resolve())}moveCourseToRecycleBin(t,r){const n=this.findCourse(this.activeCourses,t);if(this.activeCourses=this.removeCourse(this.activeCourses,t),this.activeCoursesList=this.activeCourses.map(i=>i.course),n)n.course.deletionTimestamp=r,this.softDeletedCourses.push(n),this.softDeletedCourses.sort(this.sortBy(this.deletedTableSortBy,this.deletedTableSortOrder));else{const i=this.findCourse(this.archivedCourses,t);this.archivedCourses=this.removeCourse(this.archivedCourses,t),void 0!==i&&(i.course.deletionTimestamp=r,this.softDeletedCourses.push(i),this.softDeletedCourses.sort(this.sortBy(this.deletedTableSortBy,this.deletedTableSortOrder)))}}onDeletePermanently(t){if(!t)return this.statusMessageService.showErrorToast(`Course ${t} is not found!`),Promise.resolve();const r=this.allCoursesList.find(D=>D.courseId===t)?.institute??"",n=this.allCoursesList.length,i=this.allCoursesList.filter(D=>D.institute===r).length,E=this.simpleModalService.openConfirmationModal(`Delete course <strong>${t}</strong> permanently?`,P.i.DANGER,`<strong>Are you sure you want to permanently delete ${t}?</strong><br>\n      This operation will delete all students and sessions in these courses.\n      All instructors of these courses will not be able to access them hereafter as well.`);return E.componentInstance.courseId=t,E.result.then(()=>1===n||1===i?this.simpleModalService.openConfirmationModal("This action will cause you to <mark><strong>lose access</strong></mark> to TEAMMATES!",P.i.DANGER,1===n?`This is your last course on TEAMMATES for which you have instructor access. \n            Deleting this course will <mark><strong>remove your instructor access</strong></mark> to TEAMMATES.<br>\n            Are you sure you want to delete the course <strong>${t}</strong>?`:`If you delete all courses of institute <strong>${r}</strong>, \n            you will <mark><strong>lose instructor access</strong></mark> \n            to TEAMMATES under the institution <strong>${r}</strong>. \n            To retain access, ensure you keep at least one course for each institution you are an instructor of.<br>\n            Are you sure you want to delete the course <strong>${t}</strong> in institution\n            <strong>${r}</strong>?`).result:Promise.resolve()).then(()=>{this.courseService.deleteCourse(t).subscribe({next:()=>{this.softDeletedCourses=this.removeCourse(this.softDeletedCourses,t),this.allCoursesList=this.allCoursesList.filter(D=>D.courseId!==t),this.statusMessageService.showSuccessToast(`The course ${t} has been permanently deleted.`)},error:D=>{this.statusMessageService.showErrorToast(D.error.message)}})}).catch(()=>{})}onRestore(t){t?this.courseService.restoreCourse(t).subscribe({next:r=>{this.loadInstructorCourses(),this.statusMessageService.showSuccessToast(r.message)},error:r=>{this.statusMessageService.showErrorToast(r.error.message)}}):this.statusMessageService.showErrorToast(`Course ${t} is not found!`)}onDeleteAll(){const r=this.allCoursesList.length===this.softDeletedCourses.length;this.simpleModalService.openConfirmationModal("Deleting all courses permanently?",P.i.DANGER,"<strong>Are you sure you want to permanently delete all the courses in the Recycle Bin?</strong><br>\n        This operation will delete all students and sessions in these courses.\n        All instructors of these courses will not be able to access them hereafter as well.").result.then(()=>r?this.simpleModalService.openConfirmationModal("This action will cause you to <mark><strong>lose access</strong></mark> to TEAMMATES!",P.i.DANGER,"These are your last courses registered on TEAMMATES for which you have instructor access. \n          Deleting these courses will <mark><strong>remove your instructor access</strong></mark> to TEAMMATES.<br>\n          Are you sure you want to permanently delete these courses?").result:Promise.resolve()).then(()=>{const i=[];this.softDeletedCourses.forEach(_=>{i.push(this.courseService.deleteCourse(_.course.courseId))}),(0,v.p)(i).subscribe({next:()=>{this.softDeletedCourses=[],this.allCoursesList=[],this.allCoursesList.push(...this.activeCourses.map(_=>_.course)),this.allCoursesList.push(...this.archivedCourses.map(_=>_.course)),this.statusMessageService.showSuccessToast("All courses have been permanently deleted.")},error:_=>{this.statusMessageService.showErrorToast(_.error.message)}})}).catch(()=>{})}onRestoreAll(){const t=[];this.softDeletedCourses.forEach(r=>{t.push(this.courseService.restoreCourse(r.course.courseId))}),(0,v.p)(t).subscribe({next:()=>{this.loadInstructorCourses(),this.statusMessageService.showSuccessToast("All courses have been restored.")},error:r=>{this.statusMessageService.showErrorToast(r.error.message)}})}sortCoursesEvent(t){this.activeTableSortOrder=this.activeTableSortBy===t&&this.activeTableSortOrder===u.x.ASC?u.x.DESC:u.x.ASC,this.activeTableSortBy=t,this.activeCourses.sort(this.sortBy(t,this.activeTableSortOrder))}getAriaSortActive(t){return t!==this.activeTableSortBy?"none":this.activeTableSortOrder===u.x.ASC?"ascending":"descending"}activeCoursesDefaultSort(){this.activeTableSortBy=u.g.COURSE_CREATION_DATE,this.activeTableSortOrder=u.x.DESC,this.activeCourses.sort(this.sortBy(this.activeTableSortBy,this.activeTableSortOrder))}sortArchivedCoursesEvent(t){this.archivedTableSortOrder=this.archivedTableSortBy===t&&this.archivedTableSortOrder===u.x.ASC?u.x.DESC:u.x.ASC,this.archivedTableSortBy=t,this.archivedCourses.sort(this.sortBy(t,this.archivedTableSortOrder))}getAriaSortArchived(t){return t!==this.archivedTableSortBy?"none":this.archivedTableSortOrder===u.x.ASC?"ascending":"descending"}archivedCoursesDefaultSort(){this.archivedTableSortBy=u.g.COURSE_CREATION_DATE,this.archivedTableSortOrder=u.x.DESC,this.archivedCourses.sort(this.sortBy(this.archivedTableSortBy,this.archivedTableSortOrder))}sortDeletedCoursesEvent(t){this.deletedTableSortOrder=this.deletedTableSortBy===t&&this.deletedTableSortOrder===u.x.ASC?u.x.DESC:u.x.ASC,this.deletedTableSortBy=t,this.softDeletedCourses.sort(this.sortBy(t,this.deletedTableSortOrder))}getAriaSortDeleted(t){return t!==this.deletedTableSortBy?"none":this.deletedTableSortOrder===u.x.ASC?"ascending":"descending"}deletedCoursesDefaultSort(){this.deletedTableSortBy=u.g.COURSE_DELETION_DATE,this.deletedTableSortOrder=u.x.DESC,this.softDeletedCourses.sort(this.sortBy(this.deletedTableSortBy,this.deletedTableSortOrder))}sortBy(t,r){return(n,i)=>{let _,E;switch(t){case u.g.COURSE_ID:_=n.course.courseId?n.course.courseId:"",E=i.course.courseId?i.course.courseId:"";break;case u.g.COURSE_NAME:_=n.course.courseName,E=i.course.courseName;break;case u.g.COURSE_CREATION_DATE:_=n.course.creationTimestamp.toString(),E=i.course.creationTimestamp.toString();break;default:_="",E=""}return this.tableComparatorService.compare(t,r,_,E)}}static#e=this.\u0275fac=function(r){return new(r||o)(e.rXU(g.Bq),e.rXU(y.nX),e.rXU(Y.x),e.rXU(U.f),e.rXU(X.b),e.rXU(p.r),e.rXU(M.C),e.rXU(f.u),e.rXU(S.W),e.rXU(d.D))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["tm-instructor-courses-page"]],viewQuery:function(r,n){if(1&r&&e.GBs(ee,5),2&r){let i;e.mGM(i=e.lsd())&&(n.modifiedTimestampsModal=i.first)}},outputs:{courseAdded:"courseAdded"},decls:24,vars:8,consts:[["id","btn-add-course",1,"btn","btn-success",3,"disabled","click"],[1,"fas","fa-plus"],["id","add-course-section","class","course-section",4,"ngIf"],["class","margin-top-30px",4,"ngIf"],[3,"shouldShowRetry","message","retryEvent"],[1,"course-section"],[1,"h3"],[4,"tmIsLoading"],[1,"h3","text-muted"],["aria-hidden","true",1,"fa","fa-file-archive"],[1,"row","course-section","margin-top-30px"],[1,"col-12"],["aria-hidden","true",1,"fa","fa-trash-alt"],["modifiedTimestampsModal",""],["id","add-course-section",1,"course-section"],[3,"formMode","formModel","resetFormEvent","formModelChange","closeFormEvent","createNewCourseEvent","copyCourseEvent"],[1,"margin-top-30px"],["addCourseAlert",""],[4,"ngIf","ngIfElse"],["role","alert",1,"alert","alert-warning","margin-top-30px"],[1,"table","table-responsive"],["id","active-courses-table",1,"table","table-striped","table-bordered","margin-0"],[1,"bg-primary","text-white"],["id","sort-course-id",1,"sortable-header",3,"click"],["aria-hidden","true",1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],["id","sort-course-name",1,"sortable-header",3,"click"],["id","sort-creation-date",1,"sortable-header",3,"click"],[1,"text-center"],["loadingSpinner",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],[3,"useBlueSpinner"],[1,"text-break",3,"id"],[1,"text-break"],["container","body",1,"ngb-tooltip-class",3,"ngbTooltip"],[1,"text-center","actions-cell"],["class","btn btn-light btn-sm custom-button-active","ngbTooltip","Enroll student into the course","tmRouterLink","/web/instructor/courses/enroll",3,"id","queryParams",4,"ngIf"],["class","btn btn-light btn-sm disabled",3,"id",4,"ngIf"],["ngbDropdown","",1,"d-inline-block"],["ngbDropdownToggle","",1,"btn","btn-light","btn-sm","custom-button-active",3,"id"],["ngbDropdownMenu",""],["tmRouterLink","/web/instructor/courses/details",1,"btn","btn-primary","btn-sm","dropdown-item","clickable",3,"queryParams"],["tmRouterLink","/web/instructor/courses/edit",1,"btn","btn-primary","btn-sm","dropdown-item","clickable",3,"queryParams"],["class","btn btn-primary btn-sm dropdown-item clickable","ngbTooltip","Copy the course and its corresponding sessions","placement","left","container","body",3,"id","disabled","click",4,"ngIf"],["ngbTooltip","Archive the course so that it will not be shown in the home page any more (you can still access it from the 'Courses' tab)","placement","left","container","body",1,"btn","btn-primary","btn-sm","dropdown-item","clickable",3,"id","click"],["class","btn btn-primary btn-sm dropdown-item clickable","tmRouterLink","/web/instructor/courses/student-activity-logs",3,"queryParams",4,"ngIf"],["class","btn btn-primary btn-sm dropdown-item clickable","ngbTooltip","Delete the course and its corresponding students and sessions","placement","left","container","body",3,"id","click",4,"ngIf"],["class","btn btn-primary btn-sm dropdown-item disabled",3,"id",4,"ngIf"],["class","link-button",3,"click",4,"ngIf","ngIfElse"],[1,"link-button",3,"click"],["class","link-button",3,"id","click",4,"ngIf","ngIfElse"],[1,"link-button",3,"id","click"],["ngbTooltip","Enroll student into the course","tmRouterLink","/web/instructor/courses/enroll",1,"btn","btn-light","btn-sm","custom-button-active",3,"id","queryParams"],[1,"btn","btn-light","btn-sm","disabled",3,"id"],["ngbTooltip","Copy the course and its corresponding sessions","placement","left","container","body",1,"btn","btn-primary","btn-sm","dropdown-item","clickable",3,"id","disabled","click"],["tmRouterLink","/web/instructor/courses/student-activity-logs",1,"btn","btn-primary","btn-sm","dropdown-item","clickable",3,"queryParams"],["ngbTooltip","Delete the course and its corresponding students and sessions","placement","left","container","body",1,"btn","btn-primary","btn-sm","dropdown-item","clickable",3,"id","click"],[1,"btn","btn-primary","btn-sm","dropdown-item","disabled",3,"id"],["noArchiveAlert",""],["class","card top-padded",4,"ngIf","ngIfElse"],[1,"card","top-padded"],["id","archived-table-heading",1,"card-header","bg-info","cursor-pointer",3,"click"],[1,"card-header-btn-toolbar"],[3,"isExpanded"],["class","card-body archive-body table-responsive",4,"ngIf"],[1,"card-body","archive-body","table-responsive"],["id","archived-courses-table",1,"table","table-striped","table-bordered","archive-table"],[1,"background-color-medium-gray","text-color-gray"],[1,"sortable-header",3,"click"],[1,"btn","btn-light","btn-sm","custom-button-archived",3,"id","click"],["class","btn btn-light btn-sm custom-button-archived","ngbTooltip","Delete the course and its corresponding students and sessions",3,"id","click",4,"ngIf"],["ngbTooltip","Delete the course and its corresponding students and sessions",1,"btn","btn-light","btn-sm","custom-button-archived",3,"id","click"],["emptyBinAlert",""],["class","card bg-light top-padded",4,"ngIf","ngIfElse"],[1,"card","bg-light","top-padded"],["id","deleted-table-heading",1,"card-header","bg-secondary","text-white","cursor-pointer",3,"click"],["id","btn-restore-all","class","btn btn-secondary btn-sm","ngbTooltip","Restore all deleted courses and their corresponding students and sessions",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm disabled",4,"ngIf"],["id","btn-delete-all","class","btn btn-secondary btn-sm","ngbTooltip","Permanently delete all courses and their corresponding students and sessions",3,"click",4,"ngIf"],["class","card-body recycle-bin-body table-responsive",4,"ngIf"],["id","btn-restore-all","ngbTooltip","Restore all deleted courses and their corresponding students and sessions",1,"btn","btn-secondary","btn-sm",3,"click"],["aria-hidden","true",1,"fas","fa-check"],[1,"btn","btn-secondary","btn-sm","disabled"],["id","btn-delete-all","ngbTooltip","Permanently delete all courses and their corresponding students and sessions",1,"btn","btn-secondary","btn-sm",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"card-body","recycle-bin-body","table-responsive"],["id","deleted-courses-table",1,"table","table-responsive-lg","table-striped","table-bordered","recycle-bin-table"],["class","btn btn-light btn-sm","ngbTooltip","Restore the deleted course and its corresponding students and sessions",3,"id","click",4,"ngIf"],["class","btn btn-light btn-sm text-danger","ngbTooltip","Permanently delete the course and its corresponding students and sessions",3,"id","click",4,"ngIf"],["class","btn btn-light btn-sm disabled text-danger",3,"id",4,"ngIf"],["ngbTooltip","Restore the deleted course and its corresponding students and sessions",1,"btn","btn-light","btn-sm",3,"id","click"],["ngbTooltip","Permanently delete the course and its corresponding students and sessions",1,"btn","btn-light","btn-sm","text-danger",3,"id","click"],[1,"btn","btn-light","btn-sm","disabled","text-danger",3,"id"],[3,"modifiedSessions"]],template:function(r,n){1&r&&(e.j41(0,"div")(1,"button",0),e.bIt("click",function(){return n.isAddNewCourseFormExpanded=!0}),e.nrm(2,"i",1),e.EFF(3," Add New Course "),e.k0s()(),e.DNE(4,te,2,4,"div",2),e.DNE(5,se,4,0,"div",3),e.j41(6,"tm-loading-retry",4),e.bIt("retryEvent",function(){return n.loadInstructorCourses()}),e.j41(7,"div",5)(8,"h2",6),e.EFF(9,"Active courses"),e.k0s(),e.DNE(10,Pe,4,2,"div",7),e.k0s()(),e.j41(11,"div",5)(12,"h2",8),e.nrm(13,"span",9),e.EFF(14," Archived courses "),e.k0s(),e.DNE(15,ze,4,2,"div",7),e.k0s(),e.j41(16,"div",10)(17,"div",11)(18,"h2",8),e.nrm(19,"span",12),e.EFF(20," Deleted courses "),e.k0s(),e.DNE(21,mt,4,2,"div",7),e.k0s()(),e.DNE(22,pt,1,1,"ng-template",null,13,e.C5r)),2&r&&(e.R7$(1),e.Y8G("disabled",n.isAddNewCourseFormExpanded||n.isLoadingActiveCourses),e.R7$(3),e.Y8G("ngIf",n.isAddNewCourseFormExpanded&&!n.isLoadingActiveCourses),e.R7$(1),e.Y8G("ngIf",n.isCopyingCourse),e.R7$(1),e.Y8G("shouldShowRetry",n.hasLoadingFailed)("message","Failed to load courses"),e.R7$(4),e.Y8G("tmIsLoading",n.isLoadingActiveCourses),e.R7$(5),e.Y8G("tmIsLoading",n.isLoadingArchivedCourses),e.R7$(6),e.Y8G("tmIsLoading",n.isLoadingSoftDeletedCourses))},dependencies:[s.Sq,s.bT,g.tg,g.do,g.U0,g.md,I.n,F.y,R.Y,V.F,z.y,Q.a,Z.b,q.U,s.vh],styles:["@media (width <= 768px){.custom-button-active[_ngcontent-%COMP%]{width:115px;margin-bottom:5px}}@media (width <= 768px){.custom-button-archived[_ngcontent-%COMP%]{width:95px;margin-bottom:5px}}.sortable-header[_ngcontent-%COMP%]{cursor:pointer}.sortable-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3em}.sortable-header[_ngcontent-%COMP%]   .fa-stack[_ngcontent-%COMP%]{width:20%}.sortable-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;padding:0;text-align:left;width:100%;font:inherit;cursor:inherit}.course-section[_ngcontent-%COMP%]{margin-top:2em}.bold-label[_ngcontent-%COMP%]{font-weight:700!important}.recycle-bin-body[_ngcontent-%COMP%]{padding:0}.background-color-medium-gray[_ngcontent-%COMP%]{background-color:#e5e5e6}.text-color-black[_ngcontent-%COMP%]{color:#000}.text-color-gray[_ngcontent-%COMP%]{color:gray}.text-color-lightgray[_ngcontent-%COMP%]{color:#d3d3d3}.text-color-red[_ngcontent-%COMP%]{color:red}.link-disabled[_ngcontent-%COMP%]{cursor:default;color:#000;pointer-events:none}.recycle-bin-table[_ngcontent-%COMP%]{margin-bottom:0}.archive-body[_ngcontent-%COMP%]{padding:0}.archive-table[_ngcontent-%COMP%]{margin-bottom:0}.margin-top-30px[_ngcontent-%COMP%]{margin-top:30px}@media (width >= 768px){.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.dropdown-item){margin-left:var(--btn-margin)}}.dropdown-menu[_ngcontent-%COMP%]{min-width:.5rem}.table-responsive[_ngcontent-%COMP%]{overflow:auto}.d-inline-block[_ngcontent-%COMP%]{position:inherit}.link-button[_ngcontent-%COMP%]{border:none;text-decoration:underline;color:var(--bs-link-color);padding:0;background:none}.link-button[_ngcontent-%COMP%]:hover{color:var(--bs-link-hover-color)}"],data:{animation:[L.j]}})}return o})();var gt=a(85385),vt=a(56953),ft=a(10893),Ct=a(34029),bt=a(84309),St=a(28324),Et=a(57125),Tt=a(35649),yt=a(48381);const It=[{path:"",component:ht}];let Rt=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.$C({type:o});static#s=this.\u0275inj=e.G2t({imports:[s.MD,h.YN,h.X1,y.iI.forChild(It),g.zH,g.n8,bt.y,gt.D,Ct.Z,Et.o,yt.d,vt.K,Tt.d,ft.y,St.t]})}return o})()},58240:(A,T,a)=>{a.d(T,{W:()=>y});var s=a(21413),h=a(17705);let y=(()=>{class g{constructor(){this.progressPercentage=new s.B}updateProgress(C){this.progressPercentage.next(C)}static#e=this.\u0275fac=function(m){return new(m||g)};static#t=this.\u0275prov=h.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},6294:(A,T,a)=>{a.d(T,{r:()=>X});var s=a(17705),h=a(21894),y=a(94227),g=a(60177),e=a(17422);function C(p,M){1&p&&s.nrm(0,"i",15)}function m(p,M){1&p&&s.nrm(0,"i",16)}function v(p,M){1&p&&s.nrm(0,"i",17)}function b(p,M){1&p&&s.eu8(0)}function l(p,M){if(1&p&&(s.j41(0,"div"),s.DNE(1,b,1,0,"ng-container",18),s.k0s()),2&p){const f=s.XpG();s.R7$(1),s.Y8G("ngTemplateOutlet",f.content)}}function u(p,M){if(1&p&&s.nrm(0,"div",19),2&p){const f=s.XpG();s.Y8G("innerHTML",f.content,s.npT)}}function N(p,M){1&p&&(s.j41(0,"div",20),s.nrm(1,"tm-progress-bar"),s.k0s())}function $(p,M){if(1&p){const f=s.RV6();s.j41(0,"button",21),s.bIt("click",function(){s.eBV(f);const d=s.XpG();return s.Njj(d.activeModal.dismiss())}),s.EFF(1),s.k0s()}if(2&p){const f=s.XpG();s.R7$(1),s.SpI(" ",f.cancelMessage," ")}}const P=function(p){return{"display-none":p}},L=function(p,M,f,S){return{"bg-danger":p,"bg-warning":M,"bg-info":f,"bg-white":S}},Y=function(p,M,f,S){return{"btn-danger":p,"btn-warning":M,"btn-info":f,"btn-primary":S}};let U=(()=>{class p{get isTemplate(){return this.content instanceof s.C4Q}constructor(f){this.activeModal=f,this.SimpleModalType=h.i,this.header="",this.content="",this.type=h.i.NEUTRAL,this.isInformationOnly=!1,this.confirmMessage="Yes",this.cancelMessage="No, cancel the operation"}static#e=this.\u0275fac=function(S){return new(S||p)(s.rXU(y.Lw))};static#t=this.\u0275cmp=s.VBU({type:p,selectors:[["tm-confirmation-modal"]],inputs:{header:"header",content:"content",type:"type",isInformationOnly:"isInformationOnly",confirmMessage:"confirmMessage",cancelMessage:"cancelMessage"},decls:17,vars:24,consts:[[1,"transparent-overlay",3,"ngClass"],[1,"modal-header",3,"ngClass"],[1,"modal-title"],["class","fas fa-times-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],[1,"margin-left-5px",3,"innerHTML"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-light modal-btn-cancel",3,"click",4,"ngIf"],["type","button",1,"btn","modal-btn-ok","z-index-1",3,"ngClass","click"],[1,"fas","fa-times-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[4,"ngTemplateOutlet"],[3,"innerHTML"],[1,"progress-bar-container"],["type","button",1,"btn","btn-light","modal-btn-cancel",3,"click"]],template:function(S,d){1&S&&(s.nrm(0,"div",0),s.j41(1,"div",1)(2,"div")(3,"h5",2),s.DNE(4,C,1,0,"i",3),s.DNE(5,m,1,0,"i",4),s.DNE(6,v,1,0,"i",5),s.nrm(7,"span",6),s.k0s()(),s.j41(8,"button",7),s.bIt("click",function(){return d.type===d.SimpleModalType.LOAD?d.activeModal.close():d.activeModal.dismiss()}),s.k0s()(),s.j41(9,"div",8),s.DNE(10,l,2,1,"div",9),s.DNE(11,u,1,1,"div",10),s.DNE(12,N,2,0,"div",11),s.k0s(),s.j41(13,"div",12),s.DNE(14,$,2,1,"button",13),s.j41(15,"button",14),s.bIt("click",function(){return d.activeModal.close()}),s.EFF(16),s.k0s()()),2&S&&(s.Y8G("ngClass",s.eq3(12,P,d.type!==d.SimpleModalType.LOAD)),s.R7$(1),s.Y8G("ngClass",s.ziG(14,L,d.type===d.SimpleModalType.DANGER,d.type===d.SimpleModalType.WARNING,d.type===d.SimpleModalType.INFO||d.type===d.SimpleModalType.LOAD,d.type===d.SimpleModalType.NEUTRAL)),s.R7$(3),s.Y8G("ngIf",d.type===d.SimpleModalType.DANGER),s.R7$(1),s.Y8G("ngIf",d.type===d.SimpleModalType.WARNING),s.R7$(1),s.Y8G("ngIf",d.type===d.SimpleModalType.INFO||d.type===d.SimpleModalType.LOAD),s.R7$(1),s.Y8G("innerHTML",d.header,s.npT),s.R7$(3),s.Y8G("ngIf",d.isTemplate),s.R7$(1),s.Y8G("ngIf",!d.isTemplate),s.R7$(1),s.Y8G("ngIf",d.type===d.SimpleModalType.LOAD),s.R7$(2),s.Y8G("ngIf",!d.isInformationOnly),s.R7$(1),s.Y8G("ngClass",s.ziG(19,Y,d.type===d.SimpleModalType.DANGER||d.type===d.SimpleModalType.LOAD,d.type===d.SimpleModalType.WARNING,d.type===d.SimpleModalType.INFO,d.type===d.SimpleModalType.NEUTRAL)),s.R7$(1),s.JRh(d.confirmMessage))},dependencies:[g.YU,g.bT,g.T3,e.a],styles:[".margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.progress-bar-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2px}.transparent-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;visibility:false;z-index:0}.display-none[_ngcontent-%COMP%]{display:none}.z-index-1[_ngcontent-%COMP%]{z-index:1}"]})}return p})(),X=(()=>{class p{constructor(f){this.ngbModal=f}open(f,S,d,I,F){const R=this.ngbModal.open(U,F);return R.componentInstance.header=f,R.componentInstance.content=d,R.componentInstance.type=S,I&&(Object.entries(I).forEach(([V,z])=>{R.componentInstance[V]=z}),I.onClosed&&(R.closed.subscribe(()=>{I.onClosed()}),R.dismissed.subscribe(()=>{I.onClosed()}))),R}openConfirmationModal(f,S,d,I,F){const R={isInformationOnly:!1,confirmMessage:"Yes",cancelMessage:"No, cancel the operation",...I};return this.open(f,S,d,R,F)}openInformationModal(f,S,d,I,F){const R={isInformationOnly:!0,confirmMessage:"OK",...I};return this.open(f,S,d,R,F)}openLoadingModal(f,S,d,I,F){const R={isInformationOnly:!0,confirmMessage:"Abort",...I};return this.open(f,S,d,R,F)}static#e=this.\u0275fac=function(S){return new(S||p)(s.KVO(y.Bq))};static#t=this.\u0275prov=s.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()}}]);