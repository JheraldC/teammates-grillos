"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[4033],{13406:(R,v,a)=>{a.d(v,{p:()=>l});var e=a(94227),n=a(96508),c=a.n(n),d=a(17705);const b="ddd, DD MMM, YYYY";let l=(()=>{class _ extends e.tN{format(m){if(null==m)return"";const g=c()();return g.set("year",m.year),g.set("month",m.month-1),g.set("date",m.day),g.format(b)}parse(m){const g=c()(m,b);return{year:g.year(),month:g.month()+1,day:g.date()}}static#e=this.\u0275fac=function(){let m;return function(f){return(m||(m=d.xGo(_)))(f||_)}}();static#t=this.\u0275prov=d.jDH({token:_,factory:_.\u0275fac})}return _})()},516:(R,v,a)=>{a.d(v,{O:()=>b});var e=a(17705),n=a(94227),c=a(89417);function d(l,_){if(1&l){const o=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){e.eBV(o);const g=e.XpG(),f=e.sdS(4);return e.Njj(g.selectTodayDate(f))}),e.EFF(1," Today "),e.k0s()}}let b=(()=>{class l{constructor(o){this.calendar=o,this.isDisabled=!1,this.dateChangeCallback=new e.bkB}changeDate(o){this.dateChangeCallback.emit(o)}selectTodayDate(o){this.dateChangeCallback.emit(this.calendar.getToday()),o.navigateTo(this.calendar.getToday())}static#e=this.\u0275fac=function(m){return new(m||l)(e.rXU(n.iF))};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["tm-datepicker"]],inputs:{date:"date",isDisabled:"isDisabled",maxDate:"maxDate",minDate:"minDate"},outputs:{dateChangeCallback:"dateChangeCallback"},decls:7,vars:6,consts:[[1,"input-group"],["footer",""],["type","text","ngbDatepicker","","readonly","","aria-label","Date",1,"form-control",3,"ngModel","maxDate","minDate","disabled","footerTemplate","ngModelChange"],["timeDp","ngbDatepicker"],["aria-label","Change date","type","button",1,"btn","btn-light","input-group-text",3,"disabled","click"],[1,"fas","fa-calendar-alt"],["type","button",1,"footer-button",3,"click"]],template:function(m,g){if(1&m){const f=e.RV6();e.j41(0,"div",0),e.DNE(1,d,2,0,"ng-template",null,1,e.C5r),e.j41(3,"input",2,3),e.bIt("ngModelChange",function(E){return g.changeDate(E)}),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){e.eBV(f);const E=e.sdS(4);return e.Njj(E.toggle())}),e.nrm(6,"i",5),e.k0s()()}if(2&m){const f=e.sdS(2);e.R7$(3),e.Y8G("ngModel",g.date)("maxDate",g.maxDate)("minDate",g.minDate)("disabled",g.isDisabled)("footerTemplate",f),e.R7$(2),e.Y8G("disabled",g.isDisabled)}},dependencies:[c.me,c.BC,c.vS,n.cw],styles:[".footer-button[_ngcontent-%COMP%]{background:none!important;border:none;float:right;padding:20px!important;color:#6495ed;text-decoration:none;cursor:pointer;outline:none}.form-control[readonly][_ngcontent-%COMP%]{background-color:transparent}.form-control[_ngcontent-%COMP%]:disabled{background-color:#e9ecef}"]})}return l})()},40909:(R,v,a)=>{a.d(v,{C:()=>T});var e=a(11086),n=a(17705),c=a(8059),d=a(16507);let b=(()=>{class D{constructor(S){this.httpRequestService=S}sendErrorReport(S){return this.httpRequestService.post(c.Ld.ERROR_REPORT,{},S.request)}static#e=this.\u0275fac=function(F){return new(F||D)(n.KVO(d.R))};static#t=this.\u0275prov=n.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();var l=a(94227),_=a(30715),o=a(60177),m=a(89417);function g(D,y){1&D&&(n.j41(0,"div")(1,"p"),n.EFF(2," We are sorry that this happened. Please help us troubleshoot the problem by providing us some additional details using the form below: "),n.k0s()())}function f(D,y){if(1&D&&(n.j41(0,"div")(1,"p"),n.EFF(2," We are sorry that this happened. It is likely that your browser could not create or access cookies for authorization. If cookies are disabled in your browser, please turn on your cookies before trying again. Alternatively, you could also try emptying your browser's cache, or switching to a different browser. "),n.k0s(),n.j41(3,"p"),n.EFF(4," For further support, please contact our email address at "),n.j41(5,"a",6),n.EFF(6),n.k0s(),n.EFF(7,". "),n.k0s()()),2&D){const S=n.XpG();n.R7$(5),n.Mz_("href","mailto:",S.supportEmail,"",n.B4B),n.R7$(1),n.JRh(S.supportEmail)}}function p(D,y){if(1&D){const S=n.RV6();n.j41(0,"button",13),n.bIt("click",function(){n.eBV(S);const M=n.XpG(2);return n.Njj(M.sendErrorReport())}),n.EFF(1,"Send Error Report"),n.k0s()}if(2&D){const S=n.XpG(2);n.Y8G("disabled",!S.sendButtonEnabled)}}function E(D,y){1&D&&(n.j41(0,"div"),n.EFF(1," Your error report has been recorded. We will follow up with you in due course, usually, within 24 hours. "),n.k0s())}function C(D,y){if(1&D){const S=n.RV6();n.j41(0,"div",7)(1,"div",8)(2,"label"),n.EFF(3,"Request ID:"),n.k0s(),n.nrm(4,"br"),n.j41(5,"em"),n.EFF(6,"Note: This field is filled by the system and not modifiable."),n.k0s(),n.j41(7,"input",9),n.bIt("ngModelChange",function(M){n.eBV(S);const I=n.XpG();return n.Njj(I.requestId=M)}),n.k0s()(),n.j41(8,"div",8)(9,"label"),n.EFF(10,"Subject:"),n.k0s(),n.nrm(11,"br"),n.j41(12,"em"),n.EFF(13,"Note: This field is pre-filled for convenience. Feel free to change it to suit your needs."),n.k0s(),n.j41(14,"input",10),n.bIt("ngModelChange",function(M){n.eBV(S);const I=n.XpG();return n.Njj(I.subject=M)}),n.k0s()(),n.j41(15,"div",8)(16,"label"),n.EFF(17,"Content:"),n.k0s(),n.j41(18,"textarea",11),n.bIt("ngModelChange",function(M){n.eBV(S);const I=n.XpG();return n.Njj(I.content=M)}),n.k0s()(),n.DNE(19,p,2,1,"button",12),n.DNE(20,E,2,0,"div",4),n.k0s()}if(2&D){const S=n.XpG();n.R7$(7),n.Y8G("ngModel",S.requestId)("disabled",!0),n.R7$(7),n.Y8G("ngModel",S.subject),n.R7$(4),n.Y8G("ngModel",S.content),n.R7$(1),n.Y8G("ngIf",!S.errorReportSubmitted),n.R7$(1),n.Y8G("ngIf",S.errorReportSubmitted)}}let T=(()=>{class D{constructor(S,F,M){this.errorReportService=S,this.ngbActiveModal=F,this.statusMessageService=M,this.errorMessage="",this.subject="User-submitted Error Report",this.content="",this.requestId="",this.sendButtonEnabled=!0,this.errorReportEnabled=!0,this.errorReportSubmitted=!1,this.csrfErrorMessages=["Missing CSRF token.","Invalid CSRF token."],this.supportEmail=e.c.supportEmail}ngOnInit(){this.csrfErrorMessages.includes(this.errorMessage)&&(this.errorReportEnabled=!1)}sendErrorReport(){const S={requestId:this.requestId,subject:this.subject,content:this.content};this.sendButtonEnabled=!1,this.errorReportService.sendErrorReport({request:S}).subscribe({next:()=>{this.errorReportSubmitted=!0,this.statusMessageService.showSuccessToast("Your error report has been successfully sent"),this.ngbActiveModal.close()},error:F=>{this.sendButtonEnabled=!0,this.statusMessageService.showErrorToast(F.error.message)}})}static#e=this.\u0275fac=function(F){return new(F||D)(n.rXU(b),n.rXU(l.Lw),n.rXU(_.x))};static#t=this.\u0275cmp=n.VBU({type:D,selectors:[["tm-error-report"]],decls:11,vars:4,consts:[[1,"container","error-container"],[1,"row"],[1,"col-md-12"],["id","error-message"],[4,"ngIf"],["id","error-report",4,"ngIf"],[3,"href"],["id","error-report"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Tell us the steps you took that led you to this error page",1,"form-control",3,"ngModel","ngModelChange"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"]],template:function(F,M){1&F&&(n.j41(0,"div",0)(1,"h2"),n.EFF(2,"Uh oh! Something went wrong."),n.k0s(),n.nrm(3,"hr"),n.j41(4,"div",1)(5,"div",2)(6,"p",3),n.EFF(7),n.k0s(),n.DNE(8,g,3,0,"div",4),n.DNE(9,f,8,2,"div",4),n.k0s()(),n.DNE(10,C,21,6,"div",5),n.k0s()),2&F&&(n.R7$(7),n.SpI(' The server returns the following error message: "',M.errorMessage,'". '),n.R7$(1),n.Y8G("ngIf",M.errorReportEnabled),n.R7$(1),n.Y8G("ngIf",!M.errorReportEnabled),n.R7$(1),n.Y8G("ngIf",M.errorReportEnabled))},dependencies:[o.bT,m.me,m.BC,m.vS],styles:[".error-container[_ngcontent-%COMP%]{padding:3%}"]})}return D})()},34891:(R,v,a)=>{a.d(v,{o:()=>e});var e=function(n){return n[n.ADD=0]="ADD",n[n.EDIT=1]="EDIT",n}(e||{})},36122:(R,v,a)=>{a.d(v,{I:()=>be});var e=a(17705),n=a(94227),c=a(96508),d=a.n(c),b=a(34891),l=a(90446),_=a(40035),o=a(47650),m=a(47710),g=a(13406),f=a(21894),p=a(44199),E=a(6294),C=a(60177),T=a(89417),D=a(57286),y=a(52916),S=a(53992),F=a(516),M=a(42138),I=a(40747),x=a(95252);function O(s,h){if(1&s){const t=e.RV6();e.j41(0,"div",47)(1,"button",48),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeEditFormHandler())}),e.k0s()()}}function V(s,h){if(1&s&&(e.j41(0,"option",61),e.EFF(1),e.k0s()),2&s){const t=h.$implicit;e.Y8G("ngValue",t.name),e.R7$(1),e.JRh(t.name)}}function G(s,h){1&s&&e.nrm(0,"tm-ajax-loading")}const N=function(){return{questionId:"sessions",section:"sessions"}};function P(s,h){if(1&s){const t=e.RV6();e.j41(0,"div",39)(1,"div",49)(2,"div",50)(3,"div",51)(4,"h5"),e.EFF(5,"Create new"),e.k0s()(),e.j41(6,"div",52)(7,"select",53),e.bIt("ngModelChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("templateSessionName",i))}),e.DNE(8,V,2,2,"option",38),e.k0s(),e.j41(9,"a",54),e.nrm(10,"i",55),e.k0s()()()(),e.j41(11,"div",56)(12,"div",39)(13,"div",57)(14,"h5"),e.EFF(15,"Or"),e.k0s()(),e.j41(16,"div",58)(17,"button",59),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.copyOthersHandler())}),e.j41(18,"span"),e.EFF(19,"Copy from previous feedback sessions"),e.k0s(),e.j41(20,"div",60),e.DNE(21,G,1,0,"tm-ajax-loading",9),e.k0s()()()()()()}if(2&s){const t=e.XpG();e.R7$(7),e.Y8G("ngModel",t.model.templateSessionName),e.R7$(1),e.Y8G("ngForOf",t.templateSessions),e.R7$(1),e.Y8G("queryParams",e.lJ4(4,N)),e.R7$(12),e.Y8G("ngIf",t.isCopyOtherSessionLoading)}}function B(s,h){if(1&s){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.triggerModelChange("isEditable",!0))}),e.nrm(1,"i",71),e.EFF(2," Edit"),e.k0s()}}function A(s,h){1&s&&e.nrm(0,"tm-ajax-loading")}function Y(s,h){if(1&s){const t=e.RV6();e.j41(0,"button",72),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.submitFormHandler())}),e.DNE(1,A,1,0,"tm-ajax-loading",9),e.nrm(2,"i",73),e.EFF(3," Save"),e.k0s()}if(2&s){const t=e.XpG(2);e.Y8G("disabled",t.model.isSaving),e.R7$(1),e.Y8G("ngIf",t.model.isSaving)}}function $(s,h){if(1&s){const t=e.RV6();e.j41(0,"button",74),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.cancelHandler())}),e.nrm(1,"i",75),e.EFF(2," Cancel"),e.k0s()}if(2&s){const t=e.XpG(2);e.Y8G("disabled",t.model.isSaving)}}function U(s,h){1&s&&e.nrm(0,"tm-ajax-loading")}function L(s,h){1&s&&e.nrm(0,"tm-ajax-loading")}function w(s,h){if(1&s){const t=e.RV6();e.j41(0,"div",39)(1,"div",62),e.DNE(2,B,3,0,"button",63),e.DNE(3,Y,4,2,"button",64),e.DNE(4,$,3,1,"button",65),e.j41(5,"button",66),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.deleteHandler())}),e.DNE(6,U,1,0,"tm-ajax-loading",9),e.nrm(7,"i",67),e.EFF(8," Delete"),e.k0s(),e.j41(9,"button",68),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.copyHandler())}),e.DNE(10,L,1,0,"tm-ajax-loading",9),e.nrm(11,"i",69),e.EFF(12," Copy"),e.k0s()()()}if(2&s){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.formMode===t.SessionEditFormMode.EDIT&&!t.model.isEditable&&!t.model.isSaving),e.R7$(1),e.Y8G("ngIf",t.model.isEditable||t.model.isSaving),e.R7$(1),e.Y8G("ngIf",t.model.isEditable),e.R7$(1),e.Y8G("disabled",t.model.isSaving),e.R7$(1),e.Y8G("ngIf",t.model.isDeleting),e.R7$(3),e.Y8G("disabled",t.model.isSaving),e.R7$(1),e.Y8G("ngIf",t.model.isCopying)}}function X(s,h){if(1&s&&(e.j41(0,"option",61),e.EFF(1),e.k0s()),2&s){const t=h.$implicit;e.Y8G("ngValue",t.courseId),e.R7$(1),e.JRh(t.courseId)}}function W(s,h){1&s&&(e.j41(0,"div",78),e.EFF(1," There is no un-archived course. "),e.k0s())}const K=function(s){return{"is-invalid":s}};function H(s,h){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"select",76),e.bIt("ngModelChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.courseIdChangeHandler(i))}),e.DNE(2,X,2,2,"option",38),e.k0s(),e.DNE(3,W,2,0,"div",77),e.k0s()}if(2&s){const t=e.XpG();e.R7$(1),e.Y8G("ngClass",e.eq3(5,K,0===t.courseCandidates.length))("ngModel",t.model.courseId)("disabled",0===t.courseCandidates.length),e.R7$(1),e.Y8G("ngForOf",t.courseCandidates),e.R7$(1),e.Y8G("ngIf",0===t.courseCandidates.length)}}function z(s,h){if(1&s&&(e.j41(0,"div",79),e.EFF(1),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.SpI(" ",t.model.courseId," ")}}function Z(s,h){1&s&&(e.j41(0,"span",80),e.EFF(1,"Session Name*"),e.k0s())}function J(s,h){1&s&&(e.j41(0,"span"),e.EFF(1,"Session Name"),e.k0s())}function Q(s,h){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"input",81,82),e.bIt("ngModelChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("feedbackSessionName",i))}),e.k0s(),e.j41(3,"div",83),e.nrm(4,"i",84),e.EFF(5," The field Session Name should not be empty. "),e.k0s(),e.j41(6,"div"),e.EFF(7),e.k0s()()}if(2&s){const t=e.sdS(2),r=e.XpG();e.R7$(1),e.Y8G("ngModel",r.model.feedbackSessionName),e.R7$(2),e.Y8G("hidden",t.valid||t.pristine&&t.untouched),e.R7$(4),e.SpI(" ",r.FEEDBACK_SESSION_NAME_MAX_LENGTH-r.model.feedbackSessionName.length," characters left ")}}function q(s,h){if(1&s&&(e.j41(0,"div",85),e.EFF(1),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.SpI(" ",t.model.feedbackSessionName," ")}}function ee(s,h){if(1&s&&(e.j41(0,"div",5)(1,"div",13),e.EFF(2," Submission Status "),e.k0s(),e.j41(3,"div",86),e.EFF(4),e.nI1(5,"submissionStatusName"),e.k0s(),e.j41(6,"div",87),e.EFF(7," Published Status "),e.k0s(),e.j41(8,"div",88),e.EFF(9),e.nI1(10,"publishStatusName"),e.k0s()()),2&s){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,2,t.model.submissionStatus)," "),e.R7$(5),e.SpI(" ",e.bMT(10,4,t.model.publishStatus)," ")}}function te(s,h){if(1&s&&(e.j41(0,"option",61),e.EFF(1),e.k0s()),2&s){const t=h.$implicit;e.Y8G("ngValue",t),e.R7$(1),e.JRh(t+" min")}}const ie=function(s,h){return{courseid:s,fsname:h,preselectnonsubmitters:!1}};function ne(s,h){if(1&s&&(e.j41(0,"a",89),e.EFF(1," Individual Deadline Extensions "),e.nrm(2,"i",90),e.k0s()),2&s){const t=e.XpG();e.Y8G("queryParams",e.l_i(1,ie,t.model.courseId,t.model.feedbackSessionName))}}function se(s,h){1&s&&(e.j41(0,"a",91),e.EFF(1," Individual Deadline Extensions "),e.nrm(2,"i",90),e.k0s())}function oe(s,h){if(1&s){const t=e.RV6();e.j41(0,"div",92)(1,"span",93),e.EFF(2,"Session is visible at submission opening time, responses are only visible when you publish the results."),e.k0s(),e.j41(3,"button",94),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.triggerModelChange("hasVisibleSettingsPanelExpanded",!0))}),e.EFF(4,"[Change]"),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(3),e.Y8G("disabled",!t.model.isEditable)}}function ae(s,h){if(1&s){const t=e.RV6();e.j41(0,"div",4)(1,"div",2)(2,"div",95)(3,"div",96)(4,"div",97)(5,"div",36)(6,"label",98),e.EFF(7,"Make session visible "),e.k0s()()(),e.j41(8,"div",99)(9,"div",100)(10,"div",101)(11,"label",102)(12,"input",103),e.bIt("ngModelChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("sessionVisibleSetting",i))}),e.k0s(),e.EFF(13," At "),e.k0s()()(),e.j41(14,"div",104)(15,"tm-datepicker",26),e.bIt("dateChangeCallback",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("customSessionVisibleDate",i))}),e.k0s()(),e.j41(16,"div",21)(17,"tm-timepicker",105),e.bIt("timeChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("customSessionVisibleTime",i))}),e.k0s()()(),e.j41(18,"div",106)(19,"div",107)(20,"label",102)(21,"input",108),e.bIt("ngModelChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("sessionVisibleSetting",i))}),e.k0s(),e.EFF(22," Submission opening time "),e.k0s()()()(),e.j41(23,"div",109)(24,"div",97)(25,"div",36)(26,"label",110),e.EFF(27,"Make response visible "),e.k0s()()(),e.j41(28,"div",99)(29,"div",100)(30,"div",101)(31,"label",102)(32,"input",111),e.bIt("ngModelChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("responseVisibleSetting",i))}),e.k0s(),e.EFF(33," At "),e.k0s()()(),e.j41(34,"div",112)(35,"tm-datepicker",113),e.bIt("dateChangeCallback",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("customResponseVisibleDate",i))}),e.k0s()(),e.j41(36,"div",21)(37,"tm-timepicker",114),e.bIt("timeChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("customResponseVisibleTime",i))}),e.k0s()()(),e.j41(38,"div",99)(39,"div",36)(40,"div",101)(41,"label",115)(42,"input",116),e.bIt("ngModelChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("responseVisibleSetting",i))}),e.k0s(),e.EFF(43," Immediately "),e.k0s()()()(),e.j41(44,"div",99)(45,"div",36)(46,"div",101)(47,"label",117)(48,"input",118),e.bIt("ngModelChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("responseVisibleSetting",i))}),e.k0s(),e.EFF(49," Not now (publish manually) "),e.k0s()()()()()()()()}if(2&s){const t=e.XpG();e.Y8G("@collapseAnim",void 0),e.R7$(12),e.Y8G("value",t.SessionVisibleSetting.CUSTOM)("ngModel",t.model.sessionVisibleSetting)("disabled",!t.model.isEditable),e.R7$(3),e.Y8G("isDisabled",t.model.sessionVisibleSetting!==t.SessionVisibleSetting.CUSTOM||!t.model.isEditable)("minDate",t.minDateForSessionVisible)("maxDate",t.maxDateForSessionVisible)("date",t.model.customSessionVisibleDate),e.R7$(2),e.Y8G("isDisabled",t.model.sessionVisibleSetting!==t.SessionVisibleSetting.CUSTOM||!t.model.isEditable)("minDate",t.minDateForSessionVisible)("maxDate",t.maxDateForSessionVisible)("date",t.model.customSessionVisibleDate)("minTime",t.minTimeForSessionVisible)("maxTime",t.maxTimeForSessionVisible)("time",t.model.customSessionVisibleTime),e.R7$(4),e.Y8G("value",t.SessionVisibleSetting.AT_OPEN)("ngModel",t.model.sessionVisibleSetting)("disabled",!t.model.isEditable),e.R7$(11),e.Y8G("value",t.ResponseVisibleSetting.CUSTOM)("ngModel",t.model.responseVisibleSetting)("disabled",!t.model.isEditable),e.R7$(3),e.Y8G("isDisabled",t.model.responseVisibleSetting!==t.ResponseVisibleSetting.CUSTOM||!t.model.isEditable)("minDate",t.minDateForResponseVisible)("date",t.model.customResponseVisibleDate),e.R7$(2),e.Y8G("isDisabled",t.model.responseVisibleSetting!==t.ResponseVisibleSetting.CUSTOM||!t.model.isEditable)("minDate",t.minDateForResponseVisible)("date",t.model.customResponseVisibleDate)("minTime",t.minTimeForResponseVisible)("time",t.model.customResponseVisibleTime),e.R7$(5),e.Y8G("value",t.ResponseVisibleSetting.AT_VISIBLE)("ngModel",t.model.responseVisibleSetting)("disabled",!t.model.isEditable),e.R7$(6),e.Y8G("value",t.ResponseVisibleSetting.LATER)("ngModel",t.model.responseVisibleSetting)("disabled",!t.model.isEditable)}}function re(s,h){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"span",93),e.EFF(2,"Emails are sent when session opens (within 15 minutes), 24 hrs before session closes and when results are published."),e.k0s(),e.j41(3,"button",119),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.triggerModelChange("hasEmailSettingsPanelExpanded",!0))}),e.EFF(4,"[Change]"),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(3),e.Y8G("disabled",!t.model.isEditable)}}function me(s,h){if(1&s){const t=e.RV6();e.j41(0,"div",4)(1,"div",2)(2,"div",120),e.EFF(3," Send emails for "),e.k0s(),e.j41(4,"div",121)(5,"div",21)(6,"div",122)(7,"label",123),e.nrm(8,"input",124),e.EFF(9,"Session opened reminder "),e.k0s()()(),e.j41(10,"div",21)(11,"div",122)(12,"label",125)(13,"input",126),e.bIt("ngModelChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("isClosingSoonEmailEnabled",i))}),e.k0s(),e.EFF(14," Session closing soon reminder "),e.k0s()()(),e.j41(15,"div",21)(16,"div",122)(17,"label",127)(18,"input",128),e.bIt("ngModelChange",function(i){e.eBV(t);const u=e.XpG();return e.Njj(u.triggerModelChange("isPublishedEmailEnabled",i))}),e.k0s(),e.EFF(19," Results published announcement "),e.k0s()()()()()()}if(2&s){const t=e.XpG();e.Y8G("@collapseAnim",void 0),e.R7$(13),e.Y8G("ngModel",t.model.isClosingSoonEmailEnabled)("disabled",!t.model.isEditable),e.R7$(5),e.Y8G("ngModel",t.model.isPublishedEmailEnabled)("disabled",!t.model.isEditable)}}function de(s,h){1&s&&e.nrm(0,"tm-ajax-loading")}function le(s,h){1&s&&(e.j41(0,"p",131)(1,"b"),e.EFF(2,"You need to have an active(unarchived) course to create a session!"),e.k0s()())}function ce(s,h){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"button",129),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.submitFormHandler())}),e.DNE(2,de,1,0,"tm-ajax-loading",9),e.EFF(3,"Create Feedback Session "),e.k0s(),e.DNE(4,le,3,0,"p",130),e.k0s()}if(2&s){const t=e.XpG();e.R7$(1),e.Y8G("disabled",0===t.courseCandidates.length||t.model.isSaving||!t.model.feedbackSessionName),e.R7$(1),e.Y8G("ngIf",t.model.isSaving),e.R7$(2),e.Y8G("ngIf",0===t.courseCandidates.length)}}function ue(s,h){1&s&&e.nrm(0,"tm-ajax-loading")}function _e(s,h){if(1&s){const t=e.RV6();e.j41(0,"button",133),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.submitFormHandler())}),e.DNE(1,ue,1,0,"tm-ajax-loading",9),e.EFF(2,"Save Changes "),e.k0s()}if(2&s){const t=e.XpG(2);e.Y8G("disabled",t.model.isSaving||!t.model.isEditable),e.R7$(1),e.Y8G("ngIf",t.model.isSaving)}}function pe(s,h){if(1&s&&(e.j41(0,"div"),e.DNE(1,_e,3,2,"button",132),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.formMode===t.SessionEditFormMode.EDIT)}}const j=function(s){return{"col-form-label":s}},ge=function(){return[0,5,10,15,20,25,30]};let be=(()=>{class s{constructor(t,r,i){this.simpleModalService=t,this.datetimeService=r,this.calendar=i,this.SessionEditFormMode=b.o,this.SessionVisibleSetting=_.Be,this.ResponseVisibleSetting=_.KG,this.FEEDBACK_SESSION_NAME_MAX_LENGTH=m.P3,this.model={courseId:"",timeZone:"UTC",courseName:"",feedbackSessionName:"",instructions:"",submissionStartTime:(0,o.qt)(),submissionStartDate:(0,o.l$)(),submissionEndTime:(0,o.qt)(),submissionEndDate:(0,o.l$)(),gracePeriod:0,sessionVisibleSetting:_.Be.AT_OPEN,customSessionVisibleTime:(0,o.qt)(),customSessionVisibleDate:(0,o.l$)(),responseVisibleSetting:_.KG.CUSTOM,customResponseVisibleTime:(0,o.qt)(),customResponseVisibleDate:(0,o.l$)(),submissionStatus:_.u.OPEN,publishStatus:_.DG.NOT_PUBLISHED,isClosingSoonEmailEnabled:!0,isPublishedEmailEnabled:!0,templateSessionName:"",isSaving:!1,isEditable:!0,isDeleting:!1,isCopying:!1,hasVisibleSettingsPanelExpanded:!1,hasEmailSettingsPanelExpanded:!1},this.modelChange=new e.bkB,this.formMode=b.o.ADD,this.courseCandidates=[],this.templateSessions=[],this.isCopyOtherSessionLoading=!1,this.addNewSessionEvent=new e.bkB,this.editExistingSessionEvent=new e.bkB,this.cancelEditingSessionEvent=new e.bkB,this.deleteExistingSessionEvent=new e.bkB,this.copyCurrentSessionEvent=new e.bkB,this.copyOtherSessionsEvent=new e.bkB,this.closeEditFormEvent=new e.bkB}triggerModelChange(t,r){("submissionStartDate"===t||"submissionStartTime"===t)&&this.adjustSessionVisibilityTime(r,t),this.modelChange.emit({...this.model,[t]:r})}adjustSessionVisibilityTime(t,r){const i=this.combineDateAndTime("submissionStartDate"===r?t:this.model.submissionStartDate,"submissionStartTime"===r?t:this.model.submissionStartTime),u=this.combineDateAndTime(this.model.customSessionVisibleDate,this.model.customSessionVisibleTime);i.isBefore(u)&&("submissionStartDate"===r?this.model.customSessionVisibleDate=t:this.model.customSessionVisibleTime=t)}combineDateAndTime(t,r){return d().tz({year:t.year,month:t.month-1,day:t.day,hour:r.hour,minute:r.minute},this.model.timeZone)}triggerSubmissionOpeningDateModelChange(t,r){const u=this.minTimeForSubmissionStart;0===l.D.compareDateFormat(r,this.minDateForSubmissionStart)&&-1===l.D.compareTimeFormat(this.model.submissionStartTime,u)&&(this.configureSubmissionOpeningTime(u),this.model.submissionStartTime=u),this.adjustSessionVisibilityTime(r,t),this.triggerModelChange(t,r)}configureSubmissionOpeningTime(t){23===t.hour&&t.minute>0?t.minute=59:t.hour<23&&t.minute>0&&(t.hour+=1,t.minute=0)}triggerSubmissionOpeningTimeModelChange(t,r){const i=this.model.submissionStartDate,k=this.model.customSessionVisibleTime;0===l.D.compareDateFormat(i,this.model.customSessionVisibleDate)&&-1===l.D.compareTimeFormat(r,k)&&this.configureSessionVisibleDateTime(i,r),this.triggerModelChange(t,r)}configureSessionVisibleDateTime(t,r){const i=this.model.customSessionVisibleDate,u=this.model.customSessionVisibleTime;-1===l.D.compareDateFormat(t,i)?this.model.customSessionVisibleDate=t:0===l.D.compareDateFormat(t,i)&&-1===l.D.compareTimeFormat(r,u)&&(this.model.customSessionVisibleTime=r)}courseIdChangeHandler(t){const r=this.courseCandidates.find(i=>i.courseId===t);r&&this.modelChange.emit({...this.model,courseId:t,courseName:r.courseName,timeZone:r.timeZone})}get minDateForSubmissionStart(){const t=d()().tz(this.model.timeZone).subtract(2,"hours");return this.datetimeService.getDateInstance(t)}get minTimeForSubmissionStart(){const t=d()().tz(this.model.timeZone).subtract(2,"hours");return this.datetimeService.getTimeInstance(t)}get maxDateForSubmissionStart(){const t=d()().tz(this.model.timeZone).add(12,"months");return this.datetimeService.getDateInstance(t)}get maxTimeForSubmissionStart(){return(0,o.gW)()}get minDateForSubmissionEnd(){const t=this.datetimeService.getMomentInstanceFromDate(this.model.submissionStartDate),r=d()().tz(this.model.timeZone).subtract(1,"hours");return t.isAfter(r)?this.model.submissionStartDate:this.datetimeService.getDateInstance(r)}get minTimeForSubmissionEnd(){const t=this.datetimeService.getMomentInstanceFromDate(this.model.submissionStartDate),r=this.datetimeService.getMomentInstanceFromTime(this.model.submissionStartTime),i=t.clone().hours(r.hour()).minutes(r.minute()),u=d()().tz(this.model.timeZone).subtract(1,"hours");return i.isAfter(u)?this.datetimeService.getTimeInstance(i):this.datetimeService.getTimeInstance(u)}get maxDateForSubmissionEnd(){const t=d()().tz(this.model.timeZone).add(12,"months");return this.datetimeService.getDateInstance(t)}get maxTimeForSubmissionEnd(){return(0,o.gW)()}get minDateForSessionVisible(){const t=this.datetimeService.getMomentInstanceFromDate(this.model.submissionStartDate).subtract(30,"days");return this.datetimeService.getDateInstance(t)}get minTimeForSessionVisible(){const t=this.datetimeService.getMomentInstanceFromDate(this.model.submissionStartDate),r=this.datetimeService.getMomentInstanceFromTime(this.model.submissionStartTime),u=t.add(r.hour()).add(r.minute()).subtract(30,"days");return this.datetimeService.getTimeInstance(u)}get maxDateForSessionVisible(){switch(this.model.responseVisibleSetting){case _.KG.LATER:case _.KG.AT_VISIBLE:return this.model.submissionStartDate;case _.KG.CUSTOM:{const t=this.datetimeService.getMomentInstanceFromDate(this.model.submissionStartDate),r=this.datetimeService.getMomentInstanceFromDate(this.model.customResponseVisibleDate);return t.isBefore(r)?this.model.submissionStartDate:this.model.customResponseVisibleDate}default:return(0,o.l$)()}}get maxTimeForSessionVisible(){switch(this.model.responseVisibleSetting){case _.KG.LATER:case _.KG.AT_VISIBLE:return this.model.submissionStartTime;case _.KG.CUSTOM:{const t=this.datetimeService.getMomentInstanceFromDate(this.model.submissionStartDate),r=this.datetimeService.getMomentInstanceFromDate(this.model.customResponseVisibleDate);return t.isBefore(r)?this.model.submissionStartTime:this.model.customResponseVisibleTime}default:return(0,o.qt)()}}get minDateForResponseVisible(){switch(this.model.sessionVisibleSetting){case _.Be.AT_OPEN:return this.model.submissionStartDate;case _.Be.CUSTOM:return this.model.customSessionVisibleDate;default:return(0,o.l$)()}}get minTimeForResponseVisible(){switch(this.model.sessionVisibleSetting){case _.Be.AT_OPEN:return this.model.submissionStartTime;case _.Be.CUSTOM:return this.model.customSessionVisibleTime;default:return(0,o.qt)()}}submitFormHandler(){this.formMode===b.o.ADD&&this.addNewSessionEvent.emit(),this.formMode===b.o.EDIT&&this.editExistingSessionEvent.emit()}cancelHandler(){this.simpleModalService.openConfirmationModal("Discard unsaved edit?",f.i.WARNING,"Warning: Any unsaved changes will be lost.").result.then(()=>{this.cancelEditingSessionEvent.emit()},()=>{})}deleteHandler(){this.simpleModalService.openConfirmationModal(`Delete the session <strong>${this.model.feedbackSessionName}</strong>?`,f.i.WARNING,'The session will be moved to the recycle bin. This action can be reverted by going to the "Sessions" tab and restoring the desired session(s).').result.then(()=>{this.deleteExistingSessionEvent.emit()},()=>{})}copyHandler(){this.copyCurrentSessionEvent.emit()}copyOthersHandler(){this.copyOtherSessionsEvent.emit()}closeEditFormHandler(){this.closeEditFormEvent.emit()}static#e=this.\u0275fac=function(r){return new(r||s)(e.rXU(E.r),e.rXU(l.D),e.rXU(n.iF))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["tm-session-edit-form"]],inputs:{model:"model",formMode:"formMode",courseCandidates:"courseCandidates",templateSessions:"templateSessions",isCopyOtherSessionLoading:"isCopyOtherSessionLoading"},outputs:{modelChange:"modelChange",addNewSessionEvent:"addNewSessionEvent",editExistingSessionEvent:"editExistingSessionEvent",cancelEditingSessionEvent:"cancelEditingSessionEvent",deleteExistingSessionEvent:"deleteExistingSessionEvent",copyCurrentSessionEvent:"copyCurrentSessionEvent",copyOtherSessionsEvent:"copyOtherSessionsEvent",closeEditFormEvent:"closeEditFormEvent"},features:[e.Jv_([{provide:n.tN,useClass:g.p}])],decls:88,vars:58,consts:[["id","session-edit-form",1,"card","card-plain"],["class","close-header",4,"ngIf"],[1,"card-body"],["class","row",4,"ngIf"],[1,"card","border-primary","margin-top-20px"],[1,"row","text-center"],[1,"col-md-2","text-md-end","font-bold",3,"ngClass"],["ngbTooltip","Course for which the feedback session is for.",1,"ngb-tooltip-class"],[1,"col-md-auto","text-md-start"],[4,"ngIf"],["id","edit-course-id",4,"ngIf"],["id","time-zone",1,"col-md-3","text-md-start",3,"ngClass"],["ngbTooltip","To change this, edit the course settings. TEAMMATES automatically adjusts to match the current time offset in your area, including clock changes due to daylight saving time.",1,"ngb-tooltip-class"],[1,"col-md-2","text-md-end","font-bold"],["id","course-name",1,"col-md-10","text-md-start"],["class","ngb-tooltip-class","ngbTooltip","Enter the name of the feedback session e.g. Feedback Session 1.",4,"ngIf"],[1,"col-md-10","text-md-start"],["id","edit-session-name",4,"ngIf"],["ngbTooltip","Will be displayed at the top of the page when users respond to the session.",1,"ngb-tooltip-class"],["id","instructions",3,"richText","isDisabled","hasCharacterLimit","richTextChange"],["class","row text-center",4,"ngIf"],[1,"col-md-4"],[1,"col-12","text-md-start"],["ngbTooltip","Users can start submitting responses.",1,"ngb-tooltip-class","label-control","font-bold"],[1,"row","text-center","align-items-center"],["id","submission-start-date",1,"col-md-7","col-xs-center"],[3,"isDisabled","minDate","maxDate","date","dateChangeCallback"],[1,"col-md-5"],["id","submission-start-time",3,"isDisabled","minDate","maxDate","date","minTime","maxTime","time","timeChange"],[1,"col-md-4","border-left-gray"],[1,"col-12","text-md-start","ms-md-2"],["ngbTooltip","No more submissions from users.",1,"ngb-tooltip-class","label-control","font-bold"],[1,"row","align-items-center"],["id","submission-end-date",1,"col-md-7","col-xs-center"],["id","submission-end-time",3,"isDisabled","minDate","maxDate","date","minTime","maxTime","time","timeChange"],["for","grace-period","ngbTooltip","Amount of time the system will continue accepting submissions after the specified deadline.",1,"ngb-tooltip-class","control-label","font-bold"],[1,"col-12"],["id","grace-period",1,"form-control","form-select",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"row"],["class","ps-3 pt-2","tmRouterLink","/web/instructor/sessions/individual-extension",3,"queryParams",4,"ngIf"],["class","ps-3 pt-2 disabled-link ngb-tooltip-class","ngbTooltip","You must save the new session before setting individual deadline extensions",4,"ngIf"],["class","margin-top-20px",4,"ngIf"],["class","card border-primary margin-top-20px",4,"ngIf"],[1,"row","margin-top-20px"],[1,"col-12","text-center"],[1,"loader"],[1,"close-header"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"col-lg-7"],[1,"row","mb-2"],[1,"col-12","col-sm-3","session-heading-text"],[1,"col-12","col-sm-9","create-new-dropdown-div"],["id","session-type",1,"form-control","form-select",3,"ngModel","ngModelChange"],["type","button","tmRouterLink","/web/instructor/help","target","_blank","aria-label","Help for feedback sessions",1,"btn","btn-link",3,"queryParams"],[1,"fas","fa-info-circle"],[1,"col-lg-5"],[1,"col-12","col-sm-3","col-lg-1","session-heading-text"],[1,"col-12","col-sm-9","col-lg-11","text-md-start"],["id","btn-copy-session","type","button",1,"btn","btn-info",3,"click"],[1,"padding-left-7px"],[3,"ngValue"],[1,"col-12","text-center","text-md-end","session-form-buttons"],["id","btn-fs-edit","type","button","class","btn btn-primary",3,"click",4,"ngIf"],["id","btn-fs-save","type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary","ngbTooltip","Discard changes to the feedback session",3,"disabled","click",4,"ngIf"],["id","btn-fs-delete","type","button","ngbTooltip","Delete the feedback session",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-trash"],["id","btn-fs-copy","type","button","ngbTooltip","Copy this feedback session to other courses",1,"btn","btn-primary",3,"disabled","click"],[1,"far","fa-copy"],["id","btn-fs-edit","type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-pencil-alt"],["id","btn-fs-save","type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-check"],["type","button","ngbTooltip","Discard changes to the feedback session",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-ban"],["id","add-course-id",1,"form-control","form-select",3,"ngClass","ngModel","disabled","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],["id","edit-course-id"],["ngbTooltip","Enter the name of the feedback session e.g. Feedback Session 1.",1,"ngb-tooltip-class"],["id","add-session-name","type","text","placeholder","e.g. Feedback for Project Presentation 1","maxlength","64","required","",1,"form-control",3,"ngModel","ngModelChange"],["sessionName","ngModel"],[1,"invalid-field",3,"hidden"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],["id","edit-session-name"],["id","submission-status",1,"col-md-4","text-md-start"],[1,"col-md-2","text-md-end","font-bold","mt-3","mt-md-0"],["id","published-status",1,"col-md-4","text-md-start"],["tmRouterLink","/web/instructor/sessions/individual-extension",1,"ps-3","pt-2",3,"queryParams"],[1,"fas","fa-edit"],["ngbTooltip","You must save the new session before setting individual deadline extensions",1,"ps-3","pt-2","disabled-link","ngb-tooltip-class"],[1,"margin-top-20px"],[1,"text-muted"],["id","btn-change-visibility","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"row","align-items-start"],[1,"col-md-6","text-center","text-md-start"],[1,"row","ms-md-1"],["ngbTooltip","Session can be visible before it is open for submissions so that users can preview the questions.",1,"ngb-tooltip-class","label-control","font-bold"],[1,"row","mt-md-2","ms-md-1"],[1,"col-md-2","mt-md-1"],[1,"form-check"],[1,"form-check-label"],["id","session-visibility-custom","type","radio","name","sessionVisibleRadio",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],["id","session-visibility-date",1,"col-md-6"],["id","session-visibility-time",3,"isDisabled","minDate","maxDate","date","minTime","maxTime","time","timeChange"],[1,"row","mt-md-1","ms-md-3"],[1,"col-12","form-check"],["id","session-visibility-at-open","type","radio","name","sessionVisibleRadio",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],[1,"col-md-6","sessionVisibleRadio","border-left-gray","text-center","text-md-start"],["ngbTooltip","Make responses for the feedback session visible to designated recipients.",1,"ngb-tooltip-class","label-control","font-bold"],["id","response-visibility-custom","type","radio","name","responseVisibleRadio",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],["id","response-visibility-date",1,"col-md-6"],[3,"isDisabled","minDate","date","dateChangeCallback"],["id","response-visibility-time",3,"isDisabled","minDate","date","minTime","time","timeChange"],["ngbTooltip","Same time as when the session becomes visible to users.",1,"ngb-tooltip-class","form-check-label"],["id","response-visibility-immediately","type","radio","name","responseVisibleRadio",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],["ngbTooltip","Remember to manually publish the responses for this session later on.",1,"ngb-tooltip-class","form-check-label"],["id","response-visibility-manually","type","radio","name","responseVisibleRadio",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],["id","btn-change-email","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"col-12","font-bold"],[1,"row","ms-md-1","mt-md-3"],[1,"form-check","form-check-inline"],["ngbTooltip","Notify students when the session is open for submission.",1,"ngb-tooltip-class","form-check-label"],["id","email-opening","type","checkbox","checked","","disabled","",1,"form-check-input"],["ngbTooltip","Remind students to submit 24 hours before the end of the session.",1,"ngb-tooltip-class","form-check-label"],["id","email-closing","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["ngbTooltip","Notify students when the session results is published.",1,"ngb-tooltip-class","form-check-label"],["id","email-published","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","btn-create-session","type","button",1,"btn","btn-primary",3,"disabled","click"],["class","text-danger margin-top-20px",4,"ngIf"],[1,"text-danger","margin-top-20px"],["type","button","class","btn btn-success",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(r,i){1&r&&(e.j41(0,"div",0),e.DNE(1,O,2,0,"div",1),e.j41(2,"div",2),e.DNE(3,P,22,5,"div",3),e.DNE(4,w,13,7,"div",3),e.j41(5,"div",4)(6,"div",2)(7,"div",5)(8,"div",6)(9,"span",7),e.EFF(10,"Course ID"),e.k0s()(),e.j41(11,"div",8),e.DNE(12,H,4,7,"div",9),e.DNE(13,z,2,1,"div",10),e.k0s()(),e.nrm(14,"br"),e.j41(15,"div",5)(16,"div",6),e.EFF(17," Time Zone "),e.k0s(),e.j41(18,"div",11)(19,"span",12),e.EFF(20),e.k0s()()(),e.nrm(21,"br"),e.j41(22,"div",5)(23,"div",13),e.EFF(24," Course Name "),e.k0s(),e.j41(25,"div",14),e.EFF(26),e.k0s()(),e.nrm(27,"br"),e.j41(28,"div",5)(29,"div",13),e.DNE(30,Z,2,0,"span",15),e.DNE(31,J,2,0,"span",9),e.k0s(),e.j41(32,"div",16),e.DNE(33,Q,8,3,"div",9),e.DNE(34,q,2,1,"div",17),e.k0s()(),e.nrm(35,"br"),e.j41(36,"div",5)(37,"div",13)(38,"span",18),e.EFF(39,"Instructions"),e.k0s()(),e.j41(40,"div",16)(41,"tm-rich-text-editor",19),e.bIt("richTextChange",function(k){return i.triggerModelChange("instructions",k)}),e.k0s()()(),e.nrm(42,"br"),e.DNE(43,ee,11,6,"div",20),e.k0s()(),e.j41(44,"div",4)(45,"div",2)(46,"div",5)(47,"div",21)(48,"div",22)(49,"div")(50,"label",23),e.EFF(51," Submission opening time "),e.k0s()()(),e.j41(52,"div",24)(53,"div",25)(54,"tm-datepicker",26),e.bIt("dateChangeCallback",function(k){return i.triggerSubmissionOpeningDateModelChange("submissionStartDate",k)}),e.k0s()(),e.j41(55,"div",27)(56,"tm-timepicker",28),e.bIt("timeChange",function(k){return i.triggerSubmissionOpeningTimeModelChange("submissionStartTime",k)}),e.k0s()()()(),e.j41(57,"div",29)(58,"div",5)(59,"div",30)(60,"label",31),e.EFF(61," Submission closing time "),e.k0s()()(),e.j41(62,"div",32)(63,"div",33)(64,"tm-datepicker",26),e.bIt("dateChangeCallback",function(k){return i.triggerModelChange("submissionEndDate",k)}),e.k0s()(),e.j41(65,"div",27)(66,"tm-timepicker",34),e.bIt("timeChange",function(k){return i.triggerModelChange("submissionEndTime",k)}),e.k0s()()()(),e.j41(67,"div",29)(68,"div",5)(69,"div",30)(70,"label",35),e.EFF(71," Grace period "),e.k0s()()(),e.j41(72,"div",5)(73,"div",36)(74,"select",37),e.bIt("ngModelChange",function(k){return i.triggerModelChange("gracePeriod",k)}),e.DNE(75,te,2,2,"option",38),e.k0s()()(),e.j41(76,"div",39),e.DNE(77,ne,3,4,"a",40),e.DNE(78,se,3,0,"a",41),e.k0s()()()()(),e.DNE(79,oe,5,1,"div",42),e.DNE(80,ae,50,35,"div",43),e.DNE(81,re,5,1,"div",9),e.DNE(82,me,20,5,"div",43),e.j41(83,"div",44)(84,"div",45),e.nrm(85,"span",46),e.DNE(86,ce,5,3,"div",9),e.DNE(87,pe,2,1,"div",9),e.k0s()()()()),2&r&&(e.R7$(1),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.ADD),e.R7$(2),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.ADD),e.R7$(1),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.EDIT),e.R7$(4),e.Y8G("ngClass",e.eq3(51,j,i.formMode===i.SessionEditFormMode.ADD)),e.R7$(4),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.ADD),e.R7$(1),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.EDIT),e.R7$(3),e.Y8G("ngClass",e.eq3(53,j,i.formMode===i.SessionEditFormMode.ADD)),e.R7$(2),e.Y8G("ngClass",e.eq3(55,j,i.formMode===i.SessionEditFormMode.ADD)),e.R7$(2),e.JRh(i.model.timeZone),e.R7$(6),e.SpI(" ",i.model.courseName," "),e.R7$(4),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.ADD),e.R7$(1),e.Y8G("ngIf",i.formMode!==i.SessionEditFormMode.ADD),e.R7$(2),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.ADD),e.R7$(1),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.EDIT),e.R7$(7),e.Y8G("richText",i.model.instructions)("isDisabled",!i.model.isEditable)("hasCharacterLimit",!0),e.R7$(2),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.EDIT),e.R7$(11),e.Y8G("isDisabled",!i.model.isEditable)("minDate",i.minDateForSubmissionStart)("maxDate",i.maxDateForSubmissionStart)("date",i.model.submissionStartDate),e.R7$(2),e.Y8G("isDisabled",!i.model.isEditable)("minDate",i.minDateForSubmissionStart)("maxDate",i.maxDateForSubmissionStart)("date",i.model.submissionStartDate)("minTime",i.minTimeForSubmissionStart)("maxTime",i.maxTimeForSubmissionStart)("time",i.model.submissionStartTime),e.R7$(8),e.Y8G("isDisabled",!i.model.isEditable)("minDate",i.minDateForSubmissionEnd)("maxDate",i.maxDateForSubmissionEnd)("date",i.model.submissionEndDate),e.R7$(2),e.Y8G("isDisabled",!i.model.isEditable)("minDate",i.minDateForSubmissionEnd)("maxDate",i.maxDateForSubmissionEnd)("date",i.model.submissionEndDate)("minTime",i.minTimeForSubmissionEnd)("maxTime",i.maxTimeForSubmissionEnd)("time",i.model.submissionEndTime),e.R7$(8),e.Y8G("ngModel",i.model.gracePeriod)("disabled",!i.model.isEditable),e.R7$(1),e.Y8G("ngForOf",e.lJ4(57,ge)),e.R7$(2),e.Y8G("ngIf",i.formMode!==i.SessionEditFormMode.ADD),e.R7$(1),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.ADD),e.R7$(1),e.Y8G("ngIf",!i.model.hasVisibleSettingsPanelExpanded),e.R7$(1),e.Y8G("ngIf",i.model.hasVisibleSettingsPanelExpanded),e.R7$(1),e.Y8G("ngIf",!i.model.hasEmailSettingsPanelExpanded),e.R7$(1),e.Y8G("ngIf",i.model.hasEmailSettingsPanelExpanded),e.R7$(4),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.ADD),e.R7$(1),e.Y8G("ngIf",i.formMode===i.SessionEditFormMode.EDIT))},dependencies:[C.YU,C.Sq,C.bT,T.xH,T.y7,T.me,T.Zm,T.wz,T.Fm,T.BC,T.YS,T.tU,T.vS,n.md,D.y,y.q,S.y,F.O,M.n,I.u,x.V],styles:[".card-plain[_ngcontent-%COMP%]{background-color:#eaeff5;background-image:none;border:0;box-shadow:0 0}.close-header[_ngcontent-%COMP%]{display:flex;justify-content:right;padding-top:.3rem;padding-right:.3rem;margin-bottom:0}.font-bold[_ngcontent-%COMP%]{font-weight:700}.border-left-gray[_ngcontent-%COMP%]{border-left:1px solid #ddd}.margin-top-20px[_ngcontent-%COMP%]{margin-top:20px}.session-form-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-left:var(--btn-margin)}.align-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.padding-left-7px[_ngcontent-%COMP%]{padding-left:7px}.disabled-link[_ngcontent-%COMP%]{cursor:not-allowed;color:gray}.create-new-dropdown-div[_ngcontent-%COMP%], .session-heading-text[_ngcontent-%COMP%]{display:flex}@media (width <= 768px){.session-heading-text[_ngcontent-%COMP%]{width:120px}}.session-heading-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:auto auto auto 0}@media (width <= 576px){.session-heading-text[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:.5rem}}.invalid-field[_ngcontent-%COMP%]{padding-top:5px;color:#b50000}"],data:{animation:[p.j]}})}return s})()},95252:(R,v,a)=>{a.d(v,{V:()=>c});var e=a(40035),n=a(17705);let c=(()=>{class d{transform(l){switch(l){case e.DG.PUBLISHED:return"Published";case e.DG.NOT_PUBLISHED:return"Not Published";default:return"Unknown"}}static#e=this.\u0275fac=function(_){return new(_||d)};static#t=this.\u0275pipe=n.EJ8({name:"publishStatusName",type:d,pure:!0})}return d})()},40747:(R,v,a)=>{a.d(v,{u:()=>d});var e=a(59919),n=a(40035),c=a(17705);let d=(()=>{class b{transform(_,o){let m="";switch(_){case n.u.NOT_VISIBLE:case n.u.VISIBLE_NOT_OPEN:m+="Awaiting";break;case n.u.OPEN:m+="Open";break;case n.u.GRACE_PERIOD:m+="Open (grace period)";break;case n.u.CLOSED:m+="Closed";break;default:return"Unknown"}return o&&e.I.hasOngoingExtension(o)&&(m+=" (Ext. ongoing)"),m}static#e=this.\u0275fac=function(o){return new(o||b)};static#t=this.\u0275pipe=c.EJ8({name:"submissionStatusName",type:b,pure:!0})}return b})()},42138:(R,v,a)=>{a.d(v,{n:()=>m});var e=a(17705),n=a(47650),c=a(60177),d=a(89417);const b=function(g){return{hour:g,minute:0}};function l(g,f){if(1&g&&(e.j41(0,"option",2),e.EFF(1),e.k0s()),2&g){const p=f.$implicit,E=e.XpG();e.Y8G("ngValue",e.eq3(3,b,p))("disabled",E.isOptionDisabled(e.eq3(5,b,p))),e.R7$(1),e.SpI(" ",E.addLeadingZeros(2,p),":00H ")}}function _(g,f){if(1&g&&(e.j41(0,"option",4),e.EFF(1),e.k0s()),2&g){const p=e.XpG();e.Y8G("ngValue",p.time),e.R7$(1),e.Lme("",p.addLeadingZeros(2,p.time.hour),":",p.addLeadingZeros(2,p.time.minute),"H")}}const o=function(){return{hour:23,minute:59}};let m=(()=>{class g{constructor(){this.isDisabled=!1,this.time=(0,n.qt)(),this.date=(0,n.l$)(),this.timeChange=new e.bkB}triggerTimeChange(p){this.timeChange.emit(p)}range(p,E){const C=[];for(let T=p;T<E;T+=1)C.push(T);return C}timeCompareFn(p,E){return p&&E&&p.hour===E.hour&&p.minute===E.minute}isOptionDisabled(p){const E=this.toJsDate(this.date,p);return!!(this.minDate&&this.minTime&&E<this.toJsDate(this.minDate,this.minTime))||!!(this.maxDate&&this.maxTime&&E>this.toJsDate(this.maxDate,this.maxTime))}toJsDate(p,E){return new Date(p.year,p.month-1,p.day,E.hour,E.minute)}isInFixedList(p){return p.hour>=1&&p.hour<=23&&0===p.minute||23===p.hour&&59===p.minute}addLeadingZeros(p,E){return("0".repeat(p)+E).slice(-p)}static#e=this.\u0275fac=function(E){return new(E||g)};static#t=this.\u0275cmp=e.VBU({type:g,selectors:[["tm-timepicker"]],inputs:{isDisabled:"isDisabled",time:"time",minTime:"minTime",maxTime:"maxTime",date:"date",minDate:"minDate",maxDate:"maxDate"},outputs:{timeChange:"timeChange"},decls:5,vars:9,consts:[["aria-label","Select time",1,"form-control","form-select",3,"ngModel","disabled","compareWith","ngModelChange"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[3,"ngValue","disabled"],[3,"ngValue",4,"ngIf"],[3,"ngValue"]],template:function(E,C){1&E&&(e.j41(0,"select",0),e.bIt("ngModelChange",function(D){return C.triggerTimeChange(D)}),e.DNE(1,l,2,7,"option",1),e.j41(2,"option",2),e.EFF(3,"23:59H"),e.k0s(),e.DNE(4,_,2,3,"option",3),e.k0s()),2&E&&(e.Y8G("ngModel",C.time)("disabled",C.isDisabled)("compareWith",C.timeCompareFn),e.R7$(1),e.Y8G("ngForOf",C.range(1,24)),e.R7$(1),e.Y8G("ngValue",e.lJ4(7,o))("disabled",C.isOptionDisabled(e.lJ4(8,o))),e.R7$(2),e.Y8G("ngIf",!C.isInFixedList(C.time)))},dependencies:[c.Sq,c.bT,d.xH,d.y7,d.wz,d.BC,d.vS]})}return g})()},90446:(R,v,a)=>{a.d(v,{D:()=>b});var e=a(96508),n=a.n(e),c=a(17705),d=a(50833);let b=(()=>{class l{constructor(o){this.timezoneService=o}getDateTimeAtTimezone(o,m,g){let f=this.timezoneService.getMomentInstance(o,m);return g&&0===f.hour()&&0===f.minute()&&(f=f.subtract(1,"minute")),{date:{year:f.year(),month:f.month()+1,day:f.date()},time:{minute:f.minute(),hour:f.hour()}}}convertDateToTimeFormat(o){return{hour:o.getHours(),minute:o.getMinutes()}}convertDateFormatAndTimeFormatToDate(o,m){return new Date(o.year,o.month-1,o.day,m.hour,m.minute)}convertDateToDateFormatAndTimeFormat(o){return[{year:o.getFullYear(),month:o.getMonth()+1,day:o.getDate()},{hour:o.getHours(),minute:o.getMinutes()}]}getDateTimeFromDateTimeDeltaMinutes(o,m,g){const f=this.convertDateFormatAndTimeFormatToDate(o,m);return f.setMinutes(f.getMinutes()+g),this.convertDateToDateFormatAndTimeFormat(f)}getMomentInstanceFromDate(o){const m=n()();return m.set("year",o.year),m.set("month",o.month-1),m.set("date",o.day),m}getMomentInstanceFromTime(o){const m=n()();return m.set("hour",o.hour),m.set("minute",o.minute),m}getDateInstance(o){return{year:o.year(),month:o.month()+1,day:o.date()}}getTimeInstance(o){return{hour:o.hour(),minute:o.minute()}}static compareDateFormat(o,m){return o.year>m.year?1:o.year<m.year?-1:o.month>m.month?1:o.month<m.month?-1:o.day>m.day?1:o.day<m.day?-1:0}static compareTimeFormat(o,m){return o.hour>m.hour?1:o.hour<m.hour?-1:o.minute>m.minute?1:o.minute<m.minute?-1:0}static#e=this.\u0275fac=function(m){return new(m||l)(c.KVO(d.D))};static#t=this.\u0275prov=c.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},59919:(R,v,a)=>{a.d(v,{I:()=>e});class e{static hasOngoingExtension(c){const d=Date.now();return Object.values(c.studentDeadlines).some(b=>b>d)||Object.values(c.instructorDeadlines).some(b=>b>d)}static getDeadlinesBeforeOrEqualToEndTime(c,d){const b={};for(const[l,_]of Object.entries(c))_<=d&&(b[l]=_);return b}static mapStudentsToStudentModels(c,d,b){return c.map(l=>{const _={sectionName:l.sectionName,teamName:l.teamName,name:l.name,email:l.email,extensionDeadline:b,hasExtension:!1,isSelected:!1};return l.email in d&&(_.hasExtension=!0,_.extensionDeadline=d[l.email]),_})}static mapInstructorsToInstructorModels(c,d,b){return c.map(l=>{const _={name:l.name,role:l.role,email:l.email,extensionDeadline:b,hasExtension:!1,isSelected:!1};return l.email in d&&(_.hasExtension=!0,_.extensionDeadline=d[l.email]),_})}static getUpdatedDeadlinesForCreation(c,d,b){const l={...d};return c.forEach(_=>{l[_.email]=b}),l}static getUpdatedDeadlinesForDeletion(c,d){const b={...d};return c.forEach(l=>{delete b[l.email]}),b}static getOngoingUserFeedbackSessionEndingTimestamp(c){return e.hasUserOngoingExtension(c)?c.submissionEndWithExtensionTimestamp:c.submissionEndTimestamp}static hasUserOngoingExtension(c){const d=c.submissionEndWithExtensionTimestamp;return this.hasUserExtension(c)&&d>Date.now()}static getUserFeedbackSessionEndingTimestamp(c){return e.hasUserExtension(c)?c.submissionEndWithExtensionTimestamp:c.submissionEndTimestamp}static hasUserExtension(c){const d=c.submissionEndWithExtensionTimestamp;return void 0!==d&&d>c.submissionEndTimestamp}}},74278:(R,v,a)=>{a.d(v,{Q:()=>e});const e=3},47710:(R,v,a)=>{a.d(v,{P3:()=>n,k4:()=>c,mk:()=>d});var e=a(8059);const n=e.YU.FEEDBACK_SESSION_NAME_MAX_LENGTH,c=e.YU.COURSE_ID_MAX_LENGTH,d=e.YU.COURSE_NAME_MAX_LENGTH}}]);