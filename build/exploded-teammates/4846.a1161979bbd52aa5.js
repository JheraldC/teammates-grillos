"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[4846],{28760:($,G,s)=>{s.d(G,{g:()=>J});var e=s(40035),m=s(26195),E=s(9477),C=s(99308),t=s(17705),S=s(16),M=s(33933),T=s(94227),P=s(60177),w=s(45448);function O(o,f){if(1&o){const n=t.RV6();t.j41(0,"div",6)(1,"tm-comment-table",7),t.bIt("modelChange",function(_){t.eBV(n);const R=t.XpG();return t.Njj(R.triggerModelChange(_))})("updateCommentEvent",function(_){t.eBV(n);const R=t.XpG();return t.Njj(R.triggerUpdateCommentEvent(_))})("deleteCommentEvent",function(_){t.eBV(n);const R=t.XpG();return t.Njj(R.triggerDeleteCommentEvent(_))})("saveNewCommentEvent",function(){t.eBV(n);const _=t.XpG();return t.Njj(_.triggerSaveNewCommentEvent())}),t.k0s()()}if(2&o){const n=t.XpG();t.R7$(1),t.Y8G("model",n.model)("questionShowResponsesTo",n.questionShowResponsesTo)("shouldHideClosingButtonForNewComment",!0)("response",n.response)}}let D=(()=>{class o{constructor(){this.questionShowResponsesTo=[],this.model={commentRows:[],newCommentRow:{commentEditFormModel:{commentText:"",isUsingCustomVisibilities:!1,showCommentTo:[],showGiverNameTo:[]},isEditing:!0},isAddingNewComment:!0,isReadOnly:!1},this.modelChange=new t.bkB,this.saveNewCommentEvent=new t.bkB,this.deleteCommentEvent=new t.bkB,this.updateCommentEvent=new t.bkB}ngOnChanges(){this.model.isAddingNewComment||this.modelChange.emit({...this.model,isAddingNewComment:!0})}triggerDeleteCommentEvent(n){this.deleteCommentEvent.emit(n)}triggerUpdateCommentEvent(n){this.updateCommentEvent.emit(n)}triggerSaveNewCommentEvent(){this.saveNewCommentEvent.emit()}triggerModelChange(n){this.modelChange.emit(n)}static#e=this.\u0275fac=function(l){return new(l||o)};static#t=this.\u0275cmp=t.VBU({type:o,selectors:[["tm-comment-table-modal"]],inputs:{response:"response",questionShowResponsesTo:"questionShowResponsesTo",model:"model",activeModal:"activeModal"},outputs:{modelChange:"modelChange",saveNewCommentEvent:"saveNewCommentEvent",deleteCommentEvent:"deleteCommentEvent",updateCommentEvent:"updateCommentEvent"},features:[t.OA$],decls:8,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["id","btn-close-comments","type","button",1,"btn","btn-light",3,"click"],[1,"modal-body"],[3,"model","questionShowResponsesTo","shouldHideClosingButtonForNewComment","response","modelChange","updateCommentEvent","deleteCommentEvent","saveNewCommentEvent"]],template:function(l,_){1&l&&(t.j41(0,"div",0)(1,"h5",1),t.EFF(2,"Comments"),t.k0s(),t.j41(3,"button",2),t.bIt("click",function(){return _.activeModal.dismiss()}),t.k0s()(),t.DNE(4,O,2,4,"div",3),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return _.activeModal.dismiss()}),t.EFF(7,"Close"),t.k0s()()),2&l&&(t.R7$(4),t.Y8G("ngIf",_.model))},dependencies:[P.bT,w.N]})}return o})();var A=s(26141),j=s(54011),v=s(8035);function h(o,f){1&o&&t.nrm(0,"i",13)}function r(o,f){1&o&&t.nrm(0,"i",14)}function a(o,f){if(1&o){const n=t.RV6();t.j41(0,"th",8),t.bIt("click",function(){t.eBV(n);const _=t.XpG(2);return t.Njj(_.sortResponses(_.SortBy.GIVER_TEAM))}),t.j41(1,"button"),t.EFF(2," Team "),t.j41(3,"span",9),t.nrm(4,"i",10),t.DNE(5,h,1,0,"i",11),t.DNE(6,r,1,0,"i",12),t.k0s()()()}if(2&o){const n=t.XpG(2);t.BMQ("aria-sort",n.getAriaSort(n.SortBy.GIVER_TEAM)),t.R7$(5),t.Y8G("ngIf",n.sortBy===n.SortBy.GIVER_TEAM&&n.sortOrder===n.SortOrder.DESC),t.R7$(1),t.Y8G("ngIf",n.sortBy===n.SortBy.GIVER_TEAM&&n.sortOrder===n.SortOrder.ASC)}}function d(o,f){1&o&&t.nrm(0,"i",13)}function i(o,f){1&o&&t.nrm(0,"i",14)}function u(o,f){if(1&o){const n=t.RV6();t.j41(0,"th",8),t.bIt("click",function(){t.eBV(n);const _=t.XpG(2);return t.Njj(_.sortResponses(_.SortBy.GIVER_NAME))}),t.j41(1,"button"),t.EFF(2," Giver "),t.j41(3,"span",9),t.nrm(4,"i",10),t.DNE(5,d,1,0,"i",11),t.DNE(6,i,1,0,"i",12),t.k0s()()()}if(2&o){const n=t.XpG(2);t.BMQ("aria-sort",n.getAriaSort(n.SortBy.GIVER_NAME)),t.R7$(5),t.Y8G("ngIf",n.sortBy===n.SortBy.GIVER_NAME&&n.sortOrder===n.SortOrder.DESC),t.R7$(1),t.Y8G("ngIf",n.sortBy===n.SortBy.GIVER_NAME&&n.sortOrder===n.SortOrder.ASC)}}function g(o,f){1&o&&t.nrm(0,"i",13)}function N(o,f){1&o&&t.nrm(0,"i",14)}function F(o,f){if(1&o){const n=t.RV6();t.j41(0,"th",8),t.bIt("click",function(){t.eBV(n);const _=t.XpG(2);return t.Njj(_.sortResponses(_.SortBy.RECIPIENT_TEAM))}),t.j41(1,"button"),t.EFF(2," Team "),t.j41(3,"span",9),t.nrm(4,"i",10),t.DNE(5,g,1,0,"i",11),t.DNE(6,N,1,0,"i",12),t.k0s()()()}if(2&o){const n=t.XpG(2);t.BMQ("aria-sort",n.getAriaSort(n.SortBy.RECIPIENT_TEAM)),t.R7$(5),t.Y8G("ngIf",n.sortBy===n.SortBy.RECIPIENT_TEAM&&n.sortOrder===n.SortOrder.DESC),t.R7$(1),t.Y8G("ngIf",n.sortBy===n.SortBy.RECIPIENT_TEAM&&n.sortOrder===n.SortOrder.ASC)}}function k(o,f){1&o&&t.nrm(0,"i",13)}function U(o,f){1&o&&t.nrm(0,"i",14)}function X(o,f){if(1&o){const n=t.RV6();t.j41(0,"th",8),t.bIt("click",function(){t.eBV(n);const _=t.XpG(2);return t.Njj(_.sortResponses(_.SortBy.RECIPIENT_NAME))}),t.j41(1,"button"),t.EFF(2," Recipient "),t.j41(3,"span",9),t.nrm(4,"i",10),t.DNE(5,k,1,0,"i",11),t.DNE(6,U,1,0,"i",12),t.k0s()()()}if(2&o){const n=t.XpG(2);t.BMQ("aria-sort",n.getAriaSort(n.SortBy.RECIPIENT_NAME)),t.R7$(5),t.Y8G("ngIf",n.sortBy===n.SortBy.RECIPIENT_NAME&&n.sortOrder===n.SortOrder.DESC),t.R7$(1),t.Y8G("ngIf",n.sortBy===n.SortBy.RECIPIENT_NAME&&n.sortOrder===n.SortOrder.ASC)}}function K(o,f){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&o){const n=t.XpG().$implicit;t.R7$(1),t.JRh(n.giverTeam)}}function p(o,f){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&o){const n=t.XpG().$implicit;t.R7$(1),t.Lme(" ","-"===n.giver?"No Specific User":n.giver," ",n.giverEmail?" ("+n.giverEmail+")":""," ")}}function y(o,f){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&o){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ","-"===n.recipientTeam?"No Specific Team":n.recipientTeam," ")}}function c(o,f){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&o){const n=t.XpG().$implicit;t.R7$(1),t.Lme(" ","-"===n.recipient?"No Specific User":n.recipient," ",n.recipientEmail?" ("+n.recipientEmail+")":""," ")}}function I(o,f){if(1&o&&(t.nrm(0,"div",20),t.nI1(1,"safeHtml")),2&o){const n=t.XpG().$implicit;t.Y8G("innerHTML",t.bMT(1,1,n.participantComment.commentText),t.npT)}}function b(o,f){if(1&o&&t.nrm(0,"tm-response-moderation-button",21),2&o){const n=t.XpG().$implicit,l=t.XpG(2);t.Y8G("session",l.session)("relatedGiverEmail",n.relatedGiverEmail)("moderatedQuestionId",l.question.feedbackQuestionId)("isGiverInstructor","INSTRUCTORS"===l.question.giverType)}}function B(o,f){if(1&o&&(t.j41(0,"span",24),t.EFF(1),t.k0s()),2&o){const n=t.XpG(2).$implicit,l=t.XpG(2);t.R7$(1),t.JRh(l.instructorCommentTableModel[n.responseId].commentRows.length)}}function x(o,f){if(1&o){const n=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){t.eBV(n);const _=t.XpG().$implicit,R=t.XpG(2),Q=t.sdS(3);return t.Njj(R.showCommentTableModel(_,Q))}),t.EFF(1,"Add Comment "),t.DNE(2,B,2,1,"span",23),t.k0s()}if(2&o){const n=t.XpG().$implicit,l=t.XpG(2);t.Y8G("disabled",l.isDisplayOnly),t.R7$(2),t.Y8G("ngIf",l.instructorCommentTableModel[n.responseId].commentRows.length)}}function Y(o,f){if(1&o&&(t.j41(0,"tr"),t.DNE(1,K,2,1,"td",0),t.DNE(2,p,2,2,"td",0),t.DNE(3,y,2,1,"td",0),t.DNE(4,c,2,2,"td",0),t.j41(5,"td"),t.nrm(6,"tm-single-response",15),t.k0s(),t.j41(7,"td"),t.DNE(8,I,2,3,"div",16),t.k0s(),t.j41(9,"td",17),t.DNE(10,b,1,4,"tm-response-moderation-button",18),t.DNE(11,x,3,2,"button",19),t.k0s()()),2&o){const n=f.$implicit,l=t.XpG(2);t.AVh("color-neutral",n.isMissingResponse),t.R7$(1),t.Y8G("ngIf",l.showGiver),t.R7$(1),t.Y8G("ngIf",l.showGiver),t.R7$(1),t.Y8G("ngIf",l.showRecipient),t.R7$(1),t.Y8G("ngIf",l.showRecipient),t.R7$(2),t.Y8G("responseDetails",n.responseDetails)("questionDetails",l.question.questionDetails)("giverEmail",n.giverEmail)("recipientEmail",n.recipientEmail)("statistics",l.statistics),t.R7$(2),t.Y8G("ngIf",n.participantComment),t.R7$(2),t.Y8G("ngIf",n.relatedGiverEmail),t.R7$(1),t.Y8G("ngIf",!n.isMissingResponse&&"CONTRIB"!==l.question.questionType)}}const V=function(o){return{"actions-cell-narrow":o}};function q(o,f){if(1&o&&(t.j41(0,"div")(1,"table",3)(2,"thead")(3,"tr",4),t.DNE(4,a,7,3,"th",5),t.DNE(5,u,7,3,"th",5),t.DNE(6,F,7,3,"th",5),t.DNE(7,X,7,3,"th",5),t.j41(8,"th"),t.EFF(9,"Response"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Comment for Response"),t.k0s(),t.j41(12,"th",6),t.EFF(13,"Actions"),t.k0s()()(),t.j41(14,"tbody"),t.DNE(15,Y,12,14,"tr",7),t.k0s()()()),2&o){const n=t.XpG();t.R7$(4),t.Y8G("ngIf",n.showGiver),t.R7$(1),t.Y8G("ngIf",n.showGiver),t.R7$(1),t.Y8G("ngIf",n.showRecipient),t.R7$(1),t.Y8G("ngIf",n.showRecipient),t.R7$(5),t.Y8G("ngClass",t.eq3(6,V,"CONTRIB"===n.question.questionType)),t.R7$(3),t.Y8G("ngForOf",n.responsesToShow)}}function W(o,f){1&o&&(t.j41(0,"div",25)(1,"i"),t.EFF(2,"There are no responses for this question or you may not have the permission to see the response."),t.k0s()())}function H(o,f){if(1&o){const n=t.RV6();t.j41(0,"tm-comment-table-modal",27),t.bIt("modelChange",function(_){t.eBV(n);const R=t.XpG(2);return t.Njj(R.triggerModelChangeForSingleResponse(R.currResponseToAdd.responseId,_))})("saveNewCommentEvent",function(){t.eBV(n);const _=t.XpG(2);return t.Njj(_.triggerSaveNewCommentEvent(_.currResponseToAdd.responseId))})("updateCommentEvent",function(_){t.eBV(n);const R=t.XpG(2);return t.Njj(R.triggerUpdateCommentEvent(R.currResponseToAdd.responseId,_))})("deleteCommentEvent",function(_){t.eBV(n);const R=t.XpG(2);return t.Njj(R.triggerDeleteCommentEvent(R.currResponseToAdd.responseId,_))}),t.k0s()}if(2&o){const n=t.XpG().$implicit,l=t.XpG();t.Y8G("questionShowResponsesTo",l.question.showResponsesTo)("activeModal",n)("model",l.instructorCommentTableModel[l.currResponseToAdd.responseId])("response",l.currResponseToAdd)}}function Z(o,f){if(1&o&&t.DNE(0,H,1,4,"tm-comment-table-modal",26),2&o){const n=t.XpG();t.Y8G("ngIf",n.currResponseToAdd)}}let J=(()=>{class o extends C.u{constructor(n,l,_){super(),this.tableComparatorService=n,this.feedbackResponsesService=l,this.ngbModal=_,this.SortBy=m.g,this.SortOrder=m.x,this.responses=[],this.section="",this.sectionType=E.m.EITHER,this.groupByTeam=!0,this.indicateMissingResponses=!0,this.showGiver=!0,this.showRecipient=!0,this.session={courseId:"",timeZone:"",feedbackSessionName:"",instructions:"",submissionStartTimestamp:0,submissionEndTimestamp:0,gracePeriod:0,sessionVisibleSetting:e.Be.AT_OPEN,responseVisibleSetting:e.KG.AT_VISIBLE,submissionStatus:e.u.OPEN,publishStatus:e.DG.NOT_PUBLISHED,isClosingSoonEmailEnabled:!0,isPublishedEmailEnabled:!0,createdAtTimestamp:0,studentDeadlines:{},instructorDeadlines:{}},this.isDisplayOnly=!1,this.statistics="",this.responsesToShow=[],this.sortBy=m.g.NONE,this.sortOrder=m.x.ASC}ngOnInit(){this.filterResponses()}ngOnChanges(){this.filterResponses()}filterResponses(){const n=[];for(const _ of this.responses)!this.indicateMissingResponses&&_.isMissingResponse||!this.feedbackResponsesService.isFeedbackResponsesDisplayedOnSection(_,this.section,this.sectionType)||n.push(_);n.some(_=>!_.isMissingResponse)?(this.responsesToShow=n,this.sortResponses(this.sortBy)):this.responsesToShow=[]}sortResponses(n){n!==m.g.NONE&&this.sortBy===n?this.sortOrder=this.sortOrder===m.x.ASC?m.x.DESC:m.x.ASC:(this.sortBy=n,this.sortOrder=m.x.ASC),this.responsesToShow.sort(this.sortResponsesBy(n,this.sortOrder))}getAriaSort(n){return n!==this.sortBy?"none":this.sortOrder===m.x.ASC?"ascending":"descending"}sortResponsesBy(n,l){return n===m.g.NONE?(_,R)=>this.tableComparatorService.compare(m.g.GIVER_TEAM,l,_.giverTeam,R.giverTeam)||this.tableComparatorService.compare(m.g.GIVER_NAME,l,_.giver,R.giver)||this.tableComparatorService.compare(m.g.RECIPIENT_TEAM,l,_.recipientTeam,R.recipientTeam)||this.tableComparatorService.compare(m.g.RECIPIENT_NAME,l,_.recipient,R.recipient):(_,R)=>{let Q,L;switch(n){case m.g.GIVER_TEAM:Q=_.giverTeam,L=R.giverTeam;break;case m.g.GIVER_NAME:Q=_.giver,L=R.giver;break;case m.g.RECIPIENT_TEAM:Q=_.recipientTeam,L=R.recipientTeam;break;case m.g.RECIPIENT_NAME:Q=_.recipient,L=R.recipient;break;default:Q="",L=""}return this.tableComparatorService.compare(n,l,Q,L)}}showCommentTableModel(n,l){const _=this.ngbModal.open(l);this.currResponseToAdd=n,_.result.then(()=>{},()=>{this.currResponseToAdd=void 0})}static#e=this.\u0275fac=function(l){return new(l||o)(t.rXU(S.C),t.rXU(M.V),t.rXU(T.Bq))};static#t=this.\u0275cmp=t.VBU({type:o,selectors:[["tm-per-question-view-responses"]],inputs:{responses:"responses",section:"section",sectionType:"sectionType",groupByTeam:"groupByTeam",indicateMissingResponses:"indicateMissingResponses",showGiver:"showGiver",showRecipient:"showRecipient",session:"session",isDisplayOnly:"isDisplayOnly",statistics:"statistics"},features:[t.Vt3,t.OA$],decls:4,vars:2,consts:[[4,"ngIf"],["id","no-responses",4,"ngIf"],["commentTableModal",""],["id","response-table",1,"table","table-bordered"],[1,"header"],["class","sortable-header",3,"click",4,"ngIf"],[1,"text-center","no-print","actions-cell",3,"ngClass"],[3,"color-neutral",4,"ngFor","ngForOf"],[1,"sortable-header",3,"click"],["aria-hidden","true",1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],[3,"responseDetails","questionDetails","giverEmail","recipientEmail","statistics"],[3,"innerHTML",4,"ngIf"],[1,"text-center","no-print"],["btnStyle","LIGHT",3,"session","relatedGiverEmail","moderatedQuestionId","isGiverInstructor",4,"ngIf"],["id","btn-add-comment","class","btn btn-light btn-sm btn-margin-left",3,"disabled","click",4,"ngIf"],[3,"innerHTML"],["btnStyle","LIGHT",3,"session","relatedGiverEmail","moderatedQuestionId","isGiverInstructor"],["id","btn-add-comment",1,"btn","btn-light","btn-sm","btn-margin-left",3,"disabled","click"],["class","badge bg-secondary",4,"ngIf"],[1,"badge","bg-secondary"],["id","no-responses"],[3,"questionShowResponsesTo","activeModal","model","response","modelChange","saveNewCommentEvent","updateCommentEvent","deleteCommentEvent",4,"ngIf"],[3,"questionShowResponsesTo","activeModal","model","response","modelChange","saveNewCommentEvent","updateCommentEvent","deleteCommentEvent"]],template:function(l,_){1&l&&(t.DNE(0,q,16,8,"div",0),t.DNE(1,W,3,0,"div",1),t.DNE(2,Z,1,1,"ng-template",null,2,t.C5r)),2&l&&(t.Y8G("ngIf",_.responsesToShow.length),t.R7$(1),t.Y8G("ngIf",!_.responsesToShow.length))},dependencies:[D,P.YU,P.Sq,P.bT,A.b,j.X,v.$],styles:[".sortable-header[_ngcontent-%COMP%]{cursor:pointer}.sortable-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3em}.sortable-header[_ngcontent-%COMP%]   .fa-stack[_ngcontent-%COMP%]{width:20%}.sortable-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;padding:0;text-align:left;width:100%;font:inherit;cursor:inherit}.color-neutral[_ngcontent-%COMP%]{color:gray}.actions-cell[_ngcontent-%COMP%], .actions-cell-narrow[_ngcontent-%COMP%]{min-width:160px}@media (width >= 1000px){.actions-cell[_ngcontent-%COMP%]{min-width:300px}.actions-cell-narrow[_ngcontent-%COMP%]{min-width:160px}}"]})}return o})()},21538:($,G,s)=>{s.d(G,{l:()=>j});var e=s(17705),m=s(40035),E=s(9477),C=s(75861),t=s(60177),S=s(94227),M=s(89417),T=s(13884),P=s(64943);function w(v,h){if(1&v&&(e.j41(0,"option",8),e.EFF(1),e.k0s()),2&v){const r=h.$implicit;e.Y8G("value",r.key),e.R7$(1),e.SpI(" ","None"===r.key?"No specific section":r.key," ")}}function O(v,h){if(1&v&&(e.j41(0,"option",25),e.EFF(1),e.nI1(2,"sectionTypeDescription"),e.k0s()),2&v){const r=h.$implicit;e.Y8G("ngValue",r),e.R7$(1),e.SpI(" ",e.bMT(2,2,r)," ")}}function D(v,h){if(1&v){const r=e.RV6();e.j41(0,"div",4)(1,"label",21)(2,"b",22),e.EFF(3,"If showing only a section:"),e.k0s()(),e.j41(4,"div")(5,"select",23),e.bIt("ngModelChange",function(d){e.eBV(r);const i=e.XpG(2);return e.Njj(i.handleSectionTypeChange(d))}),e.DNE(6,O,3,4,"option",24),e.nI1(7,"enumToArray"),e.k0s()()()}if(2&v){const r=e.XpG(2);e.R7$(5),e.Y8G("ngModel",r.sectionType),e.R7$(1),e.Y8G("ngForOf",e.bMT(7,2,r.InstructorSessionResultSectionType))}}function A(v,h){if(1&v){const r=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5)(5,"b",6),e.EFF(6,"View:"),e.k0s()(),e.j41(7,"div")(8,"select",7),e.bIt("ngModelChange",function(d){e.eBV(r);const i=e.XpG();return e.Njj(i.handleViewTypeChange(d))}),e.j41(9,"option",8),e.EFF(10,"Group by - Question"),e.k0s(),e.j41(11,"option",8),e.EFF(12,"Group by - Giver \u2192 Recipient \u2192 Question"),e.k0s(),e.j41(13,"option",8),e.EFF(14,"Group by - Recipient \u2192 Giver \u2192 Question"),e.k0s(),e.j41(15,"option",8),e.EFF(16,"Group by - Giver \u2192 Question \u2192 Recipient"),e.k0s(),e.j41(17,"option",8),e.EFF(18,"Group by - Recipient \u2192 Question \u2192 Giver"),e.k0s()()()(),e.j41(19,"div",4)(20,"label",9)(21,"b",10),e.EFF(22,"Section:"),e.k0s()(),e.j41(23,"div")(24,"select",11),e.bIt("ngModelChange",function(d){e.eBV(r);const i=e.XpG();return e.Njj(i.handleSectionChange(d))}),e.j41(25,"option",12),e.EFF(26,"All"),e.k0s(),e.DNE(27,w,2,2,"option",13),e.nI1(28,"keyvalue"),e.k0s()()(),e.DNE(29,D,8,4,"div",14),e.k0s(),e.j41(30,"div",15)(31,"label",16)(32,"b"),e.EFF(33,"Additional settings:"),e.k0s()(),e.j41(34,"div")(35,"label",17)(36,"input",18),e.bIt("ngModelChange",function(d){e.eBV(r);const i=e.XpG();return e.Njj(i.handleGroupByTeamChange(d))}),e.k0s(),e.EFF(37," Group by Teams"),e.k0s()(),e.j41(38,"div")(39,"label",17)(40,"input",19),e.bIt("ngModelChange",function(d){e.eBV(r);const i=e.XpG();return e.Njj(i.handleShowStatisticsChange(d))}),e.k0s(),e.EFF(41," Show Statistics"),e.k0s()(),e.j41(42,"div")(43,"label",17)(44,"input",20),e.bIt("ngModelChange",function(d){e.eBV(r);const i=e.XpG();return e.Njj(i.handleIndicateMissingResponsesChange(d))}),e.k0s(),e.EFF(45," Indicate Missing Responses"),e.k0s()()()()()}if(2&v){const r=e.XpG();e.R7$(5),e.FS9("ngbTooltip",r.viewTooltipText),e.R7$(3),e.Y8G("ngModel",r.viewType),e.R7$(1),e.Y8G("value",r.InstructorSessionResultViewType.QUESTION),e.R7$(2),e.Y8G("value",r.InstructorSessionResultViewType.GRQ),e.R7$(2),e.Y8G("value",r.InstructorSessionResultViewType.RGQ),e.R7$(2),e.Y8G("value",r.InstructorSessionResultViewType.GQR),e.R7$(2),e.Y8G("value",r.InstructorSessionResultViewType.RQG),e.R7$(7),e.Y8G("ngModel",r.section),e.R7$(3),e.Y8G("ngForOf",e.bMT(28,15,r.sectionsModel)),e.R7$(2),e.Y8G("ngIf",r.section),e.R7$(7),e.Y8G("ngModel",r.groupByTeam)("disabled","QUESTION"===r.viewType),e.R7$(4),e.Y8G("ngModel",r.showStatistics)("disabled","GRQ"===r.viewType||"RGQ"===r.viewType),e.R7$(4),e.Y8G("ngModel",r.indicateMissingResponses)}}let j=(()=>{class v{constructor(){this.InstructorSessionResultSectionType=E.m,this.InstructorSessionResultViewType=C.e,this.viewTooltipText="View results in different formats",this.session={courseId:"",timeZone:"",feedbackSessionName:"",instructions:"",submissionStartTimestamp:0,submissionEndTimestamp:0,gracePeriod:0,sessionVisibleSetting:m.Be.AT_OPEN,responseVisibleSetting:m.KG.AT_VISIBLE,submissionStatus:m.u.OPEN,publishStatus:m.DG.NOT_PUBLISHED,isClosingSoonEmailEnabled:!0,isPublishedEmailEnabled:!0,createdAtTimestamp:0,studentDeadlines:{},instructorDeadlines:{}},this.viewType=C.e.QUESTION,this.section="",this.sectionsModel={},this.sectionType=E.m.EITHER,this.groupByTeam=!0,this.showStatistics=!0,this.indicateMissingResponses=!0,this.sectionChange=new e.bkB,this.viewTypeChange=new e.bkB,this.sectionTypeChange=new e.bkB,this.groupByTeamChange=new e.bkB,this.showStatisticsChange=new e.bkB,this.indicateMissingResponsesChange=new e.bkB,this.collapseAllTabsEvent=new e.bkB}collapseAllTabsHandler(){this.collapseAllTabsEvent.emit()}handleViewTypeChange(r){if(this.viewType!==r){switch(this.viewTypeChange.emit(r),this.viewType){case C.e.QUESTION:this.viewTooltipText="Group responses by question";break;case C.e.GRQ:this.viewTooltipText="Group responses by giver, then by recipient, and then by question";break;case C.e.RGQ:this.viewTooltipText="Group responses by recipient, then by giver, and then by question";break;case C.e.GQR:this.viewTooltipText="Group responses by giver, then by question, and then by recipient";break;case C.e.RQG:this.viewTooltipText="Group responses by recipient, then by question, and then by giver";break;default:this.viewTooltipText="View results in different formats"}this.collapseAllTabsHandler()}}handleSectionChange(r){this.section=r,this.sectionChange.emit(r)}handleSectionTypeChange(r){this.sectionTypeChange.emit(r)}handleGroupByTeamChange(r){this.groupByTeamChange.emit(r)}handleShowStatisticsChange(r){this.showStatisticsChange.emit(r)}handleIndicateMissingResponsesChange(r){this.indicateMissingResponsesChange.emit(r)}static#e=this.\u0275fac=function(a){return new(a||v)};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["tm-view-results-panel"]],inputs:{session:"session",viewType:"viewType",section:"section",sectionsModel:"sectionsModel",sectionType:"sectionType",groupByTeam:"groupByTeam",showStatistics:"showStatistics",indicateMissingResponses:"indicateMissingResponses"},outputs:{sectionChange:"sectionChange",viewTypeChange:"viewTypeChange",sectionTypeChange:"sectionTypeChange",groupByTeamChange:"groupByTeamChange",showStatisticsChange:"showStatisticsChange",indicateMissingResponsesChange:"indicateMissingResponsesChange",collapseAllTabsEvent:"collapseAllTabsEvent"},decls:1,vars:1,consts:[["class","card bg-light top-padded text-center text-sm-start",4,"ngIf"],[1,"card","bg-light","top-padded","text-center","text-sm-start"],[1,"card-body","row"],[1,"col-md-6"],[1,"report-config-item"],["for","view-type-dropdown",1,"report-config-label","control-label"],[1,"ngb-tooltip-class",3,"ngbTooltip"],["id","view-type-dropdown",1,"form-control","form-select",3,"ngModel","ngModelChange"],[3,"value"],["for","section-dropdown",1,"report-config-label","control-label","mt-md-1"],["ngbTooltip","View results by sections",1,"ngb-tooltip-class"],["id","section-dropdown",1,"form-control","form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","report-config-item",4,"ngIf"],[1,"col-md-6",2,"margin-top","10px"],[1,"control-label"],[1,"form-check-label"],["id","include-team-grouping","type","checkbox",3,"ngModel","disabled","ngModelChange"],["id","include-statistics","type","checkbox",3,"ngModel","disabled","ngModelChange"],["id","include-missing-responses","type","checkbox",3,"ngModel","ngModelChange"],[1,"report-config-label","control-label","mt-md-1"],["ngbTooltip","Choose the way responses for the selected section is viewed",1,"ngb-tooltip-class"],["id","section-type-dropdown",1,"form-control","form-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(a,d){1&a&&e.DNE(0,A,46,17,"div",0),2&a&&e.Y8G("ngIf",d.session)},dependencies:[t.Sq,t.bT,S.md,M.xH,M.y7,M.Zm,M.wz,M.BC,M.vS,t.lG,T.o,P.y],styles:[".top-padded[_ngcontent-%COMP%]{margin-top:20px}.report-config-item[_ngcontent-%COMP%]{margin-bottom:6px}.report-config-label[_ngcontent-%COMP%]{margin-bottom:2px}.margin-top-10px[_ngcontent-%COMP%]{margin-top:10px}"]})}return v})()},66981:($,G,s)=>{s.d(G,{m:()=>M});var e=s(60177),m=s(89417),E=s(94227),C=s(83816),t=s(44661),S=s(17705);let M=(()=>{class T{static#e=this.\u0275fac=function(O){return new(O||T)};static#t=this.\u0275mod=S.$C({type:T});static#n=this.\u0275inj=S.G2t({imports:[e.MD,E.n8,m.YN,C.E,t.x]})}return T})()},84469:($,G,s)=>{s.d(G,{l:()=>K});var e=s(17705),m=s(40035),E=s(26195),C=s(55191),t=s(44199),S=s(94227),M=s(16),T=s(60177),P=s(57645),w=s(86082),O=s(53992);function D(p,y){1&p&&e.eu8(0)}const A=function(p,y){return{courseid:p,fsname:y,preselectnonsubmitters:!0}};function j(p,y){if(1&p&&(e.j41(0,"a",11),e.DNE(1,D,1,0,"ng-container",12),e.k0s()),2&p){const c=e.XpG(),I=e.sdS(8);e.Y8G("queryParams",e.l_i(2,A,c.session.courseId,c.session.feedbackSessionName)),e.R7$(1),e.Y8G("ngTemplateOutlet",I)}}function v(p,y){if(1&p&&(e.j41(0,"button",13),e.EFF(1," Extend Deadline for All "),e.k0s()),2&p){const c=e.XpG();e.Y8G("disabled",c.session.submissionStatus!==c.FeedbackSessionSubmissionStatus.OPEN)}}function h(p,y){1&p&&e.nrm(0,"i",24)}function r(p,y){1&p&&e.nrm(0,"i",25)}function a(p,y){1&p&&e.nrm(0,"i",24)}function d(p,y){1&p&&e.nrm(0,"i",25)}const i=function(p,y,c){return{courseid:p,fsname:y,moderatedperson:c}};function u(p,y){if(1&p&&(e.j41(0,"a",28),e.EFF(1," Submit responses "),e.k0s()),2&p){const c=e.XpG().$implicit,I=e.XpG(4);e.Y8G("queryParams",e.sMw(1,i,I.session.courseId,I.session.feedbackSessionName,c.email))}}function g(p,y){1&p&&(e.j41(0,"a",29),e.EFF(1,"Submit response"),e.k0s())}function N(p,y){if(1&p&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.DNE(6,u,2,5,"a",26),e.DNE(7,g,2,0,"ng-template",null,27,e.C5r),e.k0s()()),2&p){const c=y.$implicit,I=e.sdS(8),b=e.XpG(4);e.R7$(2),e.JRh(c.teamName),e.R7$(2),e.Lme("",c.name," (",c.email,")"),e.R7$(2),e.Y8G("ngIf",!b.isDisplayOnly)("ngIfElse",I)}}function F(p,y){if(1&p){const c=e.RV6();e.j41(0,"div")(1,"table",16)(2,"thead")(3,"tr")(4,"th",17),e.bIt("click",function(){e.eBV(c);const b=e.XpG(3);return e.Njj(b.sortParticipantsBy(b.SortBy.TEAM_NAME))}),e.EFF(5," Team "),e.j41(6,"span",18),e.nrm(7,"i",19),e.DNE(8,h,1,0,"i",20),e.DNE(9,r,1,0,"i",21),e.k0s()(),e.j41(10,"th",22),e.bIt("click",function(){e.eBV(c);const b=e.XpG(3);return e.Njj(b.sortParticipantsBy(b.SortBy.RESPONDENT_NAME))}),e.EFF(11," Name "),e.j41(12,"span",18),e.nrm(13,"i",19),e.DNE(14,a,1,0,"i",20),e.DNE(15,d,1,0,"i",21),e.k0s()(),e.j41(16,"th"),e.EFF(17,"Actions"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,N,9,5,"tr",23),e.k0s()()()}if(2&p){const c=e.XpG(3);e.R7$(8),e.Y8G("ngIf",c.sortBy===c.SortBy.TEAM_NAME&&c.sortOrder===c.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",c.sortBy===c.SortBy.TEAM_NAME&&c.sortOrder===c.SortOrder.ASC),e.R7$(5),e.Y8G("ngIf",c.sortBy===c.SortBy.RESPONDENT_NAME&&c.sortOrder===c.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",c.sortBy===c.SortBy.RESPONDENT_NAME&&c.sortOrder===c.SortOrder.ASC),e.R7$(4),e.Y8G("ngForOf",c.noResponseStudentsInSection)}}function k(p,y){1&p&&(e.j41(0,"div")(1,"i"),e.EFF(2,"All students have responded to some questions in this session."),e.k0s()())}function U(p,y){if(1&p&&(e.j41(0,"div",15),e.DNE(1,F,20,5,"div",10),e.DNE(2,k,3,0,"div",10),e.k0s()),2&p){const c=e.XpG(2);e.R7$(1),e.Y8G("ngIf",c.noResponseStudentsInSection.length),e.R7$(1),e.Y8G("ngIf",!c.noResponseStudentsInSection.length)}}function X(p,y){if(1&p&&(e.j41(0,"div"),e.DNE(1,U,3,2,"div",14),e.k0s()),2&p){const c=e.XpG();e.Y8G("@collapseAnim",void 0),e.R7$(1),e.Y8G("tmIsLoading",!c.isNoResponseStudentsLoaded)}}let K=(()=>{class p{constructor(c,I){this.ngbModal=c,this.tableComparatorService=I,this.FeedbackSessionSubmissionStatus=m.u,this.SortBy=E.g,this.SortOrder=E.x,this.isNoResponseStudentsLoaded=!1,this.isDisplayOnly=!1,this.allStudents=[],this.noResponseStudents=[],this.section="",this.session={courseId:"",timeZone:"",feedbackSessionName:"",instructions:"",submissionStartTimestamp:0,submissionEndTimestamp:0,gracePeriod:0,sessionVisibleSetting:m.Be.AT_OPEN,responseVisibleSetting:m.KG.AT_VISIBLE,submissionStatus:m.u.OPEN,publishStatus:m.DG.NOT_PUBLISHED,isClosingSoonEmailEnabled:!0,isPublishedEmailEnabled:!0,createdAtTimestamp:0,studentDeadlines:{},instructorDeadlines:{}},this.isTabExpanded=!1,this.sortBy=E.g.NONE,this.sortOrder=E.x.ASC,this.noResponseStudentsInSection=[],this.studentsToRemindEvent=new e.bkB}ngOnInit(){this.filterStudentsBySection()}ngOnChanges(){this.filterStudentsBySection()}filterStudentsBySection(){this.noResponseStudentsInSection=this.section?this.noResponseStudents.filter(c=>c.sectionName===this.section):this.noResponseStudents}openSendReminderModal(c){c.stopPropagation();const I=this.session.courseId,b=this.session.feedbackSessionName,B=this.noResponseStudents.map(V=>V.email),x=new Set(B),Y=this.ngbModal.open(C.E);Y.componentInstance.courseId=I,Y.componentInstance.feedbackSessionName=b,Y.componentInstance.studentListInfoTableRowModels=this.allStudents.map(V=>({email:V.email,name:V.name,teamName:V.teamName,sectionName:V.sectionName,hasSubmittedSession:!x.has(V.email),isSelected:x.has(V.email)})),Y.result.then(V=>{this.studentsToRemindEvent.emit(V)},()=>{})}toggleTab(){this.isTabExpanded=!this.isTabExpanded}expandTab(){this.isTabExpanded=!0}collapseTab(){this.isTabExpanded=!1}sortParticipantsBy(c){this.sortBy=c,this.sortOrder=this.sortOrder===E.x.ASC?E.x.DESC:E.x.ASC,this.noResponseStudentsInSection.sort((I,b)=>{let B,x;switch(this.sortBy){case E.g.TEAM_NAME:B=I.teamName,x=b.teamName;break;case E.g.RESPONDENT_NAME:B=I.name,x=b.name;break;default:B="",x=""}return this.tableComparatorService.compare(this.sortBy,this.sortOrder,B,x)})}static#e=this.\u0275fac=function(I){return new(I||p)(e.rXU(S.Bq),e.rXU(M.C))};static#t=this.\u0275cmp=e.VBU({type:p,selectors:[["tm-instructor-session-no-response-panel"]],inputs:{isNoResponseStudentsLoaded:"isNoResponseStudentsLoaded",isDisplayOnly:"isDisplayOnly",allStudents:"allStudents",noResponseStudents:"noResponseStudents",section:"section",session:"session"},outputs:{studentsToRemindEvent:"studentsToRemindEvent"},features:[e.OA$],decls:14,vars:5,consts:[["id","no-response-panel",1,"card"],[1,"card-header","bg-secondary","text-white","cursor-pointer","border-0",3,"click"],[1,"d-flex","w-100","flex-fill","flex-md-row","flex-column","align-items-md-center","align-items-start"],[1,"text-start"],[1,"card-header-btn-toolbar","ms-0","ms-md-auto","align-self-md-end"],["tmRouterLink","/web/instructor/sessions/individual-extension",3,"queryParams",4,"ngIf","ngIfElse"],["extendDeadlineBtn",""],["id","btn-remind-all","type","button",1,"btn","btn-secondary","btn-sm","button",3,"disabled","click"],[1,"chevron-collapse"],[3,"isExpanded"],[4,"ngIf"],["tmRouterLink","/web/instructor/sessions/individual-extension",3,"queryParams"],[4,"ngTemplateOutlet"],["type","button",1,"btn","btn-secondary","btn-sm","button",3,"disabled"],["class","card-body",4,"tmIsLoading"],[1,"card-body"],["id","no-response-table",1,"table","table-striped"],[1,"cursor-pointer",3,"click"],[1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],["id","sort-by-name",1,"cursor-pointer",3,"click"],[4,"ngFor","ngForOf"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],["tmRouterLink","/web/sessions/submission","rel","noopener noreferrer","target","_blank","class","btn btn-light btn-sm button",3,"queryParams",4,"ngIf","ngIfElse"],["displayOnlySubmitResponseButton",""],["tmRouterLink","/web/sessions/submission","rel","noopener noreferrer","target","_blank",1,"btn","btn-light","btn-sm","button",3,"queryParams"],[1,"btn","btn-light","btn-sm","button"]],template:function(I,b){if(1&I&&(e.j41(0,"div",0)(1,"div",1),e.bIt("click",function(){return b.toggleTab()}),e.j41(2,"div",2)(3,"div",3),e.EFF(4," Participants who have not responded to any question "),e.k0s(),e.j41(5,"div",4),e.DNE(6,j,2,5,"a",5),e.DNE(7,v,2,1,"ng-template",null,6,e.C5r),e.j41(9,"button",7),e.bIt("click",function(x){return!b.isDisplayOnly&&b.openSendReminderModal(x),x.stopPropagation()}),e.EFF(10," Remind All "),e.k0s()()(),e.j41(11,"div",8),e.nrm(12,"tm-panel-chevron",9),e.k0s()(),e.DNE(13,X,2,2,"div",10),e.k0s()),2&I){const B=e.sdS(8);e.R7$(6),e.Y8G("ngIf",b.session.submissionStatus===b.FeedbackSessionSubmissionStatus.OPEN)("ngIfElse",B),e.R7$(3),e.Y8G("disabled",b.session.submissionStatus!==b.FeedbackSessionSubmissionStatus.OPEN),e.R7$(3),e.Y8G("isExpanded",b.isTabExpanded),e.R7$(1),e.Y8G("ngIf",b.isTabExpanded)}},dependencies:[T.Sq,T.bT,T.T3,P.n,w.F,O.y],styles:[".chevron-collapse[_ngcontent-%COMP%]{margin-left:10px}"],data:{animation:[t.j]}})}return p})()},62441:($,G,s)=>{s.d(G,{B:()=>v});var e=s(17705),m=s(97491),E=s(75861),C=s(44199),t=s(60177),S=s(99534),M=s(57645),T=s(86082),P=s(72890);function w(h,r){1&h&&e.nrm(0,"div")}const O=function(){return[]};function D(h,r){if(1&h){const a=e.RV6();e.j41(0,"div",10)(1,"tm-grq-rgq-view-responses",11),e.bIt("instructorCommentTableModelChange",function(i){e.eBV(a);const u=e.XpG(3);return e.Njj(u.triggerInstructorCommentTableModelChange(i))})("updateCommentEvent",function(i){e.eBV(a);const u=e.XpG(3);return e.Njj(u.triggerUpdateCommentEvent(i))})("deleteCommentEvent",function(i){e.eBV(a);const u=e.XpG(3);return e.Njj(u.triggerDeleteCommentEvent(i))})("saveNewCommentEvent",function(i){e.eBV(a);const u=e.XpG(3);return e.Njj(u.triggerSaveNewCommentEvent(i))}),e.k0s()()}if(2&h){const a=e.XpG(2).$implicit,d=e.XpG();e.R7$(1),e.Y8G("responses",a.value.questions||e.lJ4(11,O))("sectionOfView",a.key)("section",d.section)("sectionType",d.sectionType)("indicateMissingResponses",d.indicateMissingResponses)("groupByTeam",d.groupByTeam)("showStatistics",d.showStatistics)("isGrq",!0)("session",d.session)("isExpandAll",d.isExpandAll)("instructorCommentTableModel",d.instructorCommentTableModel)}}function A(h,r){if(1&h){const a=e.RV6();e.j41(0,"div"),e.DNE(1,w,1,0,"div",7),e.j41(2,"tm-loading-retry",8),e.bIt("retryEvent",function(){e.eBV(a);const i=e.XpG().$implicit,u=e.XpG();return e.Njj(u.loadSection.emit(i.key))}),e.DNE(3,D,2,12,"div",9),e.k0s()()}if(2&h){const a=e.XpG().$implicit;e.Y8G("@collapseAnim",void 0),e.R7$(1),e.Y8G("tmIsLoading",!a.value.hasPopulated&&!a.value.errorMessage),e.R7$(1),e.Y8G("shouldShowRetry",!!a.value.errorMessage)("message",a.value.errorMessage),e.R7$(1),e.Y8G("ngIf",a.value.hasPopulated)}}function j(h,r){if(1&h){const a=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.bIt("click",function(){const u=e.eBV(a).$implicit,g=e.XpG();return e.Njj(g.toggleAndLoadTab.emit(u.key))}),e.EFF(3),e.j41(4,"div",4),e.nrm(5,"tm-panel-chevron",5),e.k0s()(),e.DNE(6,A,4,5,"div",6),e.k0s()()}if(2&h){const a=r.$implicit;e.R7$(3),e.SpI(" ","None"===a.key?"No specific section":a.key," "),e.R7$(2),e.Y8G("isExpanded",a.value.isTabExpanded),e.R7$(1),e.Y8G("ngIf",a.value.isTabExpanded)}}let v=(()=>{class h extends m.M{constructor(){super(E.e.GRQ),this.loadSection=new e.bkB,this.responses={}}static#e=this.\u0275fac=function(d){return new(d||h)};static#t=this.\u0275cmp=e.VBU({type:h,selectors:[["tm-instructor-session-result-grq-view"]],inputs:{responses:"responses"},outputs:{loadSection:"loadSection"},features:[e.Vt3],decls:2,vars:3,consts:[["id","section-panel",4,"ngFor","ngForOf"],["id","section-panel"],[1,"card","margin-bottom-15px","alert-success-border"],["id","section-header",1,"card-header","alert","alert-success","alert-no-bottom","cursor-pointer",3,"click"],[1,"card-header-btn-toolbar"],[3,"isExpanded"],[4,"ngIf"],[4,"tmIsLoading"],[1,"m-3",3,"shouldShowRetry","message","retryEvent"],["class","card-body",4,"ngIf"],[1,"card-body"],[2,"margin-bottom","20px",3,"responses","sectionOfView","section","sectionType","indicateMissingResponses","groupByTeam","showStatistics","isGrq","session","isExpandAll","instructorCommentTableModel","instructorCommentTableModelChange","updateCommentEvent","deleteCommentEvent","saveNewCommentEvent"]],template:function(d,i){1&d&&(e.DNE(0,j,7,3,"div",0),e.nI1(1,"keyvalue")),2&d&&e.Y8G("ngForOf",e.bMT(1,1,i.responses))},dependencies:[t.Sq,t.bT,S.B,M.n,T.F,P.Y,t.lG],styles:[".card-body[_ngcontent-%COMP%]{padding:0 1rem 1rem}.margin-bottom-15px[_ngcontent-%COMP%]{margin-bottom:15px}.alert-success-border[_ngcontent-%COMP%]{border-color:#c3e6cb}"],data:{animation:[C.j]}})}return h})()},27779:($,G,s)=>{s.d(G,{n:()=>r});var e=s(17705),m=s(97491),E=s(75861),C=s(44199),t=s(60177),S=s(47492),M=s(28760),T=s(71128),P=s(57645),w=s(86082),O=s(72890);function D(a,d){1&a&&e.nrm(0,"div")}function A(a,d){if(1&a&&e.nrm(0,"tm-single-statistics",17),2&a){const i=e.XpG(3).$implicit,u=e.XpG();e.Y8G("question",i.question.questionDetails)("statistics",i.statistics)("responses",i.responses)("recipientType",i.question.recipientType)("section",u.section)("sectionType",u.sectionType)}}function j(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",13)(1,"div",14),e.DNE(2,A,1,6,"tm-single-statistics",15),e.k0s(),e.j41(3,"div",14)(4,"tm-per-question-view-responses",16),e.bIt("instructorCommentTableModelChange",function(g){e.eBV(i);const N=e.XpG(3);return e.Njj(N.triggerInstructorCommentTableModelChange(g))})("updateCommentEvent",function(g){e.eBV(i);const N=e.XpG(3);return e.Njj(N.triggerUpdateCommentEvent(g))})("deleteCommentEvent",function(g){e.eBV(i);const N=e.XpG(3);return e.Njj(N.triggerDeleteCommentEvent(g))})("saveNewCommentEvent",function(g){e.eBV(i);const N=e.XpG(3);return e.Njj(N.triggerSaveNewCommentEvent(g))}),e.k0s()()()}if(2&a){const i=e.XpG(2).$implicit,u=e.XpG();e.R7$(2),e.Y8G("ngIf",u.showStatistics),e.R7$(2),e.Y8G("responses",i.responses)("section",u.section)("sectionType",u.sectionType)("session",u.session)("statistics",i.statistics)("indicateMissingResponses",u.indicateMissingResponses)("question",i.question)("isDisplayOnly",u.isDisplayOnly)("instructorCommentTableModel",u.instructorCommentTableModel)}}function v(a,d){if(1&a){const i=e.RV6();e.j41(0,"div"),e.DNE(1,D,1,0,"div",10),e.j41(2,"tm-loading-retry",11),e.bIt("retryEvent",function(){e.eBV(i);const g=e.XpG().$implicit,N=e.XpG();return e.Njj(N.loadTab.emit(g.question.feedbackQuestionId))}),e.DNE(3,j,5,10,"div",12),e.k0s()()}if(2&a){const i=e.XpG().$implicit;e.Y8G("@collapseAnim",void 0),e.R7$(1),e.Y8G("tmIsLoading",!i.hasPopulated&&!i.errorMessage),e.R7$(1),e.Y8G("shouldShowRetry",!!i.errorMessage)("message",i.errorMessage),e.R7$(1),e.Y8G("ngIf",i.hasPopulated)}}function h(a,d){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"div",2),e.bIt("click",function(){const N=e.eBV(i).$implicit,F=e.XpG();return e.Njj(F.toggleAndLoadTab.emit(N.question.feedbackQuestionId))}),e.j41(2,"div",3)(3,"div"),e.nrm(4,"tm-question-text-with-info",4),e.k0s(),e.j41(5,"div",5)(6,"button",6),e.bIt("click",function(g){const F=e.eBV(i).$implicit;return e.XpG().triggerDownloadQuestionResult({questionNumber:F.question.questionNumber,questionId:F.question.feedbackQuestionId}),e.Njj(g.stopPropogation())}),e.EFF(7," Download Results "),e.k0s()()(),e.j41(8,"div",7),e.nrm(9,"tm-panel-chevron",8),e.k0s()(),e.DNE(10,v,4,5,"div",9),e.k0s()}if(2&a){const i=d.$implicit;e.Mz_("id","question-panel-",i.question.questionNumber,""),e.R7$(4),e.Y8G("questionNumber",i.question.questionNumber)("questionDetails",i.question.questionDetails),e.R7$(5),e.Y8G("isExpanded",i.isTabExpanded),e.R7$(1),e.Y8G("ngIf",i.isTabExpanded)}}let r=(()=>{class a extends m.M{constructor(){super(E.e.QUESTION),this.loadQuestion=new e.bkB,this.questions={},this.isDisplayOnly=!1,this.downloadQuestionResult=new e.bkB,this.questionsOrder=[]}ngOnInit(){this.sortQuestion()}ngOnChanges(){this.sortQuestion()}sortQuestion(){this.questionsOrder=Object.values(this.questions).sort((i,u)=>i.question.questionNumber-u.question.questionNumber)}triggerDownloadQuestionResult(i){this.downloadQuestionResult.emit(i)}static#e=this.\u0275fac=function(u){return new(u||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["tm-instructor-session-result-question-view"]],inputs:{questions:"questions",isDisplayOnly:"isDisplayOnly"},outputs:{loadQuestion:"loadQuestion",downloadQuestionResult:"downloadQuestionResult"},features:[e.Vt3,e.OA$],decls:1,vars:1,consts:[["class","card margin-bottom-15px",3,"id",4,"ngFor","ngForOf"],[1,"card","margin-bottom-15px",3,"id"],[1,"card-header","bg-info","cursor-pointer",3,"click"],[1,"d-flex","w-100","flex-fill","flex-md-row","flex-column","align-items-md-center","align-items-start"],[3,"questionNumber","questionDetails"],[1,"card-header-btn-toolbar","ms-0","ms-md-auto","align-self-md-end"],["type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"chevron-collapse"],["chevronColor","black",3,"isExpanded"],[4,"ngIf"],[4,"tmIsLoading"],[1,"m-3",3,"shouldShowRetry","message","retryEvent"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"stats-table"],[3,"question","statistics","responses","recipientType","section","sectionType",4,"ngIf"],[3,"responses","section","sectionType","session","statistics","indicateMissingResponses","question","isDisplayOnly","instructorCommentTableModel","instructorCommentTableModelChange","updateCommentEvent","deleteCommentEvent","saveNewCommentEvent"],[3,"question","statistics","responses","recipientType","section","sectionType"]],template:function(u,g){1&u&&e.DNE(0,h,11,5,"div",0),2&u&&e.Y8G("ngForOf",g.questionsOrder)},dependencies:[t.Sq,t.bT,S.B,M.g,T.t,P.n,w.F,O.Y],styles:[".margin-bottom-15px[_ngcontent-%COMP%]{margin-bottom:15px}.card-header[_ngcontent-%COMP%]{cursor:pointer}.card-body[_ngcontent-%COMP%]{width:inherit;display:block;overflow-x:auto;padding:1rem}.stats-table[_ngcontent-%COMP%]{min-width:800px}.chevron-collapse[_ngcontent-%COMP%]{margin-left:10px}"],data:{animation:[C.j]}})}return a})()},75861:($,G,s)=>{s.d(G,{e:()=>e});var e=function(m){return m.QUESTION="QUESTION",m.GRQ="GRQ",m.RGQ="RGQ",m.GQR="GQR",m.RQG="RQG",m}(e||{})},12179:($,G,s)=>{s.d(G,{A:()=>u});var e=s(60177),m=s(89417),E=s(82646),C=s(94227),t=s(40348),S=s(21753),M=s(34029),T=s(84309),P=s(57125),w=s(46778),O=s(70981),D=s(44661),A=s(75425),j=s(76449),v=s(17705);let h=(()=>{class g{static#e=this.\u0275fac=function(k){return new(k||g)};static#t=this.\u0275mod=v.$C({type:g});static#n=this.\u0275inj=v.G2t({providers:[C.Lw],imports:[A.n,e.MD,D.x,E.iI,j.k,w.i]})}return g})();var r=s(42720);let a=(()=>{class g{static#e=this.\u0275fac=function(k){return new(k||g)};static#t=this.\u0275mod=v.$C({type:g});static#n=this.\u0275inj=v.G2t({imports:[e.MD,O.o,h,w.i,r.C,D.x,C.HC,P.o]})}return g})();var d=s(7657),i=s(48381);let u=(()=>{class g{static#e=this.\u0275fac=function(k){return new(k||g)};static#t=this.\u0275mod=v.$C({type:g});static#n=this.\u0275inj=v.G2t({providers:[t.r,S.W],imports:[e.MD,m.YN,C.HC,C.n8,E.iI,O.o,h,a,d.Q,r.C,T.y,P.o,i.d,M.Z]})}return g})()},97491:($,G,s)=>{s.d(G,{M:()=>t});var e=s(17705),m=s(9477),E=s(40035),C=s(75861);let t=(()=>{class S{constructor(T){this.viewType=T,this.section="",this.sectionType=m.m.EITHER,this.groupByTeam=!0,this.showStatistics=!0,this.indicateMissingResponses=!0,this.session={courseId:"",timeZone:"",feedbackSessionName:"",instructions:"",submissionStartTimestamp:0,submissionEndTimestamp:0,gracePeriod:0,sessionVisibleSetting:E.Be.AT_OPEN,responseVisibleSetting:E.KG.AT_VISIBLE,submissionStatus:E.u.OPEN,publishStatus:E.DG.NOT_PUBLISHED,isClosingSoonEmailEnabled:!0,isPublishedEmailEnabled:!0,createdAtTimestamp:0,studentDeadlines:{},instructorDeadlines:{}},this.instructorCommentTableModel={},this.isExpandAll=!1,this.toggleAndLoadTab=new e.bkB,this.loadTab=new e.bkB,this.instructorCommentTableModelChange=new e.bkB,this.saveNewCommentEvent=new e.bkB,this.deleteCommentEvent=new e.bkB,this.updateCommentEvent=new e.bkB}triggerInstructorCommentTableModelChange(T){this.instructorCommentTableModelChange.emit(T)}triggerDeleteCommentEvent(T){this.deleteCommentEvent.emit(T)}triggerUpdateCommentEvent(T){this.updateCommentEvent.emit(T)}triggerSaveNewCommentEvent(T){this.saveNewCommentEvent.emit(T)}static#e=this.\u0275fac=function(P){return new(P||S)(e.rXU(C.e))};static#t=this.\u0275dir=e.FsC({type:S,inputs:{section:"section",sectionType:"sectionType",groupByTeam:"groupByTeam",showStatistics:"showStatistics",indicateMissingResponses:"indicateMissingResponses",session:"session",instructorCommentTableModel:"instructorCommentTableModel",isExpandAll:"isExpandAll"},outputs:{toggleAndLoadTab:"toggleAndLoadTab",loadTab:"loadTab",instructorCommentTableModelChange:"instructorCommentTableModelChange",saveNewCommentEvent:"saveNewCommentEvent",deleteCommentEvent:"deleteCommentEvent",updateCommentEvent:"updateCommentEvent"}})}return S})()},83816:($,G,s)=>{s.d(G,{E:()=>E});var e=s(60177),m=s(17705);let E=(()=>{class C{static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275mod=m.$C({type:C});static#n=this.\u0275inj=m.G2t({imports:[e.MD]})}return C})()}}]);