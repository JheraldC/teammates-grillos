"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[4286],{90205:(H,L,p)=>{p.d(L,{H:()=>v});var e=p(17705),C=p(40035),b=p(57286),R=p(60177),x=p(94227),O=p(53992),N=p(64943),I=p(68705),w=p(15069);let g=(()=>{class S{transform(T){switch(T){case C.OX.MCQ:return w.m.SINGLE_ANSWER_MCQ;case C.OX.CONTRIB:return w.m.CONTRIBUTION;case C.OX.TEXT:return w.m.ESSAY;case C.OX.NUMSCALE:return w.m.NUMERICAL_SCALE;case C.OX.MSQ:return w.m.MULTIPLE_ANSWER_MCQ;case C.OX.RANK_OPTIONS:return w.m.RANK_OPTIONS;case C.OX.RANK_RECIPIENTS:return w.m.RANK_RECIPIENTS;case C.OX.RUBRIC:return w.m.RUBRIC;case C.OX.CONSTSUM_OPTIONS:return w.m.POINTS_OPTIONS;case C.OX.CONSTSUM_RECIPIENTS:return w.m.POINTS_RECIPIENTS;default:throw new Error("Invalid Question Type")}}static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275pipe=e.EJ8({name:"questionTypeHelpPath",type:S,pure:!0})}return S})();const V=function(S){return{questionId:S,section:"questions"}};function z(S,f){if(1&S&&(e.j41(0,"a",13),e.nI1(1,"questionTypeHelpPath"),e.nrm(2,"i",14),e.k0s()),2&S){const T=e.XpG(2).$implicit;e.Y8G("queryParams",e.eq3(3,V,e.bMT(1,1,T)))}}function Z(S,f){if(1&S){const T=e.RV6();e.j41(0,"div")(1,"div",11)(2,"button",4),e.bIt("click",function(){e.eBV(T);const P=e.XpG().$implicit,Y=e.XpG();return e.Njj(Y.populateAndShowNewQuestionFormHandler(P))}),e.EFF(3),e.nI1(4,"questionTypeName"),e.k0s(),e.DNE(5,z,3,5,"a",12),e.k0s()()}if(2&S){const T=e.XpG().$implicit,y=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,2,T)," "),e.R7$(2),e.Y8G("ngIf",!y.isLinkDisabled)}}function $(S,f){if(1&S&&(e.qex(0),e.DNE(1,Z,6,4,"div",10),e.bVm()),2&S){const T=f.$implicit,y=e.XpG();e.R7$(1),e.Y8G("ngIf",T!==y.FeedbackQuestionType.CONSTSUM)}}const Q=function(){return{questionId:"questions",section:"questions"}};function U(S,f){1&S&&(e.j41(0,"a",15),e.nrm(1,"i",14),e.k0s()),2&S&&e.Y8G("queryParams",e.lJ4(1,Q))}function J(S,f){1&S&&(e.j41(0,"a",16),e.nrm(1,"i",14),e.k0s())}function K(S,f){1&S&&e.nrm(0,"tm-ajax-loading")}let v=(()=>{class S{constructor(){this.FeedbackQuestionType=C.OX,this.isCopyingQuestion=!1,this.isLinkDisabled=!1,this.templateQuestionModalEvent=new e.bkB,this.populateAndShowNewQuestionFormEvent=new e.bkB,this.copyQuestionsFromOtherSessionsEvent=new e.bkB}templateQuestionModalHandler(){this.templateQuestionModalEvent.emit()}populateAndShowNewQuestionFormHandler(T){this.populateAndShowNewQuestionFormEvent.emit(T)}copyQuestionsFromOtherSessionsHandler(){this.copyQuestionsFromOtherSessionsEvent.emit()}static#e=this.\u0275fac=function(y){return new(y||S)};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["tm-adding-question-panel"]],inputs:{isCopyingQuestion:"isCopyingQuestion",isLinkDisabled:"isLinkDisabled"},outputs:{templateQuestionModalEvent:"templateQuestionModalEvent",populateAndShowNewQuestionFormEvent:"populateAndShowNewQuestionFormEvent",copyQuestionsFromOtherSessionsEvent:"copyQuestionsFromOtherSessionsEvent"},decls:15,vars:7,consts:[[1,"card-body","background-color-light-blue","text-center","responsive-padding"],["ngbDropdown","",1,"d-inline-block"],["id","btn-new-question","ngbDropdownToggle","",1,"btn","btn-primary","btn-small-padding"],["id","new-question-dropdown","ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],[1,"dropdown-divider"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-link px-1 px-sm-3","target","_blank","rel","noopener noreferrer","tmRouterLink","/web/instructor/help","aria-label","Help for questions",3,"queryParams",4,"ngIf"],["type","button","class","btn btn-link px-1 px-sm-3",4,"ngIf"],["id","btn-copy-question",1,"btn","btn-primary","btn-small-padding",3,"disabled","click"],[4,"ngIf"],["role","group",1,"d-flex","btn-group","justify-content-between"],["type","button","class","btn btn-link","target","_blank","rel","noopener noreferrer","tmRouterLink","/web/instructor/help","aria-label","More info",3,"queryParams",4,"ngIf"],["type","button","target","_blank","rel","noopener noreferrer","tmRouterLink","/web/instructor/help","aria-label","More info",1,"btn","btn-link",3,"queryParams"],[1,"fas","fa-info-circle"],["type","button","target","_blank","rel","noopener noreferrer","tmRouterLink","/web/instructor/help","aria-label","Help for questions",1,"btn","btn-link","px-1","px-sm-3",3,"queryParams"],["type","button",1,"btn","btn-link","px-1","px-sm-3"]],template:function(y,P){1&y&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.EFF(3,"Add New Question"),e.k0s(),e.j41(4,"div",3)(5,"button",4),e.bIt("click",function(){return P.templateQuestionModalHandler()}),e.EFF(6,"Choose from template questions"),e.k0s(),e.nrm(7,"div",5),e.DNE(8,$,2,1,"ng-container",6),e.nI1(9,"enumToArray"),e.k0s()(),e.DNE(10,U,2,2,"a",7),e.DNE(11,J,2,0,"a",8),e.j41(12,"button",9),e.bIt("click",function(){return P.copyQuestionsFromOtherSessionsHandler()}),e.DNE(13,K,1,0,"tm-ajax-loading",10),e.EFF(14,"Copy Question"),e.k0s()()),2&y&&(e.R7$(8),e.Y8G("ngForOf",e.bMT(9,5,P.FeedbackQuestionType)),e.R7$(2),e.Y8G("ngIf",!P.isLinkDisabled),e.R7$(1),e.Y8G("ngIf",P.isLinkDisabled),e.R7$(1),e.Y8G("disabled",P.isCopyingQuestion),e.R7$(1),e.Y8G("ngIf",P.isCopyingQuestion))},dependencies:[b.y,R.Sq,R.bT,x.tg,x.do,x.U0,O.y,N.y,I.c,g],styles:[".background-color-light-blue[_ngcontent-%COMP%]{background-color:#eaeff5}.responsive-padding[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}@media (width <= 576px){.btn-small-padding[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}}"]})}return S})()},65949:(H,L,p)=>{p.d(L,{A:()=>N});var e=p(60177),C=p(94227),b=p(85385),R=p(44661),x=p(48381),O=p(17705);let N=(()=>{class I{static#e=this.\u0275fac=function(V){return new(V||I)};static#t=this.\u0275mod=O.$C({type:I});static#i=this.\u0275inj=O.G2t({imports:[b.D,e.MD,C.zH,R.x,x.d]})}return I})()},21692:(H,L,p)=>{p.d(L,{c:()=>K});var e=p(17705),C=p(40035),b=p(60177),R=p(89417),x=p(94227);let O=(()=>{class v{transform(f){switch(f){case C.tp.SELF:return"Feedback session creator (i.e., me)";case C.tp.STUDENTS:return"Students in this course";case C.tp.INSTRUCTORS:return"Instructors in this course";case C.tp.TEAMS:return"Teams in this course";default:return"Unknown"}}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275pipe=e.EJ8({name:"giverTypeDescription",type:v,pure:!0})}return v})(),N=(()=>{class v{transform(f){switch(f){case C.tp.SELF:return"Giver (Self feedback)";case C.tp.STUDENTS:return"Students in the course";case C.tp.STUDENTS_EXCLUDING_SELF:return"Other students in the course";case C.tp.STUDENTS_IN_SAME_SECTION:return"Other students in the same section";case C.tp.INSTRUCTORS:return"Instructors in the course";case C.tp.TEAMS:return"Teams in the course";case C.tp.TEAMS_EXCLUDING_SELF:return"Other teams in the course";case C.tp.TEAMS_IN_SAME_SECTION:return"Other teams in the same section";case C.tp.OWN_TEAM:return"Giver's team";case C.tp.OWN_TEAM_MEMBERS:return"Giver's team members";case C.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF:return"Giver's team members and Giver";case C.tp.NONE:return"Nobody specific (For general class feedback)";default:return"Unknown"}}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275pipe=e.EJ8({name:"recipientTypeDescription",type:v,pure:!0})}return v})(),I=(()=>{class v{transform(f){switch(f){case C.tp.STUDENTS:case C.tp.STUDENTS_EXCLUDING_SELF:case C.tp.STUDENTS_IN_SAME_SECTION:return"students";case C.tp.INSTRUCTORS:return"instructors";case C.tp.TEAMS:case C.tp.TEAMS_EXCLUDING_SELF:case C.tp.TEAMS_IN_SAME_SECTION:return"teams";default:return"Unknown"}}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275pipe=e.EJ8({name:"recipientTypeSimplifiedDescription",type:v,pure:!0})}return v})();function w(v,S){if(1&v&&(e.j41(0,"span",15),e.EFF(1),e.nI1(2,"giverTypeDescription"),e.nrm(3,"i",16),e.EFF(4),e.nI1(5,"recipientTypeDescription"),e.k0s()),2&v){const f=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,2,f.model.giverType)," will give feedback on "),e.R7$(3),e.SpI(" ",e.bMT(5,4,f.model.recipientType)," ")}}function g(v,S){1&v&&(e.j41(0,"span"),e.EFF(1,"Custom feedback path"),e.k0s())}function V(v,S){if(1&v){const f=e.RV6();e.j41(0,"li",11)(1,"button",12),e.bIt("click",function(){const P=e.eBV(f).$implicit,Y=e.XpG(2).$implicit,ie=e.XpG(),re=e.sdS(6);return ie.changeGiverRecipientType(Y.key,P),e.Njj(re.close())}),e.EFF(2),e.nI1(3,"recipientTypeDescription"),e.k0s()()}if(2&v){const f=S.$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,1,f)," ")}}function z(v,S){if(1&v&&(e.j41(0,"ul"),e.DNE(1,V,4,3,"li",19),e.k0s()),2&v){const f=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",f.value)}}function Z(v,S){if(1&v){const f=e.RV6();e.j41(0,"li",17,18)(2,"div",11)(3,"button",12),e.bIt("click",function(){const P=e.eBV(f).$implicit,Y=e.XpG();return e.Njj(Y.toggleSubMenu(P.key))}),e.EFF(4),e.nI1(5,"giverTypeDescription"),e.nrm(6,"i"),e.k0s()(),e.DNE(7,z,2,1,"ul",6),e.k0s()}if(2&v){const f=S.$implicit,T=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,5,f.key)," will give feedback on ... "),e.R7$(2),e.ZvI("fas fa-caret-",T.isSubMenuOpen(f.key)?"down":"right",""),e.R7$(1),e.Y8G("ngIf",T.isSubMenuOpen(f.key))}}function $(v,S){if(1&v&&(e.j41(0,"option",28),e.EFF(1),e.nI1(2,"giverTypeDescription"),e.k0s()),2&v){const f=S.$implicit;e.Y8G("ngValue",f.key),e.R7$(1),e.JRh(e.bMT(2,2,f.key))}}function Q(v,S){if(1&v&&(e.j41(0,"option",28),e.EFF(1),e.nI1(2,"recipientTypeDescription"),e.k0s()),2&v){const f=S.$implicit;e.Y8G("ngValue",f),e.R7$(1),e.JRh(e.bMT(2,2,f))}}function U(v,S){if(1&v){const f=e.RV6();e.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23)(4,"strong"),e.EFF(5,"Who will give the feedback:"),e.k0s()()(),e.j41(6,"div",22)(7,"div",23)(8,"select",24),e.bIt("ngModelChange",function(y){e.eBV(f);const P=e.XpG();return e.Njj(P.changeGiverRecipientType(y,P.model.recipientType))}),e.DNE(9,$,3,4,"option",25),e.nI1(10,"keyvalue"),e.k0s()()()(),e.j41(11,"div",26)(12,"div",22)(13,"div",23)(14,"strong"),e.EFF(15,"Who the feedback is about:"),e.k0s()()(),e.j41(16,"div",22)(17,"div",23)(18,"select",27),e.bIt("ngModelChange",function(y){e.eBV(f);const P=e.XpG();return e.Njj(P.changeGiverRecipientType(P.model.giverType,y))}),e.DNE(19,Q,3,4,"option",25),e.k0s()()()()()}if(2&v){const f=e.XpG();e.R7$(8),e.Y8G("ngModel",f.model.giverType)("disabled",!f.model.isEditable),e.R7$(1),e.Y8G("ngForOf",e.bMT(10,6,f.allowedFeedbackPaths)),e.R7$(9),e.Y8G("ngModel",f.model.recipientType)("disabled",!f.model.isEditable),e.R7$(1),e.Y8G("ngForOf",f.allowedFeedbackPaths.get(f.model.giverType))}}function J(v,S){if(1&v){const f=e.RV6();e.j41(0,"div",29)(1,"div",30),e.EFF(2),e.nI1(3,"recipientTypeSimplifiedDescription"),e.k0s(),e.j41(4,"div",31)(5,"div",32)(6,"div",33)(7,"input",34),e.bIt("ngModelChange",function(y){e.eBV(f);const P=e.XpG();return e.Njj(P.triggerNumberOfEntitiesSetting(y))}),e.k0s()(),e.j41(8,"input",35),e.bIt("ngModelChange",function(y){e.eBV(f);const P=e.XpG();return e.Njj(P.triggerCustomNumberOfEntities(y))}),e.k0s()()(),e.j41(9,"div",31)(10,"div",36)(11,"label",37)(12,"input",38),e.bIt("ngModelChange",function(y){e.eBV(f);const P=e.XpG();return e.Njj(P.triggerNumberOfEntitiesSetting(y))}),e.k0s(),e.EFF(13," Unlimited "),e.k0s()()()()}if(2&v){const f=e.XpG();e.R7$(2),e.SpI(" The maximum number of ",e.bMT(3,11,f.model.recipientType)," each respondent should give feedback to: "),e.R7$(5),e.Y8G("name",f.model.feedbackQuestionId+"numOfRecipients")("ngModel",f.model.numberOfEntitiesToGiveFeedbackToSetting)("value",f.NumberOfEntitiesToGiveFeedbackToSetting.CUSTOM)("disabled",!f.model.isEditable),e.R7$(1),e.Y8G("ngModel",f.model.customNumberOfEntitiesToGiveFeedbackTo)("disabled",f.model.numberOfEntitiesToGiveFeedbackToSetting!==f.NumberOfEntitiesToGiveFeedbackToSetting.CUSTOM||!f.model.isEditable),e.R7$(4),e.Y8G("name",f.model.feedbackQuestionId+"numOfRecipients")("ngModel",f.model.numberOfEntitiesToGiveFeedbackToSetting)("value",f.NumberOfEntitiesToGiveFeedbackToSetting.UNLIMITED)("disabled",!f.model.isEditable)}}let K=(()=>{class v{constructor(){this.FeedbackParticipantType=C.tp,this.FeedbackQuestionType=C.OX,this.NumberOfEntitiesToGiveFeedbackToSetting=C.cB,this.model={feedbackQuestionId:"",questionNumber:0,questionBrief:"",questionDescription:"",isQuestionHasResponses:!1,questionType:C.OX.TEXT,questionDetails:{questionType:C.OX.TEXT,questionText:""},giverType:C.tp.STUDENTS,recipientType:C.tp.OWN_TEAM_MEMBERS,numberOfEntitiesToGiveFeedbackToSetting:C.cB.UNLIMITED,customNumberOfEntitiesToGiveFeedbackTo:1,showResponsesTo:[],showGiverNameTo:[],showRecipientNameTo:[],commonVisibilitySettingName:"",isUsingOtherFeedbackPath:!1,isUsingOtherVisibilitySetting:!1,isDeleting:!1,isDuplicating:!1,isEditable:!1,isSaving:!1,isCollapsed:!1,isVisibilityChanged:!1,isFeedbackPathChanged:!1,isQuestionDetailsChanged:!1},this.commonFeedbackPaths=new Map,this.allowedFeedbackPaths=new Map,this.customFeedbackPath=new e.bkB,this.customNumberOfEntitiesToGiveFeedbackTo=new e.bkB,this.numberOfEntitiesToGiveFeedbackToSetting=new e.bkB,this.triggerModelChangeBatch=new e.bkB,this.subMenuStatuses=new Map}triggerCustomNumberOfEntities(f){this.customNumberOfEntitiesToGiveFeedbackTo.emit(f)}triggerNumberOfEntitiesSetting(f){this.numberOfEntitiesToGiveFeedbackToSetting.emit(f)}triggerCustomFeedbackPath(){this.customFeedbackPath.emit(!0)}toggleSubMenu(f){this.subMenuStatuses.set(f,!this.subMenuStatuses.get(f))}resetMenu(){this.subMenuStatuses.forEach((f,T)=>this.subMenuStatuses.set(T,!1))}isSubMenuOpen(f){let T=this.subMenuStatuses.get(f);return void 0===T&&(T=!1),T}changeGiverRecipientType(f,T){const y=this.allowedFeedbackPaths.get(f);let P=T;-1===y.indexOf(T)&&(P=y[0]),this.model.giverType===f&&this.model.recipientType===P?this.model.isUsingOtherFeedbackPath&&this.triggerModelChangeBatch.emit({isUsingOtherFeedbackPath:!1}):this.triggerModelChangeBatch.emit({giverType:f,recipientType:P,commonVisibilitySettingName:"Please select a visibility option",isUsingOtherFeedbackPath:!1,isUsingOtherVisibilitySetting:!1,showResponsesTo:[],showGiverNameTo:[],showRecipientNameTo:[]})}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["tm-feedback-path-panel"]],inputs:{model:"model",commonFeedbackPaths:"commonFeedbackPaths",allowedFeedbackPaths:"allowedFeedbackPaths"},outputs:{customFeedbackPath:"customFeedbackPath",customNumberOfEntitiesToGiveFeedbackTo:"customNumberOfEntitiesToGiveFeedbackTo",numberOfEntitiesToGiveFeedbackToSetting:"numberOfEntitiesToGiveFeedbackToSetting",triggerModelChangeBatch:"triggerModelChangeBatch"},decls:21,vars:8,consts:[[1,"background-color-light-green","margin-top-15px","padding-15px"],[1,"feedback-path-title"],["ngbDropdown","","autoClose","outside",1,"margin-top-15px","w-100"],["mainMenu","ngbDropdown"],["id","btn-feedback-path","ngbDropdownToggle","",1,"btn","btn-light","white-space-normal","mw-100","d-inline-block",3,"disabled","click"],["class","text-wrap",4,"ngIf"],[4,"ngIf"],["id","feedback-path-dropdown","ngbDropdownMenu",""],[1,"dropdown-header"],["ngbDropdown","",4,"ngFor","ngForOf"],[1,"dropdown-divider"],[1,"text-wrap","dropdown-item"],[1,"dropdown-button",3,"click"],["class","row margin-top-15px",4,"ngIf"],["class","row margin-top-15px align-items-center",4,"ngIf"],[1,"text-wrap"],[1,"fas","fa-arrow-right"],["ngbDropdown",""],["subMenu","ngbDropdown"],["class","text-wrap dropdown-item",4,"ngFor","ngForOf"],[1,"row","margin-top-15px"],[1,"col-sm-6","mb-2","mb-sm-0"],[1,"row"],[1,"col-12"],["id","giver-type",1,"form-control","form-select",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-sm-6"],["id","receiver-type",1,"form-control","form-select",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[1,"row","margin-top-15px","align-items-center"],[1,"offset-1","col-md-4","text-md-end"],[1,"col-md-2"],[1,"input-group"],[1,"input-group-text"],["id","custom-recipients","type","radio",3,"name","ngModel","value","disabled","ngModelChange"],["id","custom-recipients-number","type","number","min","1",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-check"],[1,"form-check-label"],["id","unlimited-recipients","type","radio",1,"form-check-input",3,"name","ngModel","value","disabled","ngModelChange"]],template:function(T,y){if(1&T){const P=e.RV6();e.j41(0,"div",0)(1,"div")(2,"b",1),e.EFF(3,"Feedback Path"),e.k0s(),e.EFF(4," (Who is giving feedback about whom?) "),e.k0s(),e.j41(5,"div",2,3)(7,"button",4),e.bIt("click",function(){return y.resetMenu()}),e.DNE(8,w,6,6,"span",5),e.DNE(9,g,2,0,"span",6),e.k0s(),e.j41(10,"ul",7)(11,"li",8),e.EFF(12,"Common feedback path combinations"),e.k0s(),e.DNE(13,Z,8,7,"li",9),e.nI1(14,"keyvalue"),e.nrm(15,"li",10),e.j41(16,"li",11)(17,"button",12),e.bIt("click",function(){e.eBV(P);const ie=e.sdS(6);return y.triggerCustomFeedbackPath(),e.Njj(ie.close())}),e.EFF(18,"Custom feedback path..."),e.k0s()()()(),e.DNE(19,U,20,8,"div",13),e.DNE(20,J,14,13,"div",14),e.k0s()}2&T&&(e.R7$(7),e.Y8G("disabled",!y.model.isEditable||1===y.commonFeedbackPaths.size),e.R7$(1),e.Y8G("ngIf",!y.model.isUsingOtherFeedbackPath),e.R7$(1),e.Y8G("ngIf",y.model.isUsingOtherFeedbackPath),e.R7$(4),e.Y8G("ngForOf",e.bMT(14,6,y.commonFeedbackPaths)),e.R7$(6),e.Y8G("ngIf",y.model.isUsingOtherFeedbackPath),e.R7$(1),e.Y8G("ngIf",y.model.recipientType===y.FeedbackParticipantType.STUDENTS||y.model.recipientType===y.FeedbackParticipantType.STUDENTS_EXCLUDING_SELF||y.model.recipientType===y.FeedbackParticipantType.STUDENTS_IN_SAME_SECTION||y.model.recipientType===y.FeedbackParticipantType.TEAMS||y.model.recipientType===y.FeedbackParticipantType.TEAMS_EXCLUDING_SELF||y.model.recipientType===y.FeedbackParticipantType.TEAMS_IN_SAME_SECTION||y.model.recipientType===y.FeedbackParticipantType.INSTRUCTORS))},dependencies:[b.Sq,b.bT,R.xH,R.y7,R.me,R.Q0,R.wz,R.Fm,R.BC,R.VZ,R.vS,x.tg,x.do,x.U0,b.lG,O,N,I],styles:[".background-color-light-green[_ngcontent-%COMP%]{background-color:#e0eeee}.margin-top-15px[_ngcontent-%COMP%]{margin-top:15px}.padding-15px[_ngcontent-%COMP%]{padding:15px}.feedback-path-title[_ngcontent-%COMP%]{color:#2aabd2}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}.dropdown-button[_ngcontent-%COMP%]{border:none;background:none;width:100%;text-align:left}"]})}return v})()},45069:(H,L,p)=>{p.d(L,{d:()=>O});var e=p(60177),C=p(89417),b=p(94227),R=p(44661),x=p(17705);let O=(()=>{class N{static#e=this.\u0275fac=function(g){return new(g||N)};static#t=this.\u0275mod=x.$C({type:N});static#i=this.\u0275inj=x.G2t({imports:[e.MD,C.YN,b.zH,R.x]})}return N})()},66718:(H,L,p)=>{p.d(L,{W:()=>K});var e=p(17705),C=p(60177),b=p(89417),R=p(94227),x=p(53992);function O(v,S){if(1&v&&(e.j41(0,"option",14),e.EFF(1),e.k0s()),2&v){const f=S.$implicit;e.Y8G("ngValue",f.email),e.R7$(1),e.Lme(" [",f.teamName,"] ",f.name," ")}}function N(v,S){1&v&&e.eu8(0)}const I=function(v,S,f){return{courseid:v,fsname:S,previewas:f}};function w(v,S){if(1&v&&(e.j41(0,"a",15),e.DNE(1,N,1,0,"ng-container",16),e.k0s()),2&v){const f=e.XpG(),T=e.sdS(12);e.Y8G("queryParams",e.sMw(3,I,f.courseId,f.feedbackSessionName,f.emailOfStudentToPreview))("ngbTooltip",0!==f.emailOfStudentToPreview.length?"View how this session would look like to a student who is submitting feedback.":"Preview is unavailable if the course has yet to have any student enrolled."),e.R7$(1),e.Y8G("ngTemplateOutlet",T)}}function g(v,S){if(1&v&&(e.j41(0,"button",17),e.EFF(1," Preview as Student "),e.k0s()),2&v){const f=e.XpG();e.Y8G("disabled",0===f.emailOfStudentToPreview.length||f.forDisplayOnly)}}function V(v,S){if(1&v&&(e.j41(0,"option",14),e.EFF(1),e.k0s()),2&v){const f=S.$implicit;e.Y8G("ngValue",f.email),e.R7$(1),e.SpI(" ",f.name," ")}}function z(v,S){1&v&&e.eu8(0)}function Z(v,S){if(1&v&&(e.j41(0,"a",18),e.DNE(1,z,1,0,"ng-container",16),e.k0s()),2&v){const f=e.XpG(),T=e.sdS(20);e.Y8G("queryParams",e.sMw(2,I,f.courseId,f.feedbackSessionName,f.emailOfInstructorToPreview)),e.R7$(1),e.Y8G("ngTemplateOutlet",T)}}function $(v,S){if(1&v&&(e.j41(0,"button",19),e.EFF(1," Preview as Instructor "),e.k0s()),2&v){const f=e.XpG();e.Y8G("disabled",0===f.emailOfInstructorToPreview.length||f.forDisplayOnly)}}const Q=function(v,S,f){return{"col-lg-2":v,"text-lg-end":S,"mb-lg-3":f}},U=function(v,S){return{"col-lg-5":v,"col-lg-6":S}},J=function(v){return{"preview-example-select":v}};let K=(()=>{class v{constructor(){this.courseId="",this.feedbackSessionName="",this.emailOfStudentToPreview="",this.studentsOfCourse=[],this.instructorsCanBePreviewedAs=[],this.emailOfInstructorToPreview="",this.forDisplayOnly=!1}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["tm-preview-session-panel"]],inputs:{courseId:"courseId",feedbackSessionName:"feedbackSessionName",emailOfStudentToPreview:"emailOfStudentToPreview",studentsOfCourse:"studentsOfCourse",instructorsCanBePreviewedAs:"instructorsCanBePreviewedAs",emailOfInstructorToPreview:"emailOfInstructorToPreview",forDisplayOnly:"forDisplayOnly"},decls:21,vars:27,consts:[[1,"card-body","background-color-light-blue","text-center"],[1,"row","align-items-center"],[1,"mb-3","mb-lg-0",3,"ngClass"],[1,"col-12","mb-3","mb-lg-0",3,"ngClass"],[1,"row","align-items-center","justify-content-center"],["id","preview-student","aria-label","Select student to preview as",1,"col-12","col-sm-8","col-lg-6","form-control","form-select","preview-select",3,"ngClass","ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"mt-1","mt-lg-0","col-sm-4","col-lg-6","w-max-content"],["tmRouterLink","/web/sessions/submission","target","_blank","rel","noopener noreferrer",3,"queryParams","ngbTooltip",4,"ngIf","ngIfElse"],["previewStudentBtn",""],[1,"col-12",3,"ngClass"],["id","preview-instructor","aria-label","Select instructor to preview as",1,"col-12","col-sm-8","col-lg-6","form-control","form-select","preview-select",3,"ngClass","ngModel","ngModelChange"],["tmRouterLink","/web/instructor/sessions/submission","target","_blank","rel","noopener noreferrer","ngbTooltip","View how this session would look like to an instructor who is submitting feedback. Only instructors with submit privileges are included in the list.",3,"queryParams",4,"ngIf","ngIfElse"],["previewInstructorBtn",""],[3,"ngValue"],["tmRouterLink","/web/sessions/submission","target","_blank","rel","noopener noreferrer",3,"queryParams","ngbTooltip"],[4,"ngTemplateOutlet"],["id","btn-preview-student",1,"btn","btn-primary",3,"disabled"],["tmRouterLink","/web/instructor/sessions/submission","target","_blank","rel","noopener noreferrer","ngbTooltip","View how this session would look like to an instructor who is submitting feedback. Only instructors with submit privileges are included in the list.",3,"queryParams"],["id","btn-preview-instructor",1,"btn","btn-primary",3,"disabled"]],template:function(T,y){if(1&T&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"b"),e.EFF(4,"Preview Session:"),e.k0s()(),e.j41(5,"div",3)(6,"div",4)(7,"select",5),e.bIt("ngModelChange",function(Y){return y.emailOfStudentToPreview=Y}),e.DNE(8,O,2,3,"option",6),e.k0s(),e.j41(9,"div",7),e.DNE(10,w,2,7,"a",8),e.k0s(),e.DNE(11,g,2,1,"ng-template",null,9,e.C5r),e.k0s()(),e.j41(13,"div",10)(14,"div",4)(15,"select",11),e.bIt("ngModelChange",function(Y){return y.emailOfInstructorToPreview=Y}),e.DNE(16,V,2,2,"option",6),e.k0s(),e.j41(17,"div",7),e.DNE(18,Z,2,6,"a",12),e.k0s(),e.DNE(19,$,2,1,"ng-template",null,13,e.C5r),e.k0s()()()()),2&T){const P=e.sdS(12),Y=e.sdS(20);e.R7$(2),e.Y8G("ngClass",e.sMw(13,Q,!y.forDisplayOnly,!y.forDisplayOnly,y.forDisplayOnly)),e.R7$(3),e.Y8G("ngClass",e.l_i(17,U,!y.forDisplayOnly,y.forDisplayOnly)),e.R7$(2),e.Y8G("ngClass",e.eq3(20,J,y.forDisplayOnly))("ngModel",y.emailOfStudentToPreview),e.R7$(1),e.Y8G("ngForOf",y.studentsOfCourse),e.R7$(2),e.Y8G("ngIf",0!==y.emailOfStudentToPreview.length)("ngIfElse",P),e.R7$(3),e.Y8G("ngClass",e.l_i(22,U,!y.forDisplayOnly,y.forDisplayOnly)),e.R7$(2),e.Y8G("ngClass",e.eq3(25,J,y.forDisplayOnly))("ngModel",y.emailOfInstructorToPreview),e.R7$(1),e.Y8G("ngForOf",y.instructorsCanBePreviewedAs),e.R7$(2),e.Y8G("ngIf",0!==y.emailOfInstructorToPreview.length)("ngIfElse",Y)}},dependencies:[C.YU,C.Sq,C.bT,C.T3,b.xH,b.y7,b.wz,b.BC,b.vS,R.md,x.y],styles:['.background-color-light-blue[_ngcontent-%COMP%]{background-color:"#EAEFF5"}.preview-select[_ngcontent-%COMP%], .preview-example-select[_ngcontent-%COMP%]{float:left;width:50%}@media screen and (width <= 1100px){.preview-example-select[_ngcontent-%COMP%]{width:45%}}@media screen and (width <= 576px){.preview-select[_ngcontent-%COMP%], .preview-example-select[_ngcontent-%COMP%]{width:100%}}.w-max-content[_ngcontent-%COMP%]{min-width:max-content}']})}return v})()},11889:(H,L,p)=>{p.d(L,{H:()=>O});var e=p(60177),C=p(89417),b=p(94227),R=p(48381),x=p(17705);let O=(()=>{class N{static#e=this.\u0275fac=function(g){return new(g||N)};static#t=this.\u0275mod=x.$C({type:N});static#i=this.\u0275inj=x.G2t({imports:[e.MD,C.YN,b.n8,R.d]})}return N})()},47400:(H,L,p)=>{p.d(L,{Q:()=>R});var e=p(17705),C=p(52916),b=p(89417);let R=(()=>{class x{constructor(){this.isBriefDisabled=!1,this.isDescriptionDisabled=!1,this.brief="",this.description="",this.briefChange=new e.bkB,this.descriptionChange=new e.bkB}triggerBriefChange(N){this.briefChange.emit(N)}triggerDescriptionChange(N){this.descriptionChange.emit(N)}static#e=this.\u0275fac=function(I){return new(I||x)};static#t=this.\u0275cmp=e.VBU({type:x,selectors:[["tm-question-edit-brief-description-form"]],inputs:{isBriefDisabled:"isBriefDisabled",isDescriptionDisabled:"isDescriptionDisabled",brief:"brief",description:"description"},outputs:{briefChange:"briefChange",descriptionChange:"descriptionChange"},decls:13,vars:7,consts:[[1,"background-color-light-blue"],[1,"row","padding-15px","text-start"],[1,"col-md-2"],[1,"question-basic-info"],[1,"col-md-10"],["id","question-brief",1,"form-control",3,"ngModel","disabled","placeholder","ngModelChange"],["role","text",1,"question-basic-info"],["minHeightInPx","100",3,"richText","hasCharacterLimit","isDisabled","placeholderText","richTextChange"]],template:function(I,w){1&I&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.EFF(4,"Question"),e.k0s()(),e.j41(5,"div",4)(6,"textarea",5),e.bIt("ngModelChange",function(V){return w.triggerBriefChange(V)}),e.k0s()()(),e.j41(7,"div",1)(8,"div",2)(9,"pre",6),e.EFF(10,"        [Optional]\n        Description\n      "),e.k0s()(),e.j41(11,"div",4)(12,"tm-rich-text-editor",7),e.bIt("richTextChange",function(V){return w.triggerDescriptionChange(V)}),e.k0s()()()()),2&I&&(e.R7$(6),e.Y8G("ngModel",w.brief)("disabled",w.isBriefDisabled)("placeholder",'A concise version of the question e.g. "How well did the team member communicate?"'),e.R7$(6),e.Y8G("richText",w.description)("hasCharacterLimit",!0)("isDisabled",w.isDescriptionDisabled)("placeholderText",'More details about the question e.g. "In answering the question, do consider communications made informally within the team, and formal communications with the instructors and tutors."'))},dependencies:[C.q,b.me,b.BC,b.vS],styles:[".background-color-light-blue[_ngcontent-%COMP%]{background-color:#eaeff5}.padding-15px[_ngcontent-%COMP%]{padding:15px}.question-basic-info[_ngcontent-%COMP%]{padding-left:15px;font-weight:700}pre[_ngcontent-%COMP%]{white-space:pre-line;font-size:inherit;font-family:inherit;margin-bottom:0}"]})}return x})()},65415:(H,L,p)=>{p.d(L,{z:()=>x});var e=p(60177),C=p(89417),b=p(99315),R=p(17705);let x=(()=>{class O{static#e=this.\u0275fac=function(w){return new(w||O)};static#t=this.\u0275mod=R.$C({type:O});static#i=this.\u0275inj=R.G2t({imports:[e.MD,b.b,C.YN]})}return O})()},58857:(H,L,p)=>{p.d(L,{_:()=>e});var e=function(C){return C[C.ADD=0]="ADD",C[C.EDIT=1]="EDIT",C}(e||{})},59990:(H,L,p)=>{p.d(L,{E:()=>Ze});var e=p(17705),C=p(58857),b=p(40035),R=p(40261),x=p(21894),O=p(44199),N=p(26412),I=p(6294),w=p(60177),g=p(89417),V=p(94227),z=p(57286),Z=p(47400);let $=(()=>{class u{set details(s){this.model=s}constructor(s){this.isEditable=!0,this.detailsChange=new e.bkB,this.model=s}triggerModelChange(s,l){this.detailsChange.emit({...this.model,[s]:l})}triggerModelChangeBatch(s){this.detailsChange.emit({...this.model,...s})}onIntegerInput(s){const{key:l}=s,o="Backspace"===l,d=/[0-9]/.test(l);!o&&!d&&s.preventDefault()}onFloatInput(s){const{key:l}=s,o="Backspace"===l,d="."===l,h=/[0-9]/.test(l);!o&&!h&&!d&&s.preventDefault()}onPaste(s){const{clipboardData:l}=s;if(null==l)return;const o=l.getData("text");/^\d+$/.test(o)||s.preventDefault()}restrictIntegerInputLength(s,l){const o=s.target;null!=o.value&&o.value.length>9&&(o.value=o.value.substring(0,9),this.triggerModelChange(l,parseInt(o.value,10)))}restrictFloatInputLength(s,l){const o=s.target;null!=o.value&&o.value.length>9&&(o.value=o.value.substring(0,9),this.triggerModelChange(l,parseFloat(o.value)))}static#e=this.\u0275fac=function(l){e.QTQ()};static#t=this.\u0275dir=e.FsC({type:u,inputs:{isEditable:"isEditable",details:"details"},outputs:{detailsChange:"detailsChange"}})}return u})();var Q=p(34146),U=p(15069),J=p(25552),K=p(53992);const v=function(u,k){return{questionId:u,section:k}},S=function(u){return{"text-muted":u}};let f=(()=>{class u extends ${constructor(){super((0,Q.T)()),this.QuestionsSectionQuestions=U.m,this.Sections=J.Z}triggerModelChangeForIsZeroSum(s){s?this.triggerModelChangeBatch({isZeroSum:s,isNotSureAllowed:!1}):this.triggerModelChange("isZeroSum",s)}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-contribution-question-edit-details-form"]],features:[e.Vt3],decls:18,vars:11,consts:[[1,"row"],[1,"col-12"],[1,"form-check","form-check-inline"],[1,"form-check-label"],["id","zero-sum-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["for","zero-sum-checkbox",1,"fw-bold"],["tmRouterLink","/web/instructor/help","rel","noopener noreferrer","target","_blank",1,"small",3,"queryParams"],["aria-hidden","true",1,"fa","fa-info-circle"],["id","not-sure-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["for","not-sure-checkbox","ngbTooltip","Not applicable if the zero-sum option is enabled",1,"ngb-tooltip-class","fw-bold",3,"ngClass"]],template:function(l,o){1&l&&(e.j41(0,"div",0),e.nrm(1,"br"),e.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"input",4),e.bIt("ngModelChange",function(h){return o.triggerModelChangeForIsZeroSum(h)}),e.k0s(),e.j41(6,"label",5),e.EFF(7,"Zero-sum i.e., ratings must add up to (Team Size) times (Equal Share)"),e.k0s(),e.EFF(8,"\xa0 "),e.j41(9,"a",6),e.nrm(10,"i",7),e.EFF(11," more info "),e.k0s()()()(),e.j41(12,"div",1)(13,"div",2)(14,"div",3)(15,"input",8),e.bIt("ngModelChange",function(h){return o.triggerModelChange("isNotSureAllowed",h)}),e.k0s(),e.j41(16,"label",9),e.EFF(17,"Allow response giver to select 'Not Sure' as the answer"),e.k0s()()()()()),2&l&&(e.R7$(5),e.Y8G("ngModel",o.model.isZeroSum)("disabled",!o.isEditable),e.R7$(4),e.Y8G("queryParams",e.l_i(6,v,o.QuestionsSectionQuestions.CONTRIBUTION,o.Sections.questions)),e.R7$(6),e.Y8G("ngModel",o.model.isNotSureAllowed)("disabled",o.model.isZeroSum||!o.isEditable),e.R7$(1),e.Y8G("ngClass",e.eq3(9,S,o.model.isZeroSum||!o.isEditable)))},dependencies:[w.YU,g.Zm,g.BC,g.vS,V.md,K.y]})}return u})();var T=p(86709),y=p(30715);function P(u,k){1&u&&(e.j41(0,"span",7),e.nrm(1,"input",8),e.k0s())}let Y=(()=>{class u{constructor(s){this.statusMessageService=s,this.isEditable=!1,this.numberOfMcqChoices=1,this.text="",this.index=0,this.isQuestionDropdownEnabled=!1,this.elementDeleted=new e.bkB,this.mcqText=new e.bkB}deleteMcqOption(){this.numberOfMcqChoices>2?this.elementDeleted.emit(this.index):this.statusMessageService.showErrorToast("There must be at least two Mcq options.")}onMcqOptionEntered(s){this.mcqText.emit(s)}static#e=this.\u0275fac=function(l){return new(l||u)(e.rXU(y.x))};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-mcq-field"]],inputs:{isEditable:"isEditable",numberOfMcqChoices:"numberOfMcqChoices",text:"text",index:"index",isQuestionDropdownEnabled:"isQuestionDropdownEnabled"},outputs:{elementDeleted:"elementDeleted",mcqText:"mcqText"},decls:8,vars:4,consts:[[1,"input-group"],["class","input-group-addon",4,"ngIf"],["type","text","aria-label","Option",1,"form-control",3,"disabled","ngModel","ngModelChange"],["mcq",""],[1,"input-group-btn"],["type","button","aria-label","Delete Option",1,"btn","btn-danger","input-group-addon",2,"cursor","initial",3,"disabled","click"],["aria-hidden","true"],[1,"input-group-addon"],["type","radio","disabled",""]],template:function(l,o){1&l&&(e.j41(0,"div",0),e.DNE(1,P,2,0,"span",1),e.j41(2,"input",2,3),e.bIt("ngModelChange",function(h){return o.onMcqOptionEntered(h.trim())}),e.k0s(),e.j41(4,"span",4)(5,"button",5),e.bIt("click",function(){return o.deleteMcqOption()}),e.j41(6,"span",6),e.EFF(7,"\xd7"),e.k0s()()()()),2&l&&(e.R7$(1),e.Y8G("ngIf",!o.isQuestionDropdownEnabled),e.R7$(1),e.Y8G("disabled",!o.isEditable)("ngModel",o.text),e.R7$(3),e.Y8G("disabled",!o.isEditable))},dependencies:[w.bT,g.me,g.BC,g.vS],styles:[".input-group-addon[_ngcontent-%COMP%]{resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}.rich-text-editor[_ngcontent-%COMP%]{flex:1 1 0%}"]})}return u})(),ie=(()=>{class u{constructor(){this.isEditable=!1,this.weight=1,this.weightEntered=new e.bkB}onWeightEntered(s){this.weightEntered.emit(s)}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-weight-field"]],inputs:{isEditable:"isEditable",weight:"weight"},outputs:{weightEntered:"weightEntered"},decls:1,vars:2,consts:[["type","number","step",".01","min","0","aria-label","Weight of Option",1,"form-control",3,"ngModel","disabled","ngModelChange"]],template:function(l,o){1&l&&(e.j41(0,"input",0),e.bIt("ngModelChange",function(h){return o.onWeightEntered(h)}),e.k0s()),2&l&&e.Y8G("ngModel",o.weight)("disabled",!o.isEditable)},dependencies:[g.me,g.Q0,g.BC,g.VZ,g.vS]})}return u})();var re=p(19379);function fe(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",14)(1,"label",15)(2,"input",16),e.bIt("ngModelChange",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerWeightsColumn(o))}),e.k0s(),e.EFF(3," Options are weighted "),e.k0s()()}if(2&u){const s=e.XpG();e.R7$(2),e.Y8G("ngModel",s.model.hasAssignedWeights)("disabled",!s.isEditable)}}function be(u,k){1&u&&(e.j41(0,"div",17),e.EFF(1," Weights \u2193 "),e.k0s())}function se(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",34)(1,"tm-weight-field",35),e.bIt("weightEntered",function(o){e.eBV(s);const d=e.XpG().index,h=e.XpG(2);return e.Njj(h.onMcqWeightEntered(o,d))}),e.k0s()()}if(2&u){const s=e.XpG().index,l=e.XpG(2);e.R7$(1),e.Y8G("isEditable",l.isEditable)("weight",l.model.mcqWeights[s])}}function D(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"span",30),e.EFF(3,"\u2195"),e.k0s()(),e.j41(4,"div",31)(5,"tm-mcq-field",32),e.bIt("elementDeleted",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.onMcqOptionDeleted(o))})("mcqText",function(o){const h=e.eBV(s).index,j=e.XpG(2);return e.Njj(j.onMcqOptionEntered(o,h))}),e.k0s()(),e.DNE(6,se,2,2,"div",33),e.k0s()}if(2&u){const s=k.index,l=e.XpG(2);e.R7$(5),e.Y8G("index",s)("isEditable",l.isEditable)("numberOfMcqChoices",l.model.mcqChoices.length)("text",l.model.mcqChoices[s])("isQuestionDropdownEnabled",l.model.questionDropdownEnabled),e.R7$(1),e.Y8G("ngIf",l.model.hasAssignedWeights)}}function q(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",36)(1,"input",37),e.bIt("ngModelChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("mcqOtherWeight",o))}),e.k0s()()}if(2&u){const s=e.XpG(2);e.R7$(1),e.Y8G("ngModel",s.model.mcqOtherWeight)("disabled",!s.isEditable)}}function F(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",0)(1,"div",18),e.bIt("cdkDropListDropped",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.onMcqOptionDropped(o))}),e.DNE(2,D,7,6,"div",19),e.nrm(3,"br"),e.k0s(),e.j41(4,"div",20)(5,"button",21),e.bIt("click",function(){e.eBV(s);const o=e.XpG();return e.Njj(o.increaseNumberOfOptions())}),e.nrm(6,"i",22),e.EFF(7," Add More Options "),e.k0s()(),e.j41(8,"div",23)(9,"div",24)(10,"label",25)(11,"input",26),e.bIt("ngModelChange",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerOtherEnabled(o))}),e.k0s(),e.EFF(12," Add 'Other' option (Allows respondents to type in their own answer) "),e.k0s()(),e.DNE(13,q,2,2,"div",27),e.k0s()()}if(2&u){const s=e.XpG();e.R7$(1),e.Y8G("cdkDropListDisabled",!s.isEditable),e.R7$(1),e.Y8G("ngForOf",s.model.mcqChoices)("ngForTrackBy",s.trackMcqOption),e.R7$(3),e.Y8G("disabled",!s.isEditable),e.R7$(6),e.Y8G("ngModel",s.model.otherEnabled)("disabled",!s.isEditable),e.R7$(2),e.Y8G("ngIf",s.model.hasAssignedWeights&&s.model.otherEnabled)}}function A(u,k){if(1&u&&(e.j41(0,"option",38),e.EFF(1),e.nI1(2,"generatedChoice"),e.k0s()),2&u){const s=k.$implicit;e.Y8G("value",s),e.R7$(1),e.JRh(e.bMT(2,2,s))}}let B=(()=>{class u extends ${constructor(){super((0,Q.YC)()),this.PARTICIPANT_TYPES=[b.tp.STUDENTS,b.tp.STUDENTS_EXCLUDING_SELF,b.tp.TEAMS,b.tp.TEAMS_EXCLUDING_SELF,b.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF,b.tp.OWN_TEAM_MEMBERS,b.tp.INSTRUCTORS],this.storageModel={...(0,Q.YC)(),mcqChoices:["",""]}}onMcqOptionDropped(s){if(!this.isEditable)return;const l=this.model.mcqWeights.slice(),o=this.model.mcqChoices.slice();(0,T.HD)(o,s.previousIndex,s.currentIndex),(0,T.HD)(l,s.previousIndex,s.currentIndex);const d={};d.mcqChoices=o,d.mcqWeights=l,this.triggerModelChangeBatch(d)}increaseNumberOfOptions(){const s={},l=this.model.mcqChoices.slice();if(l.push(""),s.mcqChoices=l,this.model.hasAssignedWeights){const o=this.model.mcqWeights.slice();o.push(0),s.mcqWeights=o}this.triggerModelChangeBatch(s)}onMcqOptionDeleted(s){const l={},o=this.model.mcqChoices.slice();if(o.splice(s,1),l.mcqChoices=o,this.model.hasAssignedWeights){const d=this.model.mcqWeights.slice();d.splice(s,1),l.mcqWeights=d}this.triggerModelChangeBatch(l)}onMcqOptionEntered(s,l){const o=this.model.mcqChoices.slice();o[l]=s,this.triggerModelChange("mcqChoices",o)}onMcqWeightEntered(s,l){const o=this.model.mcqWeights.slice();o[l]=s,this.triggerModelChange("mcqWeights",o)}trackMcqOption(s){return s.toString()}trackMcqWeight(s){return s.toString()}triggerWeightsColumn(s){this.triggerModelChangeBatch({mcqWeights:s?Array(this.model.mcqChoices.length).fill(0):[],mcqOtherWeight:0,hasAssignedWeights:s})}triggerOtherEnabled(s){this.triggerModelChangeBatch({otherEnabled:s,mcqOtherWeight:0})}triggerQuestionDropdownEnabled(s){this.triggerModelChangeBatch({questionDropdownEnabled:s})}triggerGeneratedOptionsChange(s){s?(this.storageModel=this.model,this.triggerModelChangeBatch({generateOptionsFor:b.tp.STUDENTS,mcqChoices:[],otherEnabled:!1,hasAssignedWeights:!1,mcqWeights:[],mcqOtherWeight:0})):this.triggerModelChangeBatch(this.storageModel)}get isGeneratedOptionsEnabled(){return this.model.generateOptionsFor!==b.tp.NONE}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-mcq-question-edit-details-form"]],features:[e.Vt3],decls:18,vars:10,consts:[[1,"row"],[1,"col-md-12"],[1,"form-check"],[1,"fw-bold"],["id","make-question-dropdown","type","checkbox","checked","model.questionDropdownEnabled",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],[1,"col-md-6"],["class","form-check form-check-inline",4,"ngIf"],["class","form-check float-end","aria-hidden","true",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-6","col-lg-5","col-lg-offset-1","form"],[1,"form-check-label","fw-bold"],["id","generate-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","generate-dropdown","aria-label","Generate Option List Dropdown",1,"form-control","form-select",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"form-check","form-check-inline"],["ngbTooltip","Assign weights to the choices for calculating statistics.","container","body",1,"form-check-label","ngb-tooltip-class","fw-bold"],["id","weights-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["aria-hidden","true",1,"form-check","float-end"],["id","options-section","cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["class","margin-top-22px d-flex","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mb-2"],["id","btn-add-option","name","button","ngDefaultControl","",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-plus"],[1,"mb-2","ps-5"],[1,"checkbox"],[1,"bold-label"],["id","other-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["class","col-md-3",4,"ngIf"],["cdkDrag","","cdkDragLockAxis","y",1,"margin-top-22px","d-flex"],["cdkDragHandle","","aria-hidden","true"],[1,"btn","input-group-addon"],[1,"flex-grow-1"],[3,"index","isEditable","numberOfMcqChoices","text","isQuestionDropdownEnabled","elementDeleted","mcqText"],["class","col-2",4,"ngIf"],[1,"col-2"],[3,"isEditable","weight","weightEntered"],[1,"col-md-3"],["id","other-weight","type","number","step","0.01","min","0","aria-label","Weight of Other Option",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"value"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3)(4,"input",4),e.bIt("ngModelChange",function(h){return o.triggerQuestionDropdownEnabled(h)}),e.k0s(),e.EFF(5," Show options as a drop-down "),e.k0s()()(),e.j41(6,"div",5)(7,"div",1),e.DNE(8,fe,4,2,"div",6),e.DNE(9,be,2,0,"div",7),e.k0s(),e.DNE(10,F,14,7,"div",8),e.k0s(),e.j41(11,"div",9)(12,"div",2)(13,"label",10)(14,"input",11),e.bIt("ngModelChange",function(h){return o.triggerGeneratedOptionsChange(h)}),e.k0s(),e.EFF(15," Or, generate options from the list of all "),e.k0s()(),e.j41(16,"select",12),e.bIt("ngModelChange",function(h){return o.triggerModelChange("generateOptionsFor",h)}),e.DNE(17,A,3,4,"option",13),e.k0s()()()),2&l&&(e.R7$(4),e.Y8G("ngModel",o.model.questionDropdownEnabled)("disabled",!o.isEditable),e.R7$(4),e.Y8G("ngIf",!o.isGeneratedOptionsEnabled),e.R7$(1),e.Y8G("ngIf",o.model.hasAssignedWeights&&!o.isGeneratedOptionsEnabled),e.R7$(1),e.Y8G("ngIf",!o.isGeneratedOptionsEnabled),e.R7$(4),e.Y8G("disabled",!o.isEditable)("ngModel",o.isGeneratedOptionsEnabled),e.R7$(2),e.Y8G("disabled",!o.isGeneratedOptionsEnabled||!o.isEditable)("ngModel",o.model.generateOptionsFor),e.R7$(1),e.Y8G("ngForOf",o.PARTICIPANT_TYPES))},dependencies:[w.Sq,w.bT,T.O7,T.T1,T.Fb,g.xH,g.y7,g.me,g.Q0,g.Zm,g.wz,g.BC,g.VZ,g.vS,V.md,Y,ie,re.B],styles:[".padding-left-35px[_ngcontent-%COMP%]{padding-left:35px}.input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}@media (width >= 576px){.padding-left-300px[_ngcontent-%COMP%]{padding-left:300px}}.margin-top-22px[_ngcontent-%COMP%]{margin-top:22px}.margin-left-2px[_ngcontent-%COMP%]{margin-left:2px}.ms-n1[_ngcontent-%COMP%]{margin-left:-1rem!important}",".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]})}return u})();var W=p(54283);let ae=(()=>{class u{constructor(s){this.statusMessageService=s,this.isEditable=!1,this.numberOfMsqChoices=1,this.text="",this.index=0,this.elementDeleted=new e.bkB,this.msqText=new e.bkB}deleteMsqOption(){this.numberOfMsqChoices>2?this.elementDeleted.emit(this.index):this.statusMessageService.showErrorToast("There must be at least two Msq options.")}onMsqOptionEntered(s){this.msqText.emit(s)}static#e=this.\u0275fac=function(l){return new(l||u)(e.rXU(y.x))};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-msq-field"]],inputs:{isEditable:"isEditable",numberOfMsqChoices:"numberOfMsqChoices",text:"text",index:"index"},outputs:{elementDeleted:"elementDeleted",msqText:"msqText"},decls:9,vars:3,consts:[[1,"input-group"],[1,"input-group-addon"],["type","checkbox","disabled",""],["type","text","aria-label","Option",1,"form-control",3,"disabled","ngModel","ngModelChange"],["msq",""],[1,"input-group-btn"],["type","button","aria-label","Delete Option",1,"btn","btn-danger","input-group-addon",2,"cursor","initial",3,"disabled","click"],["aria-hidden","true"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"span",1),e.nrm(2,"input",2),e.k0s(),e.j41(3,"input",3,4),e.bIt("ngModelChange",function(h){return o.onMsqOptionEntered(h.trim())}),e.k0s(),e.j41(5,"span",5)(6,"button",6),e.bIt("click",function(){return o.deleteMsqOption()}),e.j41(7,"span",7),e.EFF(8,"\xd7"),e.k0s()()()()),2&l&&(e.R7$(3),e.Y8G("disabled",!o.isEditable)("ngModel",o.text),e.R7$(3),e.Y8G("disabled",!o.isEditable))},dependencies:[g.me,g.BC,g.vS],styles:[".input-group-addon[_ngcontent-%COMP%]{resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}"]})}return u})();function le(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",16)(1,"label",17)(2,"input",18),e.bIt("ngModelChange",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerWeightsColumn(o))}),e.k0s(),e.EFF(3," Options are weighted "),e.k0s()()}if(2&u){const s=e.XpG();e.R7$(2),e.Y8G("ngModel",s.model.hasAssignedWeights)("disabled",!s.isEditable)}}function Ce(u,k){1&u&&(e.j41(0,"div",19),e.EFF(1,"Weights\u2193 "),e.k0s())}function De(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",36)(1,"tm-weight-field",37),e.bIt("weightEntered",function(o){e.eBV(s);const d=e.XpG().index,h=e.XpG(2);return e.Njj(h.onMsqWeightEntered(o,d))}),e.k0s()()}if(2&u){const s=e.XpG().index,l=e.XpG(2);e.R7$(1),e.Y8G("isEditable",l.isEditable)("weight",l.model.msqWeights[s])}}function Se(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",30)(1,"div",31)(2,"span",32),e.EFF(3,"\u2195 "),e.k0s()(),e.j41(4,"div",33)(5,"tm-msq-field",34),e.bIt("elementDeleted",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.onMsqOptionDeleted(o))})("msqText",function(o){const h=e.eBV(s).index,j=e.XpG(2);return e.Njj(j.onMsqOptionEntered(o,h))}),e.k0s()(),e.DNE(6,De,2,2,"div",35),e.k0s()}if(2&u){const s=k.index,l=e.XpG(2);e.R7$(5),e.Y8G("index",s)("isEditable",l.isEditable)("numberOfMsqChoices",l.model.msqChoices.length)("text",l.model.msqChoices[s]),e.R7$(1),e.Y8G("ngIf",l.model.hasAssignedWeights)}}function Re(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",38)(1,"input",39),e.bIt("ngModelChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("msqOtherWeight",o))}),e.k0s()()}if(2&u){const s=e.XpG(2);e.R7$(1),e.Y8G("ngModel",s.model.msqOtherWeight)("disabled",!s.isEditable)}}function ve(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",0)(1,"div",20),e.bIt("cdkDropListDropped",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.onMsqOptionDropped(o))}),e.DNE(2,Se,7,5,"div",21),e.nrm(3,"br"),e.k0s(),e.j41(4,"div",22)(5,"button",23),e.bIt("click",function(){e.eBV(s);const o=e.XpG();return e.Njj(o.increaseNumberOfMsqOptions())}),e.nrm(6,"i",24),e.EFF(7," Add More Options "),e.k0s()(),e.j41(8,"div",25)(9,"div",26)(10,"label",27)(11,"input",28),e.bIt("ngModelChange",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerOtherEnabled(o))}),e.k0s(),e.EFF(12," Add 'Other' option (Allows respondents to type in their own answer) "),e.k0s()(),e.DNE(13,Re,2,2,"div",29),e.k0s()()}if(2&u){const s=e.XpG();e.R7$(1),e.Y8G("cdkDropListDisabled",!s.isEditable),e.R7$(1),e.Y8G("ngForOf",s.model.msqChoices)("ngForTrackBy",s.trackMsqOption),e.R7$(3),e.Y8G("disabled",!s.isEditable),e.R7$(6),e.Y8G("ngModel",s.model.otherEnabled)("disabled",!s.isEditable),e.R7$(2),e.Y8G("ngIf",s.model.hasAssignedWeights&&s.model.otherEnabled)}}function Fe(u,k){if(1&u&&(e.j41(0,"option",40),e.EFF(1),e.nI1(2,"generatedChoice"),e.k0s()),2&u){const s=k.$implicit;e.Y8G("value",s),e.R7$(1),e.JRh(e.bMT(2,2,s))}}let ht=(()=>{class u extends ${constructor(){super((0,Q.Cv)()),this.PARTICIPANT_TYPES=[b.tp.STUDENTS,b.tp.STUDENTS_EXCLUDING_SELF,b.tp.TEAMS,b.tp.TEAMS_EXCLUDING_SELF,b.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF,b.tp.OWN_TEAM_MEMBERS,b.tp.INSTRUCTORS],this.storageModel={...(0,Q.Cv)(),msqChoices:["",""],minSelectableChoices:W.GY,maxSelectableChoices:W.GY}}onMsqOptionDropped(s){if(!this.isEditable)return;const l=this.model.msqWeights.slice(),o=this.model.msqChoices.slice();(0,T.HD)(o,s.previousIndex,s.currentIndex),(0,T.HD)(l,s.previousIndex,s.currentIndex),this.triggerModelChangeBatch({msqChoices:o,msqWeights:l})}onMsqWeightEntered(s,l){const o=this.model.msqWeights.slice();o[l]=s,this.triggerModelChange("msqWeights",o)}increaseNumberOfMsqOptions(){const s={},l=this.model.msqChoices.slice();if(l.push(""),s.msqChoices=l,this.model.hasAssignedWeights){const o=this.model.msqWeights.slice();o.push(0),s.msqWeights=o}this.triggerModelChangeBatch(s)}onMsqOptionDeleted(s){const l={},o=this.model.msqChoices.slice();if(o.splice(s,1),l.msqChoices=o,this.model.hasAssignedWeights){const h=this.model.msqWeights.slice();h.splice(s,1),l.msqWeights=h}const d=o.length+(this.model.otherEnabled?1:0);this.isMinSelectableChoicesEnabled&&this.model.minSelectableChoices>d&&(l.minSelectableChoices=d),this.isMaxSelectableChoicesEnabled&&this.model.maxSelectableChoices>d&&(l.maxSelectableChoices=d),this.triggerModelChangeBatch(l)}get displayValueForMaxSelectableOption(){return this.isMaxSelectableChoicesEnabled?this.model.maxSelectableChoices:""}get displayValueForMinSelectableOption(){return this.isMinSelectableChoicesEnabled?this.model.minSelectableChoices:""}onMsqOptionEntered(s,l){const o=this.model.msqChoices.slice();o[l]=s,this.triggerModelChange("msqChoices",o)}triggerOtherEnabled(s){const l={otherEnabled:s,msqOtherWeight:0},o=this.model.msqChoices.length+(s?1:0);this.isMinSelectableChoicesEnabled&&this.model.minSelectableChoices>o&&(l.minSelectableChoices=o),this.isMaxSelectableChoicesEnabled&&this.model.maxSelectableChoices>o&&(l.maxSelectableChoices=o),this.triggerModelChangeBatch(l)}triggerGeneratedOptionsChange(s){if(s)this.storageModel=this.model,this.triggerModelChangeBatch({generateOptionsFor:b.tp.STUDENTS,msqChoices:[],otherEnabled:!1,hasAssignedWeights:!1,msqWeights:[],msqOtherWeight:0});else{const{maxSelectableChoices:l,minSelectableChoices:o,...d}=this.storageModel;this.triggerModelChangeBatch(d)}}triggerMaxSelectableOptionsChange(s){this.triggerModelChange("maxSelectableChoices",s?this.isMinSelectableChoicesEnabled?this.model.minSelectableChoices:2:W.GY)}triggerMinSelectableOptionsChange(s){this.triggerModelChange("minSelectableChoices",s?2:W.GY)}trackMsqOption(s){return s.toString()}trackMsqWeight(s){return s.toString()}get isGeneratedOptionsEnabled(){return this.model.generateOptionsFor!==b.tp.NONE}get isMaxSelectableChoicesEnabled(){return this.model.maxSelectableChoices!==W.GY}get isMinSelectableChoicesEnabled(){return this.model.minSelectableChoices!==W.GY}get maxMinSelectableValue(){return this.isMaxSelectableChoicesEnabled?this.model.maxSelectableChoices:this.totalSelectableChoices}get totalSelectableChoices(){return this.isGeneratedOptionsEnabled?Number.MAX_VALUE:this.model.msqChoices.length+(this.model.otherEnabled?1:0)}triggerWeightsColumn(s){this.triggerModelChangeBatch({msqWeights:s?Array(this.model.msqChoices.length).fill(0):[],msqOtherWeight:0,hasAssignedWeights:s})}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-msq-question-edit-details-form"]],features:[e.Vt3],decls:25,vars:19,consts:[[1,"row"],[1,"col-md-6"],[1,"col-md-12"],["class","form-check form-check-inline",4,"ngIf"],["class","form-check float-end","aria-hidden","true",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-md-6","col-lg-5","col-lg-offset-1","form"],[1,"form-check"],[1,"form-check-label","fw-bold"],["id","generate-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","generate-dropdown","aria-label","Generate Option List Dropdown",1,"form-control","form-select",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","max-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","max-options","type","number","aria-label","Max Number of Options",1,"form-control",3,"disabled","ngModel","min","max","ngModelChange"],["id","min-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","min-options","type","number","min","1","aria-label","Max Number of Options",1,"form-control",3,"disabled","ngModel","max","ngModelChange"],[1,"form-check","form-check-inline"],["ngbTooltip","Assign weights to the choices for calculating statistics.","container","body",1,"form-check-label","ngb-tooltip-class","fw-bold"],["id","weights-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["aria-hidden","true",1,"form-check","float-end"],["id","options-section","cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["class","margin-top-22px d-flex","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mb-2"],["id","btn-add-option","name","button","ngDefaultControl","",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-plus"],[1,"mb-2","ps-5"],[1,"checkbox"],[1,"bold-label"],["id","other-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["class","col-md-3",4,"ngIf"],["cdkDrag","","cdkDragLockAxis","y",1,"margin-top-22px","d-flex"],["cdkDragHandle","","aria-hidden","true"],[1,"btn","input-group-addon"],[1,"flex-grow-1"],[3,"index","isEditable","numberOfMsqChoices","text","elementDeleted","msqText"],["class","col-2",4,"ngIf"],[1,"col-2"],[3,"isEditable","weight","weightEntered"],[1,"col-md-3"],["id","other-weight","type","number","step","0.01","min","0","aria-label","Weight of Other Option",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"value"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,le,4,2,"div",3),e.DNE(4,Ce,2,0,"div",4),e.k0s(),e.DNE(5,ve,14,7,"div",5),e.k0s(),e.j41(6,"div",6)(7,"div",7)(8,"label",8)(9,"input",9),e.bIt("ngModelChange",function(h){return o.triggerGeneratedOptionsChange(h)}),e.k0s(),e.EFF(10," Or, generate options from the list of all "),e.k0s()(),e.j41(11,"select",10),e.bIt("ngModelChange",function(h){return o.triggerModelChange("generateOptionsFor",h)}),e.DNE(12,Fe,3,4,"option",11),e.k0s(),e.nrm(13,"br"),e.j41(14,"div",7)(15,"label",8)(16,"input",12),e.bIt("ngModelChange",function(h){return o.triggerMaxSelectableOptionsChange(h)}),e.k0s(),e.EFF(17," Maximum number of options a respondent is allowed to select "),e.k0s()(),e.j41(18,"input",13),e.bIt("ngModelChange",function(h){return o.triggerModelChange("maxSelectableChoices",h)}),e.k0s(),e.nrm(19,"br"),e.j41(20,"div",7)(21,"label",8)(22,"input",14),e.bIt("ngModelChange",function(h){return o.triggerMinSelectableOptionsChange(h)}),e.k0s(),e.EFF(23," Minimum number of options a respondent is allowed to select "),e.k0s()(),e.j41(24,"input",15),e.bIt("ngModelChange",function(h){return o.triggerModelChange("minSelectableChoices",h)}),e.k0s()()()),2&l&&(e.R7$(3),e.Y8G("ngIf",!o.isGeneratedOptionsEnabled),e.R7$(1),e.Y8G("ngIf",o.model.hasAssignedWeights&&!o.isGeneratedOptionsEnabled),e.R7$(1),e.Y8G("ngIf",!o.isGeneratedOptionsEnabled),e.R7$(4),e.Y8G("disabled",!o.isEditable)("ngModel",o.isGeneratedOptionsEnabled),e.R7$(2),e.Y8G("disabled",!o.isGeneratedOptionsEnabled||!o.isEditable)("ngModel",o.model.generateOptionsFor),e.R7$(1),e.Y8G("ngForOf",o.PARTICIPANT_TYPES),e.R7$(4),e.Y8G("disabled",!o.isEditable)("ngModel",o.isMaxSelectableChoicesEnabled),e.R7$(2),e.Y8G("disabled",!o.isMaxSelectableChoicesEnabled||!o.isEditable)("ngModel",o.displayValueForMaxSelectableOption)("min",o.isMinSelectableChoicesEnabled?o.model.minSelectableChoices:2)("max",o.totalSelectableChoices),e.R7$(4),e.Y8G("disabled",!o.isEditable)("ngModel",o.isMinSelectableChoicesEnabled),e.R7$(2),e.Y8G("disabled",!o.isMinSelectableChoicesEnabled||!o.isEditable)("ngModel",o.displayValueForMinSelectableOption)("max",o.maxMinSelectableValue))},dependencies:[w.Sq,w.bT,T.O7,T.T1,T.Fb,g.xH,g.y7,g.me,g.Q0,g.Zm,g.wz,g.BC,g.VZ,g.zX,g.vS,V.md,ae,ie,re.B],styles:[".padding-left-35px[_ngcontent-%COMP%]{padding-left:35px}.input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}@media (width >= 576px){.padding-left-300px[_ngcontent-%COMP%]{padding-left:300px}}.margin-top-22px[_ngcontent-%COMP%]{margin-top:22px}",".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]})}return u})();function oe(u,k){if(1&u&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&u){const s=e.XpG();e.R7$(1),e.SpI(" Based on the above settings, acceptable responses are: ",s.possibleValues,"\n")}}function we(u,k){1&u&&(e.j41(0,"div",10),e.EFF(1," The step size must be a positive number!\n"),e.k0s())}let mt=(()=>{class u extends ${constructor(){super((0,Q.r0)()),this.Math=Math}get numberOfPossibleValues(){return Math.floor(parseFloat(((this.model.maxScale-this.model.minScale)/this.model.step+1).toFixed(3)))}get possibleValues(){if(this.numberOfPossibleValues>6){const o=this.model.minScale+(this.numberOfPossibleValues-1)*this.model.step;return`[${this.model.minScale},\n           ${+(this.model.minScale+this.model.step).toFixed(3)},\n           ${+(this.model.minScale+2*this.model.step).toFixed(3)}, ...,\n           ${+(o-2*this.model.step).toFixed(3)},\n           ${+(o-this.model.step).toFixed(3)},\n           ${+o.toFixed(3)}]`}let s=`${this.model.minScale}`,l=this.model.minScale+this.model.step;for(;this.model.maxScale-l>=-1e-9;)s+=", "+ +l.toFixed(3),l+=this.model.step;return`[${s}]`}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-num-scale-question-edit-details-form"]],features:[e.Vt3],decls:16,vars:8,consts:[[1,"row"],[1,"col-sm-4"],["ngbTooltip","Minimum acceptable response value",1,"ngb-tooltip-class"],["id","min-value","type","number","min","1","max","999999999","aria-label","Minimum Value Input",1,"form-control",3,"ngModel","disabled","keypress","paste","input","ngModelChange"],["ngbTooltip","Value to be increased/decreased each step",1,"ngb-tooltip-class"],["id","increment-value","type","number","step","any","min","0","max","999999999","aria-label","Increment Value Input",1,"form-control",3,"ngModel","disabled","keypress","ngModelChange","input"],["ngbTooltip","Maximum acceptable response value",1,"ngb-tooltip-class"],["id","max-value","type","number","min","1","max","999999999","aria-label","Maximum Value Input",1,"form-control",3,"ngModel","disabled","keypress","paste","input","ngModelChange"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"span",2),e.EFF(3,"Minimum value:"),e.k0s(),e.j41(4,"input",3),e.bIt("keypress",function(h){return o.onIntegerInput(h)})("paste",function(h){return o.onPaste(h)})("input",function(h){return o.restrictIntegerInputLength(h,"minScale")})("ngModelChange",function(h){return o.triggerModelChange("minScale",h)}),e.k0s()(),e.j41(5,"div",1)(6,"span",4),e.EFF(7,"Increment:"),e.k0s(),e.j41(8,"input",5),e.bIt("keypress",function(h){return o.onFloatInput(h)})("ngModelChange",function(h){return o.triggerModelChange("step",h)})("input",function(h){return o.restrictFloatInputLength(h,"step")}),e.k0s()(),e.j41(9,"div",1)(10,"span",6),e.EFF(11,"Maximum value:"),e.k0s(),e.j41(12,"input",7),e.bIt("keypress",function(h){return o.onIntegerInput(h)})("paste",function(h){return o.onPaste(h)})("input",function(h){return o.restrictIntegerInputLength(h,"maxScale")})("ngModelChange",function(h){return o.triggerModelChange("maxScale",h)}),e.k0s()()(),e.nrm(13,"br"),e.DNE(14,oe,2,1,"div",8),e.DNE(15,we,2,0,"div",9)),2&l&&(e.R7$(4),e.Y8G("ngModel",o.model.minScale)("disabled",!o.isEditable),e.R7$(4),e.Y8G("ngModel",o.model.step)("disabled",!o.isEditable),e.R7$(4),e.Y8G("ngModel",o.model.maxScale)("disabled",!o.isEditable),e.R7$(2),e.Y8G("ngIf",o.model.step>0),e.R7$(1),e.Y8G("ngIf",o.model.step<=0))},dependencies:[w.bT,g.me,g.Q0,g.BC,g.VZ,g.zX,g.vS,V.md]})}return u})(),ce=(()=>{class u{constructor(s){this.statusMessageService=s,this.isEditable=!1,this.numberOfRankChoices=1,this.text="",this.index=0,this.elementDeleted=new e.bkB,this.rankOptionText=new e.bkB}onRankOptionEntered(s){this.rankOptionText.emit(s)}deleteRankOption(){this.numberOfRankChoices>2?this.elementDeleted.emit(this.index):this.statusMessageService.showErrorToast("There must be at least two Rank options.")}static#e=this.\u0275fac=function(l){return new(l||u)(e.rXU(y.x))};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-rank-options-field"]],inputs:{isEditable:"isEditable",numberOfRankChoices:"numberOfRankChoices",text:"text",index:"index"},outputs:{elementDeleted:"elementDeleted",rankOptionText:"rankOptionText"},decls:6,vars:3,consts:[[1,"input-group"],["type","text","aria-label","Option",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"input-group-btn"],["type","button","aria-label","Delete Option",1,"btn","btn-danger","input-group-addon",2,"cursor","initial",3,"disabled","click"],["aria-hidden","true"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"input",1),e.bIt("ngModelChange",function(h){return o.onRankOptionEntered(h.trim())}),e.k0s(),e.j41(2,"span",2)(3,"button",3),e.bIt("click",function(){return o.deleteRankOption()}),e.j41(4,"span",4),e.EFF(5,"\xd7"),e.k0s()()()()),2&l&&(e.R7$(1),e.Y8G("disabled",!o.isEditable)("ngModel",o.text),e.R7$(2),e.Y8G("disabled",!o.isEditable))},dependencies:[g.me,g.BC,g.vS],styles:[".input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}"]})}return u})();function Ve(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"span",19),e.EFF(3,"\u2195 "),e.k0s()(),e.j41(4,"div",20)(5,"tm-rank-options-field",21),e.bIt("elementDeleted",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.onRankOptionDeleted(o))})("rankOptionText",function(o){const h=e.eBV(s).index,j=e.XpG();return e.Njj(j.onRankOptionEntered(o,h))}),e.k0s()()()}if(2&u){const s=k.index,l=e.XpG();e.R7$(5),e.Y8G("isEditable",l.isEditable)("index",s)("numberOfRankChoices",l.model.options.length)("text",l.model.options[s])}}let de=(()=>{class u extends ${constructor(){super((0,Q.EN)())}increaseNumberOfRankOptions(){const s=this.model.options.slice();s.push(""),this.triggerModelChange("options",s)}onRankOptionDropped(s){if(!this.isEditable)return;const l=this.model.options.slice();(0,T.HD)(l,s.previousIndex,s.currentIndex),this.triggerModelChange("options",l)}trackRankOption(s){return s.toString()}onRankOptionDeleted(s){const l=this.model.options.slice();l.splice(s,1),this.triggerModelChangeBatch({options:l,minOptionsToBeRanked:this.model.minOptionsToBeRanked>l.length?l.length:this.model.minOptionsToBeRanked,maxOptionsToBeRanked:this.model.maxOptionsToBeRanked>l.length?l.length:this.model.maxOptionsToBeRanked})}onRankOptionEntered(s,l){const o=this.model.options.slice();o[l]=s,this.triggerModelChange("options",o)}triggerMinOptionsToBeRankedChange(s){this.triggerModelChange("minOptionsToBeRanked",s?1:W.GY)}triggerMaxOptionsToBeRankedChange(s){this.triggerModelChange("maxOptionsToBeRanked",s?this.isMinOptionsToBeRankedEnabled?this.model.minOptionsToBeRanked:1:W.GY)}get isMinOptionsToBeRankedEnabled(){return this.model.minOptionsToBeRanked!==W.GY}get isMaxOptionsToBeRankedEnabled(){return this.model.maxOptionsToBeRanked!==W.GY}get displayValueForMinOptionsToBeRanked(){return this.isMinOptionsToBeRankedEnabled?this.model.minOptionsToBeRanked:""}get displayValueForMaxOptionsToBeRanked(){return this.isMaxOptionsToBeRankedEnabled?this.model.maxOptionsToBeRanked:""}get maxMinOptionsValue(){return this.isMaxOptionsToBeRankedEnabled?this.model.maxOptionsToBeRanked:this.model.options.length}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-rank-options-question-edit-details-form"]],features:[e.Vt3],decls:25,vars:17,consts:[[1,"row"],[1,"col-md-6"],["id","options-section","cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["class","mb-3 d-flex","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mb-2"],["id","btn-add-option","name","button","ngDefaultControl","",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-plus"],[1,"col-md-6","col-lg-5","col-lg-offset-1","form"],[1,"form-check"],[1,"form-check-label","fw-bold"],["id","duplicate-rank-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","rank-options-question-min-options-label",1,"form-check-label","fw-bold"],["id","min-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","min-options","type","number","aria-labelledby","rank-options-question-min-options-label","min","1",1,"form-control",3,"disabled","ngModel","max","ngModelChange"],["id","rank-options-question-max-options-label",1,"form-check-label","fw-bold"],["id","max-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","max-options","type","number","aria-labelledby","rank-options-question-max-options-label",1,"form-control",3,"disabled","ngModel","min","max","ngModelChange"],["cdkDrag","","cdkDragLockAxis","y",1,"mb-3","d-flex"],["cdkDragHandle","","aria-hidden","true"],[1,"btn","input-group-addon"],[1,"flex-grow-1"],[3,"isEditable","index","numberOfRankChoices","text","elementDeleted","rankOptionText"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2),e.bIt("cdkDropListDropped",function(h){return o.onRankOptionDropped(h)}),e.DNE(4,Ve,6,4,"div",3),e.k0s()(),e.j41(5,"div",4)(6,"button",5),e.bIt("click",function(){return o.increaseNumberOfRankOptions()}),e.nrm(7,"i",6),e.EFF(8," Add More Options "),e.k0s()()(),e.j41(9,"div",7)(10,"div",8)(11,"label",9)(12,"input",10),e.bIt("ngModelChange",function(h){return o.triggerModelChange("areDuplicatesAllowed",h)}),e.k0s(),e.EFF(13," Allow response giver to give the same rank to multiple options "),e.k0s()(),e.j41(14,"div",8)(15,"label",11)(16,"input",12),e.bIt("ngModelChange",function(h){return o.triggerMinOptionsToBeRankedChange(h)}),e.k0s(),e.EFF(17," Minimum number of options a respondent must rank "),e.k0s()(),e.j41(18,"input",13),e.bIt("ngModelChange",function(h){return o.triggerModelChange("minOptionsToBeRanked",h)}),e.k0s(),e.nrm(19,"br"),e.j41(20,"div",8)(21,"label",14)(22,"input",15),e.bIt("ngModelChange",function(h){return o.triggerMaxOptionsToBeRankedChange(h)}),e.k0s(),e.EFF(23," Maximum number of options a respondent can rank "),e.k0s()(),e.j41(24,"input",16),e.bIt("ngModelChange",function(h){return o.triggerModelChange("maxOptionsToBeRanked",h)}),e.k0s()()()),2&l&&(e.R7$(3),e.Y8G("cdkDropListDisabled",!o.isEditable),e.R7$(1),e.Y8G("ngForOf",o.model.options)("ngForTrackBy",o.trackRankOption),e.R7$(2),e.Y8G("disabled",!o.isEditable),e.R7$(6),e.Y8G("ngModel",o.model.areDuplicatesAllowed)("disabled",!o.isEditable),e.R7$(4),e.Y8G("disabled",!o.isEditable)("ngModel",o.isMinOptionsToBeRankedEnabled),e.R7$(2),e.FS9("max",o.maxMinOptionsValue),e.Y8G("disabled",!o.isMinOptionsToBeRankedEnabled||!o.isEditable)("ngModel",o.displayValueForMinOptionsToBeRanked),e.R7$(4),e.Y8G("disabled",!o.isEditable)("ngModel",o.isMaxOptionsToBeRankedEnabled),e.R7$(2),e.FS9("max",o.model.options.length),e.Y8G("disabled",!o.isMaxOptionsToBeRankedEnabled||!o.isEditable)("ngModel",o.displayValueForMaxOptionsToBeRanked)("min",o.isMinOptionsToBeRankedEnabled?o.model.minOptionsToBeRanked:1))},dependencies:[w.Sq,T.O7,T.T1,T.Fb,g.me,g.Q0,g.Zm,g.BC,g.VZ,g.zX,g.vS,ce],styles:[".input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}",".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]})}return u})(),me=(()=>{class u extends ${constructor(){super((0,Q.SL)())}triggerMinOptionsToBeRankedChange(s){this.triggerModelChange("minOptionsToBeRanked",s?1:W.GY)}triggerMaxOptionsToBeRankedChange(s){this.triggerModelChange("maxOptionsToBeRanked",s?this.isMinOptionsToBeRankedEnabled?this.model.minOptionsToBeRanked:1:W.GY)}get isMinOptionsToBeRankedEnabled(){return this.model.minOptionsToBeRanked!==W.GY}get isMaxOptionsToBeRankedEnabled(){return this.model.maxOptionsToBeRanked!==W.GY}get displayValueForMinOptionsToBeRanked(){return this.isMinOptionsToBeRankedEnabled?this.model.minOptionsToBeRanked:""}get displayValueForMaxOptionsToBeRanked(){return this.isMaxOptionsToBeRankedEnabled?this.model.maxOptionsToBeRanked:""}get maxMinOptionsValue(){return this.isMaxOptionsToBeRankedEnabled?this.model.maxOptionsToBeRanked:Number.MAX_VALUE}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-rank-recipients-question-edit-details-form"]],features:[e.Vt3],decls:16,vars:12,consts:[[1,"row"],[1,"col-sm-8","col-12","form-check","ps-5"],[1,"form-check-label","fw-bold"],["id","duplicate-rank-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","rank-recipients-question-min-options-label",1,"form-check-label","fw-bold"],["id","min-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","min-options","type","number","aria-labelledby","rank-recipients-question-min-options-label","min","1",1,"form-control",3,"disabled","ngModel","max","ngModelChange"],["id","rank-recipients-question-max-options-label",1,"form-check-label","fw-bold"],["id","max-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","max-options","type","number","aria-labelledby","rank-recipients-question-max-options-label",1,"form-control",3,"disabled","ngModel","min","ngModelChange"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"label",2)(3,"input",3),e.bIt("ngModelChange",function(h){return o.triggerModelChange("areDuplicatesAllowed",h)}),e.k0s(),e.EFF(4," Allow response giver to give the same rank to multiple options "),e.k0s(),e.nrm(5,"br")(6,"br"),e.j41(7,"label",4)(8,"input",5),e.bIt("ngModelChange",function(h){return o.triggerMinOptionsToBeRankedChange(h)}),e.k0s(),e.EFF(9," Minimum number of options a respondent must rank "),e.k0s(),e.j41(10,"input",6),e.bIt("ngModelChange",function(h){return o.triggerModelChange("minOptionsToBeRanked",h)}),e.k0s(),e.nrm(11,"br"),e.j41(12,"label",7)(13,"input",8),e.bIt("ngModelChange",function(h){return o.triggerMaxOptionsToBeRankedChange(h)}),e.k0s(),e.EFF(14," Maximum number of options a respondent can rank "),e.k0s(),e.j41(15,"input",9),e.bIt("ngModelChange",function(h){return o.triggerModelChange("maxOptionsToBeRanked",h)}),e.k0s()()()),2&l&&(e.R7$(3),e.Y8G("ngModel",o.model.areDuplicatesAllowed)("disabled",!o.isEditable),e.R7$(5),e.Y8G("disabled",!o.isEditable)("ngModel",o.isMinOptionsToBeRankedEnabled),e.R7$(2),e.FS9("max",o.maxMinOptionsValue),e.Y8G("disabled",!o.isMinOptionsToBeRankedEnabled||!o.isEditable)("ngModel",o.displayValueForMinOptionsToBeRanked),e.R7$(3),e.Y8G("disabled",!o.isEditable)("ngModel",o.isMaxOptionsToBeRankedEnabled),e.R7$(2),e.Y8G("disabled",!o.isMaxOptionsToBeRankedEnabled||!o.isEditable)("ngModel",o.displayValueForMaxOptionsToBeRanked)("min",o.isMinOptionsToBeRankedEnabled?o.model.minOptionsToBeRanked:1))},dependencies:[g.me,g.Q0,g.Zm,g.BC,g.VZ,g.zX,g.vS]})}return u})(),ne=(()=>{class u extends ${constructor(){super((0,Q.oR)())}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-text-question-edit-details-form"]],features:[e.Vt3],decls:12,vars:4,consts:[[1,"row","padding-15px"],[1,"col-md-10","allow-rich-text"],["type","checkbox",3,"checked","disabled","click"],[1,"col-12","question-recommended-length"],["for","recommended-length"],["ngbTooltip","The recommended length is shown to the respondent but not enforced",1,"ngb-tooltip-class"],["id","recommended-length","type","number","min","1","aria-label","Recommended Length Input",1,"form-control",3,"ngModel","disabled","ngModelChange"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"label")(3,"input",2),e.bIt("click",function(h){return o.triggerModelChange("shouldAllowRichText",h.target.checked)}),e.k0s(),e.EFF(4," Allow rich-text formatting (e.g., bold text, links, bullet lists, colors, etc.) in the answers "),e.k0s()(),e.j41(5,"div",3)(6,"label",4),e.EFF(7," [Optional] "),e.j41(8,"span",5),e.EFF(9," Recommended length "),e.k0s(),e.EFF(10," (in words) for the response: "),e.k0s(),e.j41(11,"input",6),e.bIt("ngModelChange",function(h){return o.triggerModelChange("recommendedLength",h)}),e.k0s()()()),2&l&&(e.R7$(3),e.Y8G("checked",o.model.shouldAllowRichText)("disabled",!o.isEditable),e.R7$(8),e.Y8G("ngModel",o.model.recommendedLength)("disabled",!o.isEditable))},dependencies:[g.me,g.Q0,g.BC,g.VZ,g.vS,V.md],styles:[".allow-rich-text[_ngcontent-%COMP%], .question-recommended-length[_ngcontent-%COMP%]{color:gray}.question-recommended-length[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:inline;width:80px}"]})}return u})();const Ee=function(u){return{"highlight-deletion":u}};function pt(u,k){if(1&u){const s=e.RV6();e.j41(0,"th",17)(1,"input",18),e.bIt("ngModelChange",function(o){const h=e.eBV(s).index,j=e.XpG();return e.Njj(j.triggerRubricChoiceChange(o,h))}),e.k0s()()}if(2&u){const s=k.$implicit,l=k.index,o=e.XpG();e.Y8G("ngClass",e.eq3(3,Ee,l===o.columnToHighlight)),e.R7$(1),e.Y8G("disabled",!o.isEditable)("ngModel",s)}}function Te(u,k){if(1&u){const s=e.RV6();e.j41(0,"input",31),e.bIt("ngModelChange",function(o){e.eBV(s);const d=e.XpG().index,h=e.XpG().index,j=e.XpG();return e.Njj(j.triggerRubricWeightChange(o,h,d))}),e.k0s()}if(2&u){const s=e.XpG().index,l=e.XpG().index,o=e.XpG();e.Y8G("disabled",!o.isEditable)("ngModel",o.model.rubricWeightsForEachCell[l][s])}}function je(u,k){if(1&u){const s=e.RV6();e.j41(0,"td",19)(1,"textarea",29),e.bIt("ngModelChange",function(o){const h=e.eBV(s).index,j=e.XpG().index,Qt=e.XpG();return e.Njj(Qt.triggerRubricDescriptionChange(o,j,h))}),e.k0s(),e.DNE(2,Te,1,2,"input",30),e.k0s()}if(2&u){const s=k.$implicit,l=k.index,o=e.XpG(2);e.Y8G("ngClass",e.eq3(4,Ee,l===o.columnToHighlight)),e.R7$(1),e.Y8G("ngModel",s)("disabled",!o.isEditable),e.R7$(1),e.Y8G("ngIf",o.model.hasAssignedWeights)}}function Oe(u,k){if(1&u){const s=e.RV6();e.j41(0,"tr",19)(1,"th",20)(2,"div",21)(3,"div",22)(4,"button",23),e.bIt("click",function(){const d=e.eBV(s).index,h=e.XpG();return e.Njj(h.moveRow(d,d-1))}),e.nrm(5,"i",24),e.k0s(),e.j41(6,"button",25),e.bIt("click",function(){const d=e.eBV(s).index,h=e.XpG();return e.Njj(h.deleteSubQuestion(d))})("mouseover",function(){const d=e.eBV(s).index,h=e.XpG();return e.Njj(h.rowToHighlight=d)})("mouseleave",function(){e.eBV(s);const o=e.XpG();return e.Njj(o.rowToHighlight=-1)}),e.nrm(7,"i",26),e.k0s(),e.j41(8,"button",27),e.bIt("click",function(){const d=e.eBV(s).index,h=e.XpG();return e.Njj(h.moveRow(d,d+1))}),e.nrm(9,"i",14),e.k0s()(),e.j41(10,"textarea",28),e.bIt("ngModelChange",function(o){const h=e.eBV(s).index,j=e.XpG();return e.Njj(j.triggerRubricSubQuestionChange(o,h))}),e.k0s()()(),e.DNE(11,je,3,6,"td",10),e.k0s()}if(2&u){const s=k.$implicit,l=k.index,o=e.XpG();e.Y8G("ngClass",e.eq3(9,Ee,l===o.rowToHighlight)),e.R7$(1),e.BMQ("aria-label",o.model.rubricSubQuestions[l]),e.R7$(3),e.Y8G("disabled",0===l||!o.isEditable),e.R7$(2),e.Y8G("disabled",1===o.model.rubricSubQuestions.length||!o.isEditable),e.R7$(2),e.Y8G("disabled",l===o.model.rubricSubQuestions.length-1||!o.isEditable),e.R7$(2),e.Y8G("ngModel",o.model.rubricSubQuestions[l])("disabled",!o.isEditable),e.R7$(1),e.Y8G("ngForOf",s)("ngForTrackBy",o.trackByIndex)}}function gt(u,k){if(1&u){const s=e.RV6();e.j41(0,"td",32)(1,"div",33)(2,"button",34),e.bIt("click",function(){const d=e.eBV(s).index,h=e.XpG();return e.Njj(h.moveChoice(d,d-1))}),e.nrm(3,"i",35),e.k0s(),e.j41(4,"button",36),e.bIt("click",function(){const d=e.eBV(s).index,h=e.XpG();return e.Njj(h.deleteChoice(d))})("mouseover",function(){const d=e.eBV(s).index,h=e.XpG();return e.Njj(h.columnToHighlight=d)})("mouseleave",function(){e.eBV(s);const o=e.XpG();return e.Njj(o.columnToHighlight=-1)}),e.nrm(5,"i",26),e.k0s(),e.j41(6,"button",37),e.bIt("click",function(){const d=e.eBV(s).index,h=e.XpG();return e.Njj(h.moveChoice(d,d+1))}),e.nrm(7,"i",8),e.k0s()()()}if(2&u){const s=k.index,l=e.XpG();e.Y8G("ngClass",e.eq3(4,Ee,s===l.columnToHighlight)),e.R7$(2),e.Y8G("disabled",0===s||!l.isEditable),e.R7$(2),e.Y8G("disabled",1===l.model.rubricChoices.length||!l.isEditable),e.R7$(2),e.Y8G("disabled",s===l.model.rubricChoices.length-1||!l.isEditable)}}let pe=(()=>{class u extends ${constructor(s){super((0,Q.Qg)()),this.simpleModalService=s,this.rowToHighlight=-1,this.columnToHighlight=-1}triggerRubricChoiceChange(s,l){const o=this.model.rubricChoices.slice();o[l]=s,this.triggerModelChange("rubricChoices",o)}triggerRubricSubQuestionChange(s,l){const o=this.model.rubricSubQuestions.slice();o[l]=s,this.triggerModelChange("rubricSubQuestions",o)}triggerRubricDescriptionChange(s,l,o){const d=this.model.rubricDescriptions.map(h=>h.slice());d[l][o]=s,this.triggerModelChange("rubricDescriptions",d)}triggerRubricWeightChange(s,l,o){const d=this.model.rubricWeightsForEachCell.map(h=>h.slice());d[l][o]=s,this.triggerModelChange("rubricWeightsForEachCell",d)}trackByIndex(s){return s.toString()}addNewSubQuestion(){const s=this.model.rubricSubQuestions.slice();s.push("");const l=this.model.rubricDescriptions.map(d=>d.slice());l.push(Array(this.model.rubricChoices.length).fill(""));let o=[];this.model.hasAssignedWeights&&(o=this.model.rubricWeightsForEachCell.map(d=>d.slice()),o.push(Array(this.model.rubricChoices.length).fill(0))),this.triggerModelChangeBatch({rubricSubQuestions:s,rubricDescriptions:l,rubricWeightsForEachCell:o})}addNewChoice(){const s=this.model.rubricChoices.slice();s.push("");const l=this.model.rubricDescriptions.map(d=>d.slice());for(const d of l)d.push("");let o=[];if(this.model.hasAssignedWeights){o=this.model.rubricWeightsForEachCell.map(d=>d.slice());for(const d of o)d.push(0)}this.triggerModelChangeBatch({rubricChoices:s,rubricDescriptions:l,rubricWeightsForEachCell:o})}moveChoice(s,l){const o=this.model.rubricChoices.slice();(0,T.HD)(o,s,l);const d=this.model.rubricDescriptions.map(j=>j.slice());for(const j of d)(0,T.HD)(j,s,l);let h=[];if(this.model.hasAssignedWeights){h=this.model.rubricWeightsForEachCell.map(j=>j.slice());for(const j of h)(0,T.HD)(j,s,l)}this.triggerModelChangeBatch({rubricChoices:o,rubricDescriptions:d,rubricWeightsForEachCell:h})}deleteSubQuestion(s){1===this.model.rubricSubQuestions.length||!this.isEditable||this.simpleModalService.openConfirmationModal("Delete the row?",x.i.WARNING,"Are you sure you want to clear the row?").result.then(()=>{const l=this.model.rubricSubQuestions.slice();l.splice(s,1);const o=this.model.rubricDescriptions.map(h=>h.slice());o.splice(s,1);let d=[];this.model.hasAssignedWeights&&(d=this.model.rubricWeightsForEachCell.map(h=>h.slice()),d.splice(s,1)),this.triggerModelChangeBatch({rubricSubQuestions:l,rubricDescriptions:o,rubricWeightsForEachCell:d})},()=>{})}deleteChoice(s){this.simpleModalService.openConfirmationModal("Delete the column?",x.i.WARNING,"Are you sure you want to clear the column?").result.then(()=>{const l=this.model.rubricChoices.slice();l.splice(s,1);const o=this.model.rubricDescriptions.map(h=>{const j=h.slice();return j.splice(s,1),j});let d=[];this.model.hasAssignedWeights&&(d=this.model.rubricWeightsForEachCell.map(h=>{const j=h.slice();return j.splice(s,1),j})),this.triggerModelChangeBatch({rubricChoices:l,rubricDescriptions:o,rubricWeightsForEachCell:d})},()=>{})}triggerChoicesWeight(s){this.triggerModelChangeBatch({hasAssignedWeights:s,rubricWeightsForEachCell:s?this.model.rubricDescriptions.map(l=>l.map(()=>0)):[]})}moveRow(s,l){const o=this.model.rubricSubQuestions.slice();(0,T.HD)(o,s,l);const d=this.model.rubricDescriptions.slice();(0,T.HD)(d,s,l);let h=[];this.model.hasAssignedWeights&&(h=this.model.rubricWeightsForEachCell.slice(),(0,T.HD)(h,s,l)),this.triggerModelChangeBatch({rubricSubQuestions:o,rubricDescriptions:d,rubricWeightsForEachCell:h})}static#e=this.\u0275fac=function(l){return new(l||u)(e.rXU(I.r))};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-rubric-question-edit-details-form"]],features:[e.Vt3],decls:29,vars:9,consts:[[1,"row"],[1,"col-12","text-start"],[1,"form-group","form-check"],["ngbTooltip","Assign weights to the columns for calculating statistics. An empty weight (i.e. Not enough information to evaluate) can be assigned by leaving the input box empty.",1,"form-check-label","tool-tip-decorate","ngb-tooltip-class"],["id","weights-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],[1,"table-responsive"],["id","rubric-table",1,"table","table-bordered"],[1,"fw-bold","item-center"],[1,"fas","fa-arrow-right"],["scope","col",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-6","text-start"],["id","btn-add-row","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-arrow-down"],[1,"col-6","text-end"],["id","btn-add-col","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["scope","col",3,"ngClass"],["type","text",1,"form-control","fw-bold",3,"disabled","ngModel","ngModelChange"],[3,"ngClass"],["scope","row",1,"row-header"],[1,"input-group"],[1,"btn-group-vertical"],["type","button","ngbTooltip","Move row up","aria-label","Move row up",1,"btn","btn-light",3,"disabled","click"],[1,"fas","fa-arrow-up"],["id","btn-delete-subquestion","type","button","aria-label","Delete row",1,"btn","btn-light",3,"disabled","click","mouseover","mouseleave"],[1,"fas","fa-times"],["type","button","ngbTooltip","Move row down","aria-label","Move row down",1,"btn","btn-light",3,"disabled","click"],["rows","3",1,"form-control","min-vw-50",3,"ngModel","disabled","ngModelChange"],["rows","3",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","number","class","form-control margin-top-10px","step","0.01","aria-label","Choice weight input",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["type","number","step","0.01","aria-label","Choice weight input",1,"form-control","margin-top-10px",3,"disabled","ngModel","ngModelChange"],[1,"text-center",3,"ngClass"],[1,"btn-group"],["type","button","ngbTooltip","Move column left","aria-label","Move column left",1,"btn","btn-light",3,"disabled","click"],[1,"fas","fa-arrow-left"],["id","btn-delete-choice","type","button","aria-label","Delete column",1,"btn","btn-light",3,"disabled","click","mouseover","mouseleave"],["type","button","ngbTooltip","Move column right","aria-label","Move column right",1,"btn","btn-light",3,"disabled","click"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3)(4,"input",4),e.bIt("ngModelChange",function(h){return o.triggerChoicesWeight(h)}),e.k0s(),e.EFF(5,"Choices are weighted"),e.k0s()()()(),e.j41(6,"div",5)(7,"table",6)(8,"thead")(9,"tr",7)(10,"td")(11,"div"),e.EFF(12,"Choices "),e.nrm(13,"i",8),e.k0s()(),e.DNE(14,pt,2,5,"th",9),e.k0s()(),e.j41(15,"tbody"),e.DNE(16,Oe,12,11,"tr",10),e.j41(17,"tr"),e.nrm(18,"td"),e.DNE(19,gt,8,6,"td",11),e.k0s()()()(),e.j41(20,"div",0)(21,"div",12)(22,"button",13),e.bIt("click",function(){return o.addNewSubQuestion()}),e.EFF(23,"Add Row "),e.nrm(24,"i",14),e.k0s()(),e.j41(25,"div",15)(26,"button",16),e.bIt("click",function(){return o.addNewChoice()}),e.EFF(27,"Add Column "),e.nrm(28,"i",8),e.k0s()()()),2&l&&(e.R7$(4),e.Y8G("disabled",!o.isEditable)("ngModel",o.model.hasAssignedWeights),e.R7$(10),e.Y8G("ngForOf",o.model.rubricChoices)("ngForTrackBy",o.trackByIndex),e.R7$(2),e.Y8G("ngForOf",o.model.rubricDescriptions)("ngForTrackBy",o.trackByIndex),e.R7$(3),e.Y8G("ngForOf",o.model.rubricChoices),e.R7$(3),e.Y8G("disabled",!o.isEditable),e.R7$(4),e.Y8G("disabled",!o.isEditable))},dependencies:[w.YU,w.Sq,w.bT,g.me,g.Q0,g.Zm,g.BC,g.vS,V.md],styles:[".item-center[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.highlight-deletion[_ngcontent-%COMP%]{background-color:#fea3a3}.margin-top-10px[_ngcontent-%COMP%]{margin-top:10px}.row-header[_ngcontent-%COMP%]{min-width:200px}"]})}return u})(),_t=(()=>{class u{constructor(){this.isEditable=!1,this.text="",this.elementDeleted=new e.bkB,this.textChange=new e.bkB}onConstsumOptionEntered(s){this.textChange.emit(s)}deleteConstsumOption(){this.elementDeleted.emit()}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-constsum-options-field"]],inputs:{isEditable:"isEditable",text:"text"},outputs:{elementDeleted:"elementDeleted",textChange:"textChange"},decls:6,vars:3,consts:[[1,"input-group"],["type","text","aria-label","Option",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"input-group-btn"],["type","button","aria-label","Delete Option",1,"btn","btn-danger","input-group-addon",2,"cursor","initial",3,"disabled","click"],["aria-hidden","true"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"input",1),e.bIt("ngModelChange",function(h){return o.onConstsumOptionEntered(h.trim())}),e.k0s(),e.j41(2,"span",2)(3,"button",3),e.bIt("click",function(){return o.deleteConstsumOption()}),e.j41(4,"span",4),e.EFF(5,"\xd7"),e.k0s()()()()),2&l&&(e.R7$(1),e.Y8G("disabled",!o.isEditable)("ngModel",o.text),e.R7$(2),e.Y8G("disabled",!o.isEditable))},dependencies:[g.me,g.BC,g.vS],styles:[".input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}"]})}return u})();function ft(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"span",36),e.EFF(3,"\u2195 "),e.k0s()(),e.j41(4,"div",37)(5,"tm-constsum-options-field",38),e.bIt("elementDeleted",function(){const d=e.eBV(s).index,h=e.XpG();return e.Njj(h.onConstsumOptionDeleted(d))})("textChange",function(o){const h=e.eBV(s).index,j=e.XpG();return e.Njj(j.onConstsumOptionEntered(o,h))}),e.k0s()()()}if(2&u){const s=k.$implicit,l=e.XpG();e.R7$(5),e.Y8G("isEditable",l.isEditable)("text",s)}}let bt=(()=>{class u extends ${constructor(s){super((0,Q.iC)()),this.statusMessageService=s,this.FeedbackConstantSumDistributePointsType=b.B}get hasMaxPoint(){return void 0!==this.model.maxPoint}get hasMinPoint(){return void 0!==this.model.minPoint}increaseNumberOfConstsumOptions(){const s=this.model.constSumOptions.slice();s.push(""),this.triggerModelChangeBatch({constSumOptions:s})}onConstsumOptionDropped(s){if(!this.isEditable)return;const l=this.model.constSumOptions.slice();(0,T.HD)(l,s.previousIndex,s.currentIndex),this.triggerModelChange("constSumOptions",l)}trackConstsumOption(s){return s.toString()}onConstsumOptionDeleted(s){if(this.model.constSumOptions.length<=2)return void this.statusMessageService.showErrorToast("There must be at least one option.");const l=this.model.constSumOptions.slice();l.splice(s,1),this.triggerModelChangeBatch({constSumOptions:l})}onConstsumOptionEntered(s,l){const o=this.model.constSumOptions.slice();o[l]=s,this.triggerModelChange("constSumOptions",o)}onForceUnevenDistribution(s){this.triggerModelChangeBatch({forceUnevenDistribution:s,distributePointsFor:s?b.B.DISTRIBUTE_ALL_UNEVENLY:b.B.NONE})}resetMaxPoint(s){this.triggerModelChange("maxPoint",s?0:void 0)}resetMinPoint(s){this.triggerModelChange("minPoint",s?0:void 0)}static#e=this.\u0275fac=function(l){return new(l||u)(e.rXU(y.x))};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-constsum-options-question-edit-details-form"]],features:[e.Vt3],decls:58,vars:28,consts:[[1,"row"],[1,"col-sm-6"],["id","options-section","cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["class","mb-3 d-flex","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mb-3"],["id","btn-add-option","name","button","ngDefaultControl","",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-plus"],[1,"col-sm-6","form"],[1,"col-12"],[1,"col-11","offset-1","mt-2"],[1,"row","form-check"],[1,"row","form-check-label"],["id","total-points-radio","type","radio","aria-label","Use Total Points Checkbox",1,"form-check-input",3,"ngModel","value","disabled","ngModelChange"],["id","total-points","type","number","min","1","max","999999999","aria-label","Total Points Input",1,"form-control",3,"ngModel","disabled","keypress","paste","input","ngModelChange"],[1,"col-sm-6","text-start"],["ngbTooltip","Respondents will have to distribute the total points specified here among the options, e.g. if you specify 100 points here and there are 3 options, respondents will have to distribute 100 points among 3 options.",1,"ngb-tooltip-class"],["id","per-option-points-radio","type","radio","aria-label","Use Total Points Times Number of Options Checkbox",1,"form-check-input",3,"ngModel","value","disabled","ngModelChange"],["id","per-option-points","type","number","min","1","max","999999999","aria-label","Points Input",1,"form-control",3,"ngModel","disabled","keypress","paste","input","ngModelChange"],["ngbTooltip","The number of points to distribute will vary based on the number of options, e.g. if you specify 100 points here and there are 3 options, the total number of points to distribute among 3 options will be 300 (i.e. 100 x 3).",1,"ngb-tooltip-class"],[1,"col-12","mt-2"],[1,"col-auto"],[1,"form-check"],[1,"form-check-label"],["id","min-point-checkbox","type","checkbox","aria-label","Minimum Value Checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","min-point","type","number","min","1","max","999999999","aria-label","Minimum Value Input",1,"form-control",3,"ngModel","disabled","keypress","paste","input","ngModelChange"],["ngbTooltip","The minimum allocation of the points to an option, e.g if you specify 5 points here, the user must input a value larger than or equal to 5 for each option.",1,"ngb-tooltip-class"],["id","max-point-checkbox","type","checkbox","aria-label","Maximum Value Checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","max-point","type","number","min","1","max","999999999","aria-label","Maximum Value Input",1,"form-control",3,"ngModel","disabled","keypress","paste","input","ngModelChange"],["ngbTooltip","The maximum allocation of the points to an option, e.g if you specify 30 points here, the user must input a value smaller than or equal to 30 for each option.",1,"ngb-tooltip-class"],["id","uneven-distribution-checkbox","type","checkbox","aria-label","Uneven Distribution Checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","uneven-distribution-dropdown","aria-label","Uneven Distribution Options",1,"form-control","form-select",3,"ngModel","disabled","ngModelChange"],["aria-label","Every Option to Receive a Different Number of Points",3,"value"],["aria-label","At Least Some Options to Receive a Different Number of Points",3,"value"],["ngbTooltip","This determines whether a giver can distribute the same number of points to multiple recipients",1,"ngb-tooltip-class"],["cdkDrag","","cdkDragLockAxis","y",1,"mb-3","d-flex"],["cdkDragHandle","","aria-hidden","true"],[1,"btn","input-group-addon"],[1,"flex-grow-1"],[3,"isEditable","text","elementDeleted","textChange"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2),e.bIt("cdkDropListDropped",function(h){return o.onConstsumOptionDropped(h)}),e.DNE(4,ft,6,2,"div",3),e.k0s()(),e.j41(5,"div",4)(6,"button",5),e.bIt("click",function(){return o.increaseNumberOfConstsumOptions()}),e.nrm(7,"i",6),e.EFF(8," Add More Options "),e.k0s()()(),e.j41(9,"div",7)(10,"div",0)(11,"div",8)(12,"b"),e.EFF(13,"Total Points to distribute:"),e.k0s()(),e.j41(14,"div",9)(15,"div",10)(16,"label",11)(17,"div",1)(18,"input",12),e.bIt("ngModelChange",function(h){return o.triggerModelChange("pointsPerOption",h)}),e.k0s(),e.j41(19,"input",13),e.bIt("keypress",function(h){return o.onIntegerInput(h)})("paste",function(h){return o.onPaste(h)})("input",function(h){return o.restrictIntegerInputLength(h,"points")})("ngModelChange",function(h){return o.triggerModelChange("points",h)}),e.k0s()(),e.j41(20,"div",14)(21,"b",15),e.EFF(22,"in total"),e.k0s()()()(),e.j41(23,"div",10)(24,"label",11)(25,"div",1)(26,"input",16),e.bIt("ngModelChange",function(h){return o.triggerModelChange("pointsPerOption",h)}),e.k0s(),e.j41(27,"input",17),e.bIt("keypress",function(h){return o.onIntegerInput(h)})("paste",function(h){return o.onPaste(h)})("input",function(h){return o.restrictIntegerInputLength(h,"points")})("ngModelChange",function(h){return o.triggerModelChange("points",h)}),e.k0s()(),e.j41(28,"div",14)(29,"b",18),e.EFF(30,"times (number of options)"),e.k0s()()()()(),e.j41(31,"div",19)(32,"div",0)(33,"div",20)(34,"div",21)(35,"label",22)(36,"input",23),e.bIt("ngModelChange",function(h){return o.resetMinPoint(h)}),e.k0s(),e.j41(37,"input",24),e.bIt("keypress",function(h){return o.onIntegerInput(h)})("paste",function(h){return o.onPaste(h)})("input",function(h){return o.restrictIntegerInputLength(h,"minPoint")})("ngModelChange",function(h){return o.triggerModelChange("minPoint",h)}),e.k0s(),e.j41(38,"b",25),e.EFF(39,"minimum per option"),e.k0s()()()(),e.j41(40,"div",20)(41,"div",21)(42,"label",22)(43,"input",26),e.bIt("ngModelChange",function(h){return o.resetMaxPoint(h)}),e.k0s(),e.j41(44,"input",27),e.bIt("keypress",function(h){return o.onIntegerInput(h)})("paste",function(h){return o.onPaste(h)})("input",function(h){return o.restrictIntegerInputLength(h,"maxPoint")})("ngModelChange",function(h){return o.triggerModelChange("maxPoint",h)}),e.k0s(),e.j41(45,"b",28),e.EFF(46,"maximum per option"),e.k0s()()()()()(),e.j41(47,"div",19)(48,"div",21)(49,"label",22)(50,"input",29),e.bIt("ngModelChange",function(h){return o.onForceUnevenDistribution(h)}),e.k0s(),e.j41(51,"select",30),e.bIt("ngModelChange",function(h){return o.triggerModelChange("distributePointsFor",h)}),e.j41(52,"option",31),e.EFF(53," Every option "),e.k0s(),e.j41(54,"option",32),e.EFF(55," At least some options "),e.k0s()(),e.j41(56,"b",33),e.EFF(57,"to receive a different number of points"),e.k0s()()()()()()()),2&l&&(e.R7$(3),e.Y8G("cdkDropListDisabled",!o.isEditable),e.R7$(1),e.Y8G("ngForOf",o.model.constSumOptions)("ngForTrackBy",o.trackConstsumOption),e.R7$(2),e.Y8G("disabled",!o.isEditable),e.R7$(12),e.Y8G("ngModel",o.model.pointsPerOption)("value",!1)("disabled",!o.isEditable),e.R7$(1),e.Y8G("ngModel",o.model.pointsPerOption?"":o.model.points)("disabled",!o.isEditable||o.model.pointsPerOption),e.R7$(7),e.Y8G("ngModel",o.model.pointsPerOption)("value",!0)("disabled",!o.isEditable),e.R7$(1),e.Y8G("ngModel",o.model.pointsPerOption?o.model.points:"")("disabled",!o.isEditable||!o.model.pointsPerOption),e.R7$(9),e.Y8G("ngModel",o.hasMinPoint)("disabled",!o.isEditable),e.R7$(1),e.Y8G("ngModel",o.hasMinPoint?o.model.minPoint:"")("disabled",!o.isEditable||!o.hasMinPoint),e.R7$(6),e.Y8G("ngModel",o.hasMaxPoint)("disabled",!o.isEditable),e.R7$(1),e.Y8G("ngModel",o.hasMaxPoint?o.model.maxPoint:"")("disabled",!o.isEditable||!o.hasMaxPoint),e.R7$(6),e.Y8G("ngModel",o.model.forceUnevenDistribution)("disabled",!o.isEditable),e.R7$(1),e.Y8G("ngModel",o.model.distributePointsFor)("disabled",!o.isEditable||o.model.distributePointsFor===o.FeedbackConstantSumDistributePointsType.NONE),e.R7$(1),e.Y8G("value",o.FeedbackConstantSumDistributePointsType.DISTRIBUTE_ALL_UNEVENLY),e.R7$(2),e.Y8G("value",o.FeedbackConstantSumDistributePointsType.DISTRIBUTE_SOME_UNEVENLY))},dependencies:[w.Sq,T.O7,T.T1,T.Fb,g.xH,g.y7,g.me,g.Q0,g.Zm,g.wz,g.Fm,g.BC,g.VZ,g.zX,g.vS,V.md,_t],styles:[".margin-top-10px[_ngcontent-%COMP%]{margin-top:10px}.margin-bottom-20px[_ngcontent-%COMP%]{margin-bottom:20px}.padding-left-12px[_ngcontent-%COMP%]{padding-left:12px}.row[_ngcontent-%COMP%]{align-items:center;display:flex}.input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}",".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]})}return u})(),Ct=(()=>{class u extends ${constructor(){super((0,Q.UM)()),this.FeedbackConstantSumDistributePointsType=b.B}onForceUnevenDistribution(s){this.triggerModelChangeBatch({forceUnevenDistribution:s,distributePointsFor:s?b.B.DISTRIBUTE_ALL_UNEVENLY:b.B.NONE})}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-constsum-recipients-question-edit-details-form"]],features:[e.Vt3],decls:33,vars:16,consts:[[1,"row"],[1,"col-12"],[1,"col-11","offset-half","margin-top-10px"],[1,"row","form-check"],[1,"row","form-check-label"],[1,"col-sm-3"],["id","total-points-radio","type","radio","aria-label","Use Total Points Checkbox",1,"form-check-input",3,"ngModel","value","disabled","ngModelChange"],["id","total-points","type","number","min","1","max","999999999","aria-label","Total Points Input",1,"form-control",3,"ngModel","disabled","keypress","paste","input","ngModelChange"],[1,"col-sm-9","text-start"],["ngbTooltip","Respondents will have to distribute the total points specified here among the recipients, e.g. if you specify 100 points here and there are 3 recipients, respondents will have to distribute 100 points among 3 recipients.",1,"ngb-tooltip-class"],[1,"form-check"],[1,"form-check-label","row"],["id","per-option-points-radio","type","radio","aria-label","Use Total Points Times Number of Recipients Checkbox",1,"form-check-input",3,"ngModel","value","disabled","ngModelChange"],["id","per-option-points","type","number","min","1","max","999999999","aria-label","Points Input",1,"form-control",3,"ngModel","disabled","keypress","paste","input","ngModelChange"],["ngbTooltip","The number of points to distribute will vary based on the number of recipients, e.g. if you specify 100 points here and there are 3 recipients, the total number of points to distribute among 3 recipients will be 300 (i.e. 100 x 3).",1,"ngb-tooltip-class"],[1,"row","form-check","col-sm-12","padding-left-33px","margin-top-10px"],["id","uneven-distribution-checkbox","type","checkbox","aria-label","Uneven Distribution Checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","uneven-distribution-dropdown","aria-label","Uneven Distribution Options",1,"form-control","form-select",3,"ngModel","disabled","ngModelChange"],["aria-label","Every Option to Receive a Different Number of Points",3,"value"],["aria-label","At Least Some Options to Receive a Different Number of Points",3,"value"],[1,"col-sm-9"],["ngbTooltip","This determines whether a giver can distribute the same number of points to multiple recipients",1,"ngb-tooltip-class"]],template:function(l,o){1&l&&(e.j41(0,"div",0),e.nrm(1,"br"),e.j41(2,"div",1)(3,"b"),e.EFF(4,"Total Points to distribute:"),e.k0s()(),e.j41(5,"div",2)(6,"div",3)(7,"label",4)(8,"div",5)(9,"input",6),e.bIt("ngModelChange",function(h){return o.triggerModelChange("pointsPerOption",h)}),e.k0s(),e.j41(10,"input",7),e.bIt("keypress",function(h){return o.onIntegerInput(h)})("paste",function(h){return o.onPaste(h)})("input",function(h){return o.restrictIntegerInputLength(h,"points")})("ngModelChange",function(h){return o.triggerModelChange("points",h)}),e.k0s()(),e.j41(11,"div",8)(12,"b",9),e.EFF(13,"in total"),e.k0s()()()(),e.j41(14,"div",10)(15,"label",11)(16,"div",5)(17,"input",12),e.bIt("ngModelChange",function(h){return o.triggerModelChange("pointsPerOption",h)}),e.k0s(),e.j41(18,"input",13),e.bIt("keypress",function(h){return o.onIntegerInput(h)})("paste",function(h){return o.onPaste(h)})("input",function(h){return o.restrictIntegerInputLength(h,"points")})("ngModelChange",function(h){return o.triggerModelChange("points",h)}),e.k0s()(),e.j41(19,"div",8)(20,"b",14),e.EFF(21,"times (number of recipients)"),e.k0s()()()()(),e.j41(22,"label",15)(23,"div",5)(24,"input",16),e.bIt("ngModelChange",function(h){return o.onForceUnevenDistribution(h)}),e.k0s(),e.j41(25,"select",17),e.bIt("ngModelChange",function(h){return o.triggerModelChange("distributePointsFor",h)}),e.j41(26,"option",18),e.EFF(27," Every option "),e.k0s(),e.j41(28,"option",19),e.EFF(29," At least some options "),e.k0s()()(),e.j41(30,"div",20)(31,"b",21),e.EFF(32,"to receive a different number of points"),e.k0s()()()()),2&l&&(e.R7$(9),e.Y8G("ngModel",o.model.pointsPerOption)("value",!1)("disabled",!o.isEditable),e.R7$(1),e.Y8G("ngModel",o.model.pointsPerOption?"":o.model.points)("disabled",!o.isEditable||o.model.pointsPerOption),e.R7$(7),e.Y8G("ngModel",o.model.pointsPerOption)("value",!0)("disabled",!o.isEditable),e.R7$(1),e.Y8G("ngModel",o.model.pointsPerOption?o.model.points:"")("disabled",!o.isEditable||!o.model.pointsPerOption),e.R7$(6),e.Y8G("ngModel",o.model.forceUnevenDistribution)("disabled",!o.isEditable),e.R7$(1),e.Y8G("ngModel",o.model.distributePointsFor)("disabled",!o.isEditable||o.model.distributePointsFor===o.FeedbackConstantSumDistributePointsType.NONE),e.R7$(1),e.Y8G("value",o.FeedbackConstantSumDistributePointsType.DISTRIBUTE_ALL_UNEVENLY),e.R7$(2),e.Y8G("value",o.FeedbackConstantSumDistributePointsType.DISTRIBUTE_SOME_UNEVENLY))},dependencies:[g.xH,g.y7,g.me,g.Q0,g.Zm,g.wz,g.Fm,g.BC,g.VZ,g.zX,g.vS,V.md],styles:[".margin-top-10px[_ngcontent-%COMP%]{margin-top:10px}.padding-left-33px[_ngcontent-%COMP%]{padding-left:33px}.offset-half[_ngcontent-%COMP%]{margin-left:4.16667%}"]})}return u})();var vt=p(86082),Et=p(21692),Tt=p(94612),Qe=p(68705);function Ue(u,k){if(1&u&&(e.j41(0,"span",13),e.EFF(1),e.k0s()),2&u){const s=e.XpG();e.R7$(1),e.JRh(s.model.questionNumber)}}function yt(u,k){if(1&u&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&u){const s=k.$implicit;e.Y8G("ngValue",s+1),e.R7$(1),e.JRh(s+1)}}function qe(u,k){if(1&u){const s=e.RV6();e.j41(0,"select",14),e.bIt("ngModelChange",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerModelChange("questionNumber",o))})("click",function(o){return o.stopPropagation()}),e.DNE(1,yt,2,2,"option",15),e.k0s()}if(2&u){const s=e.XpG();e.Y8G("ngModel",s.model.questionNumber),e.R7$(1),e.Y8G("ngForOf",s.range(s.numOfQuestions))}}function $e(u,k){if(1&u&&(e.qex(0),e.j41(1,"div",17),e.EFF(2),e.k0s(),e.bVm()),2&u){const s=e.XpG();e.R7$(2),e.JRh(s.model.questionBrief)}}function kt(u,k){if(1&u){const s=e.RV6();e.j41(0,"button",25),e.bIt("click",function(o){return e.eBV(s),e.XpG(2).triggerModelChangeBatch({isEditable:!0,isCollapsed:!1}),e.Njj(o.stopPropagation())}),e.nrm(1,"i",26),e.EFF(2," Edit "),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("disabled",s.model.isSaving||s.model.isDeleting||s.model.isDuplicating)}}function Mt(u,k){1&u&&e.nrm(0,"tm-ajax-loading")}function Dt(u,k){if(1&u){const s=e.RV6();e.j41(0,"button",27),e.bIt("click",function(o){return e.eBV(s),e.XpG(2).saveQuestionHandler(),e.Njj(o.stopPropagation())}),e.DNE(1,Mt,1,0,"tm-ajax-loading",11),e.nrm(2,"i",28),e.EFF(3," Save "),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("disabled",s.model.isSaving||s.model.isDeleting||s.model.isDuplicating),e.R7$(1),e.Y8G("ngIf",s.model.isSaving)}}function St(u,k){if(1&u){const s=e.RV6();e.j41(0,"button",29),e.bIt("click",function(o){return e.eBV(s),e.XpG(2).discardChangesHandler(!1),e.Njj(o.stopPropagation())}),e.nrm(1,"i",30),e.EFF(2," Cancel "),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("disabled",s.model.isSaving||s.model.isDeleting||s.model.isDuplicating)}}function Rt(u,k){1&u&&e.nrm(0,"tm-ajax-loading")}function Ft(u,k){1&u&&e.nrm(0,"tm-ajax-loading")}function wt(u,k){if(1&u){const s=e.RV6();e.j41(0,"div"),e.DNE(1,kt,3,1,"button",18),e.DNE(2,Dt,4,2,"button",19),e.DNE(3,St,3,1,"button",20),e.j41(4,"button",21),e.bIt("click",function(o){return e.eBV(s),e.XpG().deleteCurrentQuestionHandler(),e.Njj(o.stopPropagation())}),e.DNE(5,Rt,1,0,"tm-ajax-loading",11),e.nrm(6,"i",22),e.EFF(7," Delete "),e.k0s(),e.j41(8,"button",23),e.bIt("click",function(o){return e.eBV(s),e.XpG().duplicateCurrentQuestionHandler(),e.Njj(o.stopPropagation())}),e.DNE(9,Ft,1,0,"tm-ajax-loading",11),e.nrm(10,"i",24),e.EFF(11," Duplicate "),e.k0s()()}if(2&u){const s=e.XpG();e.R7$(1),e.Y8G("ngIf",!s.model.isEditable),e.R7$(1),e.Y8G("ngIf",s.model.isEditable),e.R7$(1),e.Y8G("ngIf",s.model.isEditable),e.R7$(1),e.Y8G("disabled",s.model.isSaving||s.model.isDeleting||s.model.isDuplicating),e.R7$(1),e.Y8G("ngIf",s.model.isDeleting),e.R7$(3),e.Y8G("disabled",s.model.isSaving||s.model.isDeleting||s.model.isDuplicating),e.R7$(1),e.Y8G("ngIf",s.model.isDuplicating)}}function Ot(u,k){if(1&u){const s=e.RV6();e.j41(0,"div")(1,"button",29),e.bIt("click",function(o){return e.eBV(s),e.XpG().discardChangesHandler(!0),e.Njj(o.stopPropagation())}),e.nrm(2,"i",30),e.EFF(3," Cancel "),e.k0s()()}if(2&u){const s=e.XpG();e.R7$(1),e.Y8G("disabled",s.model.isSaving||s.model.isDeleting||s.model.isDuplicating)}}function It(u,k){if(1&u){const s=e.RV6();e.j41(0,"tm-text-question-edit-details-form",41),e.bIt("detailsChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("questionDetails",o))}),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("details",s.model.questionDetails)("isEditable",s.model.isEditable)}}function Ye(u,k){if(1&u){const s=e.RV6();e.j41(0,"tm-contribution-question-edit-details-form",41),e.bIt("detailsChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("questionDetails",o))}),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("details",s.model.questionDetails)("isEditable",s.model.isEditable)}}function xt(u,k){if(1&u){const s=e.RV6();e.j41(0,"tm-mcq-question-edit-details-form",41),e.bIt("detailsChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("questionDetails",o))}),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("details",s.model.questionDetails)("isEditable",s.model.isEditable)}}function Pt(u,k){if(1&u){const s=e.RV6();e.j41(0,"tm-msq-question-edit-details-form",41),e.bIt("detailsChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("questionDetails",o))}),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("details",s.model.questionDetails)("isEditable",s.model.isEditable)}}function Nt(u,k){if(1&u){const s=e.RV6();e.j41(0,"tm-num-scale-question-edit-details-form",41),e.bIt("detailsChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("questionDetails",o))}),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("details",s.model.questionDetails)("isEditable",s.model.isEditable)}}function We(u,k){if(1&u){const s=e.RV6();e.j41(0,"tm-rank-options-question-edit-details-form",41),e.bIt("detailsChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("questionDetails",o))}),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("details",s.model.questionDetails)("isEditable",s.model.isEditable)}}function At(u,k){if(1&u){const s=e.RV6();e.j41(0,"tm-rank-recipients-question-edit-details-form",41),e.bIt("detailsChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("questionDetails",o))}),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("details",s.model.questionDetails)("isEditable",s.model.isEditable)}}function Bt(u,k){if(1&u){const s=e.RV6();e.j41(0,"tm-rubric-question-edit-details-form",41),e.bIt("detailsChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("questionDetails",o))}),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("details",s.model.questionDetails)("isEditable",s.model.isEditable)}}function Xe(u,k){if(1&u){const s=e.RV6();e.j41(0,"tm-constsum-options-question-edit-details-form",41),e.bIt("detailsChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("questionDetails",o))}),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("details",s.model.questionDetails)("isEditable",s.model.isEditable)}}function He(u,k){if(1&u){const s=e.RV6();e.j41(0,"tm-constsum-recipients-question-edit-details-form",41),e.bIt("detailsChange",function(o){e.eBV(s);const d=e.XpG(2);return e.Njj(d.triggerModelChange("questionDetails",o))}),e.k0s()}if(2&u){const s=e.XpG(2);e.Y8G("details",s.model.questionDetails)("isEditable",s.model.isEditable)}}function ze(u,k){if(1&u){const s=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(s);const o=e.XpG(3);return e.Njj(o.discardChangesHandler(!1))}),e.nrm(1,"i",30),e.EFF(2," Cancel "),e.k0s()}if(2&u){const s=e.XpG(3);e.Y8G("disabled",s.model.isSaving||s.model.isDeleting||s.model.isDuplicating)}}function Lt(u,k){1&u&&e.nrm(0,"tm-ajax-loading")}function Gt(u,k){1&u&&(e.j41(0,"span"),e.nrm(1,"i",28),e.EFF(2," Save Changes"),e.k0s())}function Vt(u,k){1&u&&(e.j41(0,"span",48),e.nrm(1,"i",28),e.EFF(2," Save Question"),e.k0s())}function jt(u,k){if(1&u){const s=e.RV6();e.j41(0,"div",42)(1,"div",43),e.DNE(2,ze,3,1,"button",44),e.j41(3,"button",45),e.bIt("click",function(){e.eBV(s);const o=e.XpG(2);return e.Njj(o.saveQuestionHandler())}),e.DNE(4,Lt,1,0,"tm-ajax-loading",11),e.DNE(5,Gt,3,0,"span",11),e.DNE(6,Vt,3,0,"span",46),e.k0s()()()}if(2&u){const s=e.XpG(2);e.R7$(2),e.Y8G("ngIf",s.model.isEditable),e.R7$(1),e.Y8G("disabled",!s.model.isEditable||s.model.isSaving||s.model.isDeleting||s.model.isDuplicating),e.R7$(1),e.Y8G("ngIf",s.model.isSaving),e.R7$(1),e.Y8G("ngIf",s.formMode===s.QuestionEditFormMode.EDIT),e.R7$(1),e.Y8G("ngIf",s.formMode===s.QuestionEditFormMode.ADD)}}function Ke(u,k){if(1&u){const s=e.RV6();e.j41(0,"div")(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",34)(5,"tm-question-edit-brief-description-form",35),e.bIt("briefChange",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerModelChange("questionBrief",o))})("descriptionChange",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerModelChange("questionDescription",o))}),e.k0s(),e.j41(6,"div",36),e.DNE(7,It,1,2,"tm-text-question-edit-details-form",37),e.DNE(8,Ye,1,2,"tm-contribution-question-edit-details-form",37),e.DNE(9,xt,1,2,"tm-mcq-question-edit-details-form",37),e.DNE(10,Pt,1,2,"tm-msq-question-edit-details-form",37),e.DNE(11,Nt,1,2,"tm-num-scale-question-edit-details-form",37),e.DNE(12,We,1,2,"tm-rank-options-question-edit-details-form",37),e.DNE(13,At,1,2,"tm-rank-recipients-question-edit-details-form",37),e.DNE(14,Bt,1,2,"tm-rubric-question-edit-details-form",37),e.DNE(15,Xe,1,2,"tm-constsum-options-question-edit-details-form",37),e.DNE(16,He,1,2,"tm-constsum-recipients-question-edit-details-form",37),e.k0s()()()(),e.j41(17,"tm-feedback-path-panel",38),e.bIt("customFeedbackPath",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerModelChange("isUsingOtherFeedbackPath",o))})("customNumberOfEntitiesToGiveFeedbackTo",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerModelChange("customNumberOfEntitiesToGiveFeedbackTo",o))})("numberOfEntitiesToGiveFeedbackToSetting",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerModelChange("numberOfEntitiesToGiveFeedbackToSetting",o))})("triggerModelChangeBatch",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerModelChangeBatch(o))}),e.k0s(),e.j41(18,"tm-visibility-panel",39),e.bIt("customVisibilitySetting",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerModelChange("isUsingOtherVisibilitySetting",o))})("triggerModelChangeBatch",function(o){e.eBV(s);const d=e.XpG();return e.Njj(d.triggerModelChangeBatch(o))}),e.k0s(),e.DNE(19,jt,7,5,"div",40),e.k0s()()}if(2&u){const s=e.XpG();e.Y8G("@collapseAnim",void 0),e.R7$(5),e.Y8G("brief",s.model.questionBrief)("isBriefDisabled",!s.model.isEditable)("description",s.model.questionDescription)("isDescriptionDisabled",!s.model.isEditable),e.R7$(2),e.Y8G("ngIf",s.model.questionType===s.FeedbackQuestionType.TEXT),e.R7$(1),e.Y8G("ngIf",s.model.questionType===s.FeedbackQuestionType.CONTRIB),e.R7$(1),e.Y8G("ngIf",s.model.questionType===s.FeedbackQuestionType.MCQ),e.R7$(1),e.Y8G("ngIf",s.model.questionType===s.FeedbackQuestionType.MSQ),e.R7$(1),e.Y8G("ngIf",s.model.questionType===s.FeedbackQuestionType.NUMSCALE),e.R7$(1),e.Y8G("ngIf",s.model.questionType===s.FeedbackQuestionType.RANK_OPTIONS),e.R7$(1),e.Y8G("ngIf",s.model.questionType===s.FeedbackQuestionType.RANK_RECIPIENTS),e.R7$(1),e.Y8G("ngIf",s.model.questionType===s.FeedbackQuestionType.RUBRIC),e.R7$(1),e.Y8G("ngIf",s.model.questionType===s.FeedbackQuestionType.CONSTSUM_OPTIONS),e.R7$(1),e.Y8G("ngIf",s.model.questionType===s.FeedbackQuestionType.CONSTSUM_RECIPIENTS),e.R7$(1),e.Y8G("model",s.model)("commonFeedbackPaths",s.commonFeedbackPaths)("allowedFeedbackPaths",s.allowedFeedbackPaths),e.R7$(1),e.Y8G("model",s.model)("isCustomFeedbackVisibilitySettingAllowed",s.isCustomFeedbackVisibilitySettingAllowed)("commonFeedbackVisibilitySettings",s.commonFeedbackVisibilitySettings)("visibilityStateMachine",s.visibilityStateMachine),e.R7$(1),e.Y8G("ngIf",!s.isDisplayOnly)}}const Ie=new Set(["giverType","recipientType","isUsingOtherFeedbackPath","numberOfEntitiesToGiveFeedbackToSetting","customNumberOfEntitiesToGiveFeedbackTo"]),xe=new Set(["isUsingOtherVisibilitySetting","showResponsesTo","showGiverNameTo","showRecipientNameTo","commonVisibilitySettingName"]),Pe=new Set(["questionBrief","questionDescription","questionDetails","questionNumber"]);let Ze=(()=>{class u{set formModel(s){this.model=s,this.commonFeedbackPaths=this.feedbackQuestionsService.getCommonFeedbackPaths(s.questionType),this.allowedFeedbackPaths=this.feedbackQuestionsService.getAllowedFeedbackPaths(s.questionType),this.visibilityStateMachine=this.feedbackQuestionsService.getNewVisibilityStateMachine(s.giverType,s.recipientType),this.commonFeedbackVisibilitySettings=this.feedbackQuestionsService.getCommonFeedbackVisibilitySettings(this.visibilityStateMachine,s.questionType);const l={SHOW_RESPONSE:s.showResponsesTo,SHOW_GIVER_NAME:s.showGiverNameTo,SHOW_RECIPIENT_NAME:s.showRecipientNameTo};if(this.visibilityStateMachine.applyVisibilitySettings(l),s.isUsingOtherFeedbackPath||(this.model.isUsingOtherFeedbackPath=!0,this.commonFeedbackPaths.has(s.giverType)&&this.commonFeedbackPaths.get(s.giverType).includes(s.recipientType)&&(this.model.isUsingOtherFeedbackPath=!1)),!s.commonVisibilitySettingName&&!s.isUsingOtherVisibilitySetting){this.model.isUsingOtherVisibilitySetting=!0;for(const o of this.commonFeedbackVisibilitySettings)if(this.isSameSet(l.SHOW_RESPONSE,o.visibilitySettings.SHOW_RESPONSE)&&this.isSameSet(l.SHOW_GIVER_NAME,o.visibilitySettings.SHOW_GIVER_NAME)&&this.isSameSet(l.SHOW_RECIPIENT_NAME,o.visibilitySettings.SHOW_RECIPIENT_NAME)){this.model.commonVisibilitySettingName=o.name,this.model.isUsingOtherVisibilitySetting=!1;break}}}get isCustomFeedbackVisibilitySettingAllowed(){return this.feedbackQuestionsService.isCustomFeedbackVisibilitySettingAllowed(this.model.questionType)}constructor(s,l){this.feedbackQuestionsService=s,this.simpleModalService=l,this.FeedbackQuestionType=b.OX,this.QuestionEditFormMode=C._,this.FeedbackParticipantType=b.tp,this.NumberOfEntitiesToGiveFeedbackToSetting=b.cB,this.VisibilityControl=R.e,this.FeedbackVisibilityType=b.sk,this.numOfQuestions=0,this.formMode=C._.EDIT,this.isDisplayOnly=!1,this.isQuestionPublished=!1,this.model={feedbackQuestionId:"",questionNumber:0,questionBrief:"",questionDescription:"",isQuestionHasResponses:!1,questionType:b.OX.TEXT,questionDetails:{questionType:b.OX.TEXT,questionText:""},giverType:b.tp.STUDENTS,recipientType:b.tp.STUDENTS_EXCLUDING_SELF,numberOfEntitiesToGiveFeedbackToSetting:b.cB.UNLIMITED,customNumberOfEntitiesToGiveFeedbackTo:1,showResponsesTo:[],showGiverNameTo:[],showRecipientNameTo:[],commonVisibilitySettingName:"",isUsingOtherFeedbackPath:!1,isUsingOtherVisibilitySetting:!1,isDeleting:!1,isDuplicating:!1,isEditable:!1,isSaving:!1,isCollapsed:!1,isVisibilityChanged:!1,isFeedbackPathChanged:!1,isQuestionDetailsChanged:!1},this.formModelChange=new e.bkB,this.saveExistingQuestionEvent=new e.bkB,this.deleteCurrentQuestionEvent=new e.bkB,this.duplicateCurrentQuestionEvent=new e.bkB,this.discardExistingQuestionChangesEvent=new e.bkB,this.discardNewQuestionEvent=new e.bkB,this.createNewQuestionEvent=new e.bkB,this.commonFeedbackPaths=new Map,this.allowedFeedbackPaths=new Map,this.commonFeedbackVisibilitySettings=[],this.visibilityStateMachine=this.feedbackQuestionsService.getNewVisibilityStateMachine(this.model.giverType,this.model.recipientType)}isSameSet(s,l){return s.length===l.length&&s.every(o=>l.includes(o))}triggerModelChange(s,l){this.formModelChange.emit({...this.model,[s]:l,...!this.model.isVisibilityChanged&&xe.has(s)&&{isVisibilityChanged:!0},...!this.model.isFeedbackPathChanged&&Ie.has(s)&&{isFeedbackPathChanged:!0},...!this.model.isQuestionDetailsChanged&&Pe.has(s)&&{isQuestionDetailsChanged:!0}})}triggerModelChangeBatch(s){this.formModelChange.emit({...this.model,...s,...!this.model.isVisibilityChanged&&Object.keys(s).some(l=>xe.has(l))&&{isVisibilityChanged:!0},...!this.model.isFeedbackPathChanged&&Object.keys(s).some(l=>Ie.has(l))&&{isFeedbackPathChanged:!0},...!this.model.isQuestionDetailsChanged&&Object.keys(s).some(l=>Pe.has(l))&&{isQuestionDetailsChanged:!0}})}range(s){const l=[];for(let o=0;o<s;o+=1)l.push(o);return l}discardChangesHandler(s){this.model.isVisibilityChanged||this.model.isFeedbackPathChanged||this.model.isQuestionDetailsChanged?this.simpleModalService.openConfirmationModal(`Discard unsaved ${s?"question":"edits"}?`,x.i.WARNING,"Warning: Any unsaved changes will be lost",{cancelMessage:"No, go back to editing"}).result.then(()=>{this.discardChanges()},()=>{}):this.discardChanges()}discardChanges(){this.formMode===C._.EDIT&&this.discardExistingQuestionChangesEvent.emit(),this.formMode===C._.ADD&&this.discardNewQuestionEvent.emit()}saveQuestionHandler(){this.formMode===C._.EDIT&&(this.isQuestionPublished||this.model.isQuestionHasResponses&&(this.model.isQuestionDetailsChanged||this.model.isVisibilityChanged||this.model.isFeedbackPathChanged)?this.model.isFeedbackPathChanged?this.simpleModalService.openConfirmationModal("Save the question?",x.i.DANGER,"\n            <p>You seem to have changed the feedback path settings of this question. Please note that changing the\n            feedback path will cause <b>all existing responses to be deleted.</b> Proceed?</p>\n        ").result.then(()=>{this.saveExistingQuestionEvent.emit()},()=>{}):this.model.isQuestionDetailsChanged?this.simpleModalService.openConfirmationModal("Save the question?",x.i.DANGER,"\n            <p>Editing question settings in a way that potentially affects the validity of existing responses <b> may\n            cause all the existing responses for this question to be deleted.</b> Proceed?</p>\n        ").result.then(()=>{this.saveExistingQuestionEvent.emit()},()=>{}):this.model.isVisibilityChanged&&this.simpleModalService.openConfirmationModal("Save the question?",x.i.WARNING,"\n            <p>You seem to have changed the visibility settings of this question. Please note that <b>the existing\n            responses will remain but their visibility will be changed as per the new visibility settings.</b>\n            Proceed?</p>\n        ").result.then(()=>{this.saveExistingQuestionEvent.emit()},()=>{}):this.saveExistingQuestionEvent.emit()),this.formMode===C._.ADD&&this.createNewQuestionEvent.emit()}duplicateCurrentQuestionHandler(){this.duplicateCurrentQuestionEvent.emit()}deleteCurrentQuestionHandler(){this.deleteCurrentQuestionEvent.emit()}static#e=this.\u0275fac=function(l){return new(l||u)(e.rXU(N.q),e.rXU(I.r))};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-question-edit-form"]],inputs:{formModel:"formModel",numOfQuestions:"numOfQuestions",formMode:"formMode",isDisplayOnly:"isDisplayOnly",isQuestionPublished:"isQuestionPublished"},outputs:{formModelChange:"formModelChange",saveExistingQuestionEvent:"saveExistingQuestionEvent",deleteCurrentQuestionEvent:"deleteCurrentQuestionEvent",duplicateCurrentQuestionEvent:"duplicateCurrentQuestionEvent",discardExistingQuestionChangesEvent:"discardExistingQuestionChangesEvent",discardNewQuestionEvent:"discardNewQuestionEvent",createNewQuestionEvent:"createNewQuestionEvent"},decls:19,vars:11,consts:[[1,"card",3,"id"],[1,"card-header","bg-primary","text-white","cursor-pointer","border-0",3,"click"],[1,"collapse-caret"],[3,"isExpanded"],[1,"d-flex","flex-fill","flex-sm-row","flex-column","align-items-sm-center","align-items-start"],["id","question-header",1,"d-flex","flex-column","text-start"],[1,"d-flex","flex-sm-row","flex-column","align-items-sm-center","align-items-start"],[1,"question-number","fw-bold","me-1"],["id","question-number",4,"ngIf"],["id","question-number-dropdown","class","form-control form-select question-number-select",3,"ngModel","ngModelChange","click",4,"ngIf"],["id","question-type"],[4,"ngIf"],[1,"card-header-btn-toolbar","ms-0","ms-sm-auto","text-start"],["id","question-number"],["id","question-number-dropdown",1,"form-control","form-select","question-number-select",3,"ngModel","ngModelChange","click"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"collapse-qn-description"],["id","btn-edit-question","type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["id","btn-save-question","type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["id","btn-delete-question","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-trash"],["id","btn-duplicate-question","type","button","container","body","ngbTooltip","Make a copy of the existing question and add to the current feedback session.","container","body",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"far","fa-copy"],["id","btn-edit-question","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-pencil-alt"],["id","btn-save-question","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-check"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-ban"],[1,"card-body"],[1,"background-color-light-blue"],[1,"row"],[1,"col-12"],[3,"brief","isBriefDisabled","description","isDescriptionDisabled","briefChange","descriptionChange"],[1,"padding-15px"],[3,"details","isEditable","detailsChange",4,"ngIf"],[3,"model","commonFeedbackPaths","allowedFeedbackPaths","customFeedbackPath","customNumberOfEntitiesToGiveFeedbackTo","numberOfEntitiesToGiveFeedbackToSetting","triggerModelChangeBatch"],[3,"model","isCustomFeedbackVisibilitySettingAllowed","commonFeedbackVisibilitySettings","visibilityStateMachine","customVisibilitySetting","triggerModelChangeBatch"],["class","row margin-top-15px",4,"ngIf"],[3,"details","isEditable","detailsChange"],[1,"row","margin-top-15px"],[1,"col-12","text-end"],["type","button","class","btn btn-light btn-margin-right",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"],["id","btn-save-new",4,"ngIf"],["type","button",1,"btn","btn-light","btn-margin-right",3,"disabled","click"],["id","btn-save-new"]],template:function(l,o){1&l&&(e.j41(0,"div",0)(1,"button",1),e.bIt("click",function(){return o.triggerModelChange("isCollapsed",!o.model.isCollapsed)}),e.j41(2,"div",2),e.nrm(3,"tm-panel-chevron",3),e.k0s(),e.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),e.EFF(8,"Question "),e.DNE(9,Ue,2,1,"span",8),e.DNE(10,qe,2,2,"select",9),e.k0s(),e.j41(11,"span",10),e.EFF(12),e.nI1(13,"questionTypeName"),e.k0s()(),e.DNE(14,$e,3,1,"ng-container",11),e.k0s(),e.j41(15,"div",12),e.DNE(16,wt,12,7,"div",11),e.DNE(17,Ot,4,1,"div",11),e.k0s()()(),e.DNE(18,Ke,20,23,"div",11),e.k0s()),2&l&&(e.Mz_("id","question-form-",o.model.questionNumber,""),e.R7$(3),e.Y8G("isExpanded",!o.model.isCollapsed),e.R7$(6),e.Y8G("ngIf",!o.model.isEditable),e.R7$(1),e.Y8G("ngIf",o.model.isEditable),e.R7$(2),e.JRh(e.bMT(13,9,o.model.questionType)),e.R7$(2),e.Y8G("ngIf",o.model.isCollapsed),e.R7$(2),e.Y8G("ngIf",o.formMode===o.QuestionEditFormMode.EDIT),e.R7$(1),e.Y8G("ngIf",o.formMode===o.QuestionEditFormMode.ADD),e.R7$(1),e.Y8G("ngIf",!o.model.isCollapsed))},dependencies:[w.Sq,w.bT,g.xH,g.y7,g.wz,g.BC,g.vS,V.md,z.y,Z.Q,f,B,ht,mt,de,me,ne,pe,bt,Ct,vt.F,Et.c,Tt.I,Qe.c],styles:[".question-number-select[_ngcontent-%COMP%]{height:32px;width:auto;display:inline;margin-left:6px;margin-right:5px}.question-number[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:0}.background-color-light-blue[_ngcontent-%COMP%]{background-color:#eaeff5}.padding-15px[_ngcontent-%COMP%]{padding:15px}.padding-left-15px[_ngcontent-%COMP%]{padding-left:15px}.margin-top-15px[_ngcontent-%COMP%]{margin-top:15px}.collapse-caret[_ngcontent-%COMP%]{margin-right:10px}.collapse-qn-description[_ngcontent-%COMP%]{font-weight:300}"],data:{animation:[O.j]}})}return u})()},36650:(H,L,p)=>{p.d(L,{j:()=>Q});var e=p(60177),C=p(89417),b=p(94227),R=p(85385),x=p(45069),O=p(57125),N=p(65415),I=p(86709),w=p(44661),g=p(48381),V=p(17705);let z=(()=>{class U{static#e=this.\u0275fac=function(v){return new(v||U)};static#t=this.\u0275mod=V.$C({type:U});static#i=this.\u0275inj=V.G2t({imports:[e.MD,I.ad,C.YN,b.n8,w.x,g.d]})}return U})();var Z=p(73453),$=p(82017);let Q=(()=>{class U{static#e=this.\u0275fac=function(v){return new(v||U)};static#t=this.\u0275mod=V.$C({type:U});static#i=this.\u0275inj=V.G2t({imports:[e.MD,C.YN,b.HC,b.zH,b.n8,R.D,Z.D,w.x,N.z,z,O.o,x.d,$.L]})}return U})()},68705:(H,L,p)=>{p.d(L,{c:()=>b});var e=p(40035),C=p(17705);let b=(()=>{class R{transform(O){switch(O){case e.OX.MCQ:return"Multiple-choice (single answer) question";case e.OX.CONTRIB:return"Team contribution question";case e.OX.TEXT:return"Essay question";case e.OX.NUMSCALE:return"Numerical-scale question";case e.OX.MSQ:return"Multiple-choice (multiple answers) question";case e.OX.RANK_OPTIONS:return"Rank (options) question";case e.OX.RANK_RECIPIENTS:return"Rank (recipients) question";case e.OX.RUBRIC:return"Rubric question";case e.OX.CONSTSUM_OPTIONS:return"Distribute points (among options) question";case e.OX.CONSTSUM_RECIPIENTS:return"Distribute points (among recipients) question";default:return"Unknown"}}static#e=this.\u0275fac=function(N){return new(N||R)};static#t=this.\u0275pipe=C.EJ8({name:"questionTypeName",type:R,pure:!0})}return R})()},26043:(H,L,p)=>{p.d(L,{v:()=>C});var e=p(17705);let C=(()=>{class b{transform(x){let O="can see your response";return x.SHOW_RECIPIENT_NAME?(O+=", the name of the recipient",O+=x.SHOW_GIVER_NAME?", and your name":", but not your name"):O+=x.SHOW_GIVER_NAME?", and your name, but not the name of the recipient":", but not the name of the recipient, or your name",O}static#e=this.\u0275fac=function(O){return new(O||b)};static#t=this.\u0275pipe=e.EJ8({name:"visibilityCapability",type:b,pure:!0})}return b})()},76170:(H,L,p)=>{p.d(L,{L:()=>b});var e=p(40035),C=p(17705);let b=(()=>{class R{transform(O,N,I,w){switch(O){case e.sk.RECIPIENT:{let g="";switch(N){case e.tp.INSTRUCTORS:g="instructor";break;case e.tp.STUDENTS:case e.tp.STUDENTS_EXCLUDING_SELF:case e.tp.STUDENTS_IN_SAME_SECTION:case e.tp.OWN_TEAM_MEMBERS:case e.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF:g="student";break;case e.tp.TEAMS:case e.tp.TEAMS_EXCLUDING_SELF:case e.tp.TEAMS_IN_SAME_SECTION:case e.tp.OWN_TEAM:g="team";break;default:return"unknown"}return[e.tp.INSTRUCTORS,e.tp.STUDENTS,e.tp.STUDENTS_EXCLUDING_SELF,e.tp.TEAMS,e.tp.TEAMS_EXCLUDING_SELF].includes(N)&&(I===e.cB.UNLIMITED||I===e.cB.CUSTOM&&void 0!==w&&w>1)&&(g=`${g}s`),`The receiving ${g}`}case e.sk.GIVER_TEAM_MEMBERS:return"Your team members";case e.sk.INSTRUCTORS:return"Instructors in this course";case e.sk.STUDENTS:return"Other students in the course";case e.sk.RECIPIENT_TEAM_MEMBERS:return"The recipient's team members";default:return"Unknown"}}static#e=this.\u0275fac=function(N){return new(N||R)};static#t=this.\u0275pipe=C.EJ8({name:"visibilityEntityName",type:R,pure:!0})}return R})()},73453:(H,L,p)=>{p.d(L,{D:()=>b});var e=p(60177),C=p(17705);let b=(()=>{class R{static#e=this.\u0275fac=function(N){return new(N||R)};static#t=this.\u0275mod=C.$C({type:R});static#i=this.\u0275inj=C.G2t({imports:[e.MD]})}return R})()},94612:(H,L,p)=>{p.d(L,{I:()=>se});var e=p(17705),C=p(43246),b=p(40035),R=p(40261),x=p(60177),O=p(94227),N=p(64943);let I=(()=>{class D{transform(F){switch(F){case R.e.SHOW_RESPONSE:return"Can see answer";case R.e.SHOW_RECIPIENT_NAME:return"Can see recipient's name";case R.e.SHOW_GIVER_NAME:return"Can see giver's name";default:return"Unknown"}}static#e=this.\u0275fac=function(A){return new(A||D)};static#t=this.\u0275pipe=e.EJ8({name:"visibilityControlName",type:D,pure:!0})}return D})(),w=(()=>{class D{transform(F){switch(F){case b.sk.RECIPIENT:return"Control what feedback recipient(s) can view";case b.sk.INSTRUCTORS:return"Control what instructors can view";case b.sk.GIVER_TEAM_MEMBERS:return"Control what team members of feedback giver can view";case b.sk.RECIPIENT_TEAM_MEMBERS:return"Control what team members of feedback recipients can view";case b.sk.STUDENTS:return"Control what other students can view";default:return"Unknown"}}static#e=this.\u0275fac=function(A){return new(A||D)};static#t=this.\u0275pipe=e.EJ8({name:"visibilityTypeDescription",type:D,pure:!0})}return D})(),g=(()=>{class D{transform(F){switch(F){case b.sk.RECIPIENT:return"Recipient(s)";case b.sk.INSTRUCTORS:return"Instructors";case b.sk.GIVER_TEAM_MEMBERS:return"Giver's Team Members";case b.sk.RECIPIENT_TEAM_MEMBERS:return"Recipient's Team Members";case b.sk.STUDENTS:return"Other students";default:return"Unknown"}}static#e=this.\u0275fac=function(A){return new(A||D)};static#t=this.\u0275pipe=e.EJ8({name:"visibilityTypeName",type:D,pure:!0})}return D})();var V=p(76170),z=p(26043);function Z(D,q){1&D&&(e.j41(0,"div")(1,"p",15),e.EFF(2,"Changing the visibility after collecting responses is not recommended."),e.k0s(),e.j41(3,"p"),e.EFF(4,"Reason: The existing responses were submitted under the 'promise' of a certain visibility and changing the visibility later 'breaks' that promise."),e.k0s()())}function $(D,q){if(1&D&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&D){const F=e.XpG();e.R7$(1),e.SpI(" ",F.model.commonVisibilitySettingName," ")}}function Q(D,q){1&D&&(e.j41(0,"span"),e.EFF(1,"Custom visibility options"),e.k0s())}function U(D,q){if(1&D){const F=e.RV6();e.j41(0,"li",16)(1,"button",17),e.bIt("click",function(){const W=e.eBV(F).$implicit,ae=e.XpG();return e.Njj(ae.applyCommonVisibilitySettings(W))}),e.EFF(2),e.k0s()()}if(2&D){const F=q.$implicit;e.R7$(2),e.JRh(F.name)}}function J(D,q){1&D&&e.nrm(0,"li",18)}function K(D,q){if(1&D){const F=e.RV6();e.j41(0,"li",16)(1,"button",17),e.bIt("click",function(){e.eBV(F);const B=e.XpG();return e.Njj(B.triggerCustomVisibilitySetting())}),e.EFF(2,"Custom visibility options..."),e.k0s()()}}function v(D,q){if(1&D&&(e.j41(0,"th",23),e.EFF(1),e.nI1(2,"visibilityControlName"),e.k0s()),2&D){const F=q.$implicit;e.R7$(1),e.JRh(e.bMT(2,1,F))}}function S(D,q){if(1&D){const F=e.RV6();e.j41(0,"td",26)(1,"input",27),e.bIt("click",function(B){const ae=e.eBV(F).$implicit,le=e.XpG(2).$implicit,Ce=e.XpG(2);return e.Njj(Ce.modifyVisibilityControl(B.target.checked,le,ae))}),e.k0s()()}if(2&D){const F=q.$implicit,A=e.XpG(2).$implicit,B=e.XpG(2);e.R7$(1),e.Y8G("checked",B.visibilityStateMachine.isVisible(A,F))("disabled",!B.visibilityStateMachine.isCellEditable(A,F)||!B.model.isEditable),e.BMQ("aria-label",B.getCheckboxAriaLabel(A,F))}}function f(D,q){if(1&D&&(e.j41(0,"tr")(1,"td")(2,"span",24),e.nI1(3,"visibilityTypeDescription"),e.EFF(4),e.nI1(5,"visibilityTypeName"),e.k0s()(),e.DNE(6,S,2,3,"td",25),e.nI1(7,"enumToArray"),e.k0s()),2&D){const F=e.XpG().$implicit,A=e.XpG(2);e.R7$(2),e.Y8G("ngbTooltip",e.bMT(3,3,F)),e.R7$(2),e.JRh(e.bMT(5,5,F)),e.R7$(2),e.Y8G("ngForOf",e.bMT(7,7,A.VisibilityControl))}}function T(D,q){if(1&D&&(e.qex(0),e.DNE(1,f,8,9,"tr",1),e.bVm()),2&D){const F=q.$implicit,A=e.XpG(2);e.R7$(1),e.Y8G("ngIf",A.visibilityStateMachine.isVisibilityTypeApplicable(F))}}function y(D,q){if(1&D&&(e.j41(0,"table",19)(1,"thead")(2,"tr")(3,"th",20),e.EFF(4,"User/Group"),e.k0s(),e.DNE(5,v,3,3,"th",21),e.nI1(6,"enumToArray"),e.k0s()(),e.j41(7,"tbody",22),e.DNE(8,T,2,1,"ng-container",14),e.nI1(9,"enumToArray"),e.k0s()()),2&D){const F=e.XpG();e.R7$(5),e.Y8G("ngForOf",e.bMT(6,2,F.VisibilityControl)),e.R7$(3),e.Y8G("ngForOf",e.bMT(9,4,F.FeedbackVisibilityType))}}function P(D,q){1&D&&(e.j41(0,"li"),e.EFF(1,"You can see your own feedback in the results page later on."),e.k0s())}function Y(D,q){if(1&D&&(e.j41(0,"li"),e.EFF(1),e.nI1(2,"visibilityEntityName"),e.nI1(3,"visibilityCapability"),e.k0s()),2&D){const F=e.XpG().$implicit,A=e.XpG();e.R7$(1),e.Lme(" ",e.ii3(2,2,F,A.model.recipientType,A.model.numberOfEntitiesToGiveFeedbackToSetting,A.model.customNumberOfEntitiesToGiveFeedbackTo)," ",e.bMT(3,7,A.visibilityStateMachine.getVisibilityControlUnderVisibilityType(F))," ")}}function ie(D,q){if(1&D&&(e.qex(0),e.DNE(1,Y,4,9,"li",1),e.bVm()),2&D){const F=q.$implicit,A=e.XpG();e.R7$(1),e.Y8G("ngIf",A.visibilityStateMachine.isVisibilityTypeApplicable(F)&&A.visibilityStateMachine.hasAnyVisibilityControl(F))}}function re(D,q){1&D&&(e.j41(0,"li"),e.EFF(1,"No-one can see your responses"),e.k0s())}const fe=function(D,q){return{"background-color-light-green":D,"alert alert-danger":q}},be=function(D){return{"visibility-title":D}};let se=(()=>{class D{constructor(){this.FeedbackParticipantType=b.tp,this.FeedbackQuestionType=b.OX,this.NumberOfEntitiesToGiveFeedbackToSetting=b.cB,this.VisibilityControl=R.e,this.FeedbackVisibilityType=b.sk,this.model={feedbackQuestionId:"",questionNumber:0,questionBrief:"",questionDescription:"",isQuestionHasResponses:!1,questionType:b.OX.TEXT,questionDetails:{questionType:b.OX.TEXT,questionText:""},giverType:b.tp.STUDENTS,recipientType:b.tp.STUDENTS_EXCLUDING_SELF,numberOfEntitiesToGiveFeedbackToSetting:b.cB.CUSTOM,customNumberOfEntitiesToGiveFeedbackTo:1,showResponsesTo:[],showGiverNameTo:[],showRecipientNameTo:[],commonVisibilitySettingName:"Please select a visibility option",isUsingOtherFeedbackPath:!1,isUsingOtherVisibilitySetting:!1,isDeleting:!1,isDuplicating:!1,isEditable:!1,isSaving:!1,isCollapsed:!1,isVisibilityChanged:!1,isFeedbackPathChanged:!1,isQuestionDetailsChanged:!1},this.isCustomFeedbackVisibilitySettingAllowed=!1,this.commonFeedbackVisibilitySettings=[],this.visibilityStateMachine=new C.b(this.model.giverType,this.model.recipientType),this.customVisibilitySetting=new e.bkB,this.triggerModelChangeBatch=new e.bkB,this.visibilityStateMachineChange=new e.bkB,this.visibilityTypeAriaLabels=new Map([[b.sk.RECIPIENT,"Recipient(s)"],[b.sk.GIVER_TEAM_MEMBERS,"Giver's Team Members"],[b.sk.RECIPIENT_TEAM_MEMBERS,"Recipient's Team Members"],[b.sk.STUDENTS,"Other Students"],[b.sk.INSTRUCTORS,"Instructors"]]),this.visibilityControlAriaLabels=new Map([[R.e.SHOW_RESPONSE,"Answer"],[R.e.SHOW_GIVER_NAME,"Giver's Name"],[R.e.SHOW_RECIPIENT_NAME,"Recipient's Name"]])}triggerCustomVisibilitySetting(){this.customVisibilitySetting.emit(!0)}getCheckboxAriaLabel(F,A){return`${this.visibilityTypeAriaLabels.get(F)||""} can see ${this.visibilityControlAriaLabels.get(A)||""}`}applyCommonVisibilitySettings(F){this.triggerModelChangeBatch.emit({showResponsesTo:F.visibilitySettings.SHOW_RESPONSE,showGiverNameTo:F.visibilitySettings.SHOW_GIVER_NAME,showRecipientNameTo:F.visibilitySettings.SHOW_RECIPIENT_NAME,commonVisibilitySettingName:F.name,isUsingOtherVisibilitySetting:!1})}modifyVisibilityControl(F,A,B){F?(this.visibilityStateMachine.allowToSee(A,B),this.visibilityStateMachineChange.emit(this.visibilityStateMachine)):(this.visibilityStateMachine.disallowToSee(A,B),this.visibilityStateMachineChange.emit(this.visibilityStateMachine)),this.triggerModelChangeBatch.emit({showResponsesTo:this.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(R.e.SHOW_RESPONSE),showGiverNameTo:this.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(R.e.SHOW_GIVER_NAME),showRecipientNameTo:this.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(R.e.SHOW_RECIPIENT_NAME)})}static#e=this.\u0275fac=function(A){return new(A||D)};static#t=this.\u0275cmp=e.VBU({type:D,selectors:[["tm-visibility-panel"]],inputs:{model:"model",isCustomFeedbackVisibilitySettingAllowed:"isCustomFeedbackVisibilitySettingAllowed",commonFeedbackVisibilitySettings:"commonFeedbackVisibilitySettings",visibilityStateMachine:"visibilityStateMachine"},outputs:{customVisibilitySetting:"customVisibilitySetting",triggerModelChangeBatch:"triggerModelChangeBatch",visibilityStateMachineChange:"visibilityStateMachineChange"},decls:25,vars:20,consts:[[1,"margin-top-15px","padding-15px",3,"ngClass"],[4,"ngIf"],[3,"ngClass"],["ngbDropdown","",1,"margin-top-15px"],["id","btn-question-visibility","ngbDropdownToggle","",1,"btn","btn-light","white-space-normal",3,"disabled"],["id","question-visibility-dropdown","ngbDropdownMenu",""],[1,"dropdown-header"],["class","text-wrap dropdown-item",4,"ngFor","ngForOf"],["class","dropdown-divider","aria-hidden","true",4,"ngIf"],["class","text-wrap dropdown-item",4,"ngIf"],[1,"table-responsive"],["class","table margin-top-15px background-color-white table-striped","aria-label","Custom Visibility Options Table",4,"ngIf"],[1,"margin-top-15px","visibility-message"],[1,"text-muted","background-color-warning"],[4,"ngFor","ngForOf"],[1,"fs-6","fw-bold"],[1,"text-wrap","dropdown-item"],[1,"dropdown-button",3,"click"],["aria-hidden","true",1,"dropdown-divider"],["aria-label","Custom Visibility Options Table",1,"table","margin-top-15px","background-color-white","table-striped"],["scope","col",1,"text-start"],["scope","col","class","text-center",4,"ngFor","ngForOf"],["id","custom-visibility-table"],["scope","col",1,"text-center"],["container","body",1,"ngb-tooltip-class",3,"ngbTooltip"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],["type","checkbox",3,"checked","disabled","click"]],template:function(A,B){1&A&&(e.j41(0,"div",0)(1,"div"),e.DNE(2,Z,5,0,"div",1),e.j41(3,"b",2),e.EFF(4,"Visibility"),e.k0s(),e.EFF(5," (Who can see the responses?) "),e.k0s(),e.j41(6,"div",3)(7,"button",4),e.DNE(8,$,2,1,"span",1),e.DNE(9,Q,2,0,"span",1),e.k0s(),e.j41(10,"ul",5)(11,"li",6),e.EFF(12,"Common visibility options"),e.k0s(),e.DNE(13,U,3,1,"li",7),e.DNE(14,J,1,0,"li",8),e.DNE(15,K,3,0,"li",9),e.k0s()(),e.j41(16,"div",10),e.DNE(17,y,10,6,"table",11),e.k0s(),e.j41(18,"div",12),e.EFF(19," This is the visibility hint as seen by the feedback giver: "),e.j41(20,"ul",13),e.DNE(21,P,2,0,"li",1),e.DNE(22,ie,2,1,"ng-container",14),e.nI1(23,"enumToArray"),e.DNE(24,re,2,0,"li",1),e.k0s()()()),2&A&&(e.Y8G("ngClass",e.l_i(15,fe,!B.model.isQuestionHasResponses,B.model.isQuestionHasResponses)),e.R7$(2),e.Y8G("ngIf",B.model.isQuestionHasResponses),e.R7$(1),e.Y8G("ngClass",e.eq3(18,be,!B.model.isQuestionHasResponses)),e.R7$(4),e.Y8G("disabled",!B.model.isEditable),e.R7$(1),e.Y8G("ngIf",!B.model.isUsingOtherVisibilitySetting),e.R7$(1),e.Y8G("ngIf",B.model.isUsingOtherVisibilitySetting),e.R7$(4),e.Y8G("ngForOf",B.commonFeedbackVisibilitySettings),e.R7$(1),e.Y8G("ngIf",B.isCustomFeedbackVisibilitySettingAllowed),e.R7$(1),e.Y8G("ngIf",B.isCustomFeedbackVisibilitySettingAllowed),e.R7$(2),e.Y8G("ngIf",B.model.isUsingOtherVisibilitySetting),e.R7$(4),e.Y8G("ngIf",B.model.recipientType===B.FeedbackParticipantType.SELF),e.R7$(1),e.Y8G("ngForOf",e.bMT(23,13,B.FeedbackVisibilityType)),e.R7$(2),e.Y8G("ngIf",!B.visibilityStateMachine.hasAnyVisibilityControlForAll()))},dependencies:[x.YU,x.Sq,x.bT,O.tg,O.do,O.U0,O.md,N.y,I,w,g,V.L,z.v],styles:[".background-color-light-green[_ngcontent-%COMP%]{background-color:#e0eeee}.background-color-warning[_ngcontent-%COMP%]{background-color:#fcf8e3}.background-color-white[_ngcontent-%COMP%]{background-color:#fff}.margin-top-15px[_ngcontent-%COMP%]{margin-top:15px}.padding-15px[_ngcontent-%COMP%]{padding:15px}.visibility-title[_ngcontent-%COMP%]{color:#2aabd2}.visibility-message[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-top:5px;padding:5px 25px;margin-bottom:0}.visibility-message[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{cursor:default}.white-space-normal[_ngcontent-%COMP%]{white-space:normal}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}.dropdown-button[_ngcontent-%COMP%]{border:none;background:none;width:100%;text-align:left}"]})}return D})()},82017:(H,L,p)=>{p.d(L,{L:()=>N});var e=p(60177),C=p(89417),b=p(94227),R=p(44661),x=p(73453),O=p(17705);let N=(()=>{class I{static#e=this.\u0275fac=function(V){return new(V||I)};static#t=this.\u0275mod=O.$C({type:I});static#i=this.\u0275inj=O.G2t({imports:[e.MD,C.YN,b.zH,b.n8,R.x,x.D]})}return I})()},86709:(H,L,p)=>{p.d(L,{T1:()=>fi,Fb:()=>hi,O7:()=>bi,ad:()=>an,HD:()=>ai});var e=p(17705),C=p(60177);function b(a){return null!=a&&"false"!=`${a}`}function R(a,i=0){return function x(a){return!isNaN(parseFloat(a))&&!isNaN(Number(a))}(a)?Number(a):i}function I(a){return a instanceof e.aKT?a.nativeElement:a}var g=p(21413),V=p(7673),z=p(71985),Z=p(33726),$=p(96780),Q=p(18359);const U={schedule(a){let i=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:n}=U;n&&(i=n.requestAnimationFrame,t=n.cancelAnimationFrame);const r=i(c=>{t=void 0,a(c)});return new Q.yU(()=>t?.(r))},requestAnimationFrame(...a){const{delegate:i}=U;return(i?.requestAnimationFrame||requestAnimationFrame)(...a)},cancelAnimationFrame(...a){const{delegate:i}=U;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...a)},delegate:void 0};var K=p(39687);const S=new class v extends K.q{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw r}}}(class J extends $.R{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=U.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:c}=i;null!=t&&(null===(r=c[c.length-1])||void 0===r?void 0:r.id)!==t&&(U.cancelAnimationFrame(t),i._scheduled=void 0)}});let y,T=1;const P={};function Y(a){return a in P&&(delete P[a],!0)}const ie={setImmediate(a){const i=T++;return P[i]=!0,y||(y=Promise.resolve()),y.then(()=>Y(i)&&a()),i},clearImmediate(a){Y(a)}},{setImmediate:fe,clearImmediate:be}=ie,se={setImmediate(...a){const{delegate:i}=se;return(i?.setImmediate||fe)(...a)},clearImmediate(a){const{delegate:i}=se;return(i?.clearImmediate||be)(a)},delegate:void 0};new class q extends K.q{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw r}}}(class D extends $.R{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=se.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,t,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:c}=i;null!=t&&(null===(r=c[c.length-1])||void 0===r?void 0:r.id)!==t&&(se.clearImmediate(t),i._scheduled===t&&(i._scheduled=void 0))}});var B=p(43236),W=p(39974),ae=p(58750),le=p(54360),De=p(41584);function Se(a,i=B.E){return function Ce(a){return(0,W.N)((i,t)=>{let n=!1,r=null,c=null,m=!1;const _=()=>{if(c?.unsubscribe(),c=null,n){n=!1;const M=r;r=null,t.next(M)}m&&t.complete()},E=()=>{c=null,m&&t.complete()};i.subscribe((0,le._)(t,M=>{n=!0,r=M,c||(0,ae.Tg)(a(M)).subscribe(c=(0,le._)(t,_,E))},()=>{m=!0,(!n||!c||c.closed)&&t.complete()}))})}(()=>(0,De.O)(a,i))}var Re=p(5964);let ve;try{ve=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ve=!1}let ce,Te,Fe=(()=>{class a{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,C.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ve)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||a)(e.KVO(e.Agw))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function de(a){return function Ve(){if(null==ce&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ce=!0}))}finally{ce=ce||!1}return ce}()?a:!!a.capture}function Oe(a){if(function je(){if(null==Te){const a=typeof document<"u"?document.head:null;Te=!(!a||!a.createShadowRoot&&!a.attachShadow)}return Te}()){const i=a.getRootNode?a.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function pe(a){return a.composedPath?a.composedPath()[0]:a.target}let Ue=(()=>{class a{constructor(t,n,r){this._ngZone=t,this._platform=n,this._scrolled=new g.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new z.c(n=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Se(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,V.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const r=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe((0,Re.p)(c=>!c||r.indexOf(c)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((r,c)=>{this._scrollableContainsElement(c,t)&&n.push(c)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let r=I(n),c=t.getElementRef().nativeElement;do{if(r==c)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,Z.R)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||a)(e.KVO(e.SKi),e.KVO(Fe),e.KVO(C.qQ,8))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),$e=(()=>{class a{constructor(t,n,r){this._platform=t,this._change=new g.B,this._changeListener=c=>{this._change.next(c)},this._document=r,n.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),r=t.documentElement,c=r.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||n.scrollY||r.scrollTop||0,left:-c.left||t.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Se(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||a)(e.KVO(Fe),e.KVO(e.SKi),e.KVO(C.qQ,8))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Ye=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({})}return a})();var Ut=p(88141),qt=p(96354),Je=p(96697),et=p(57786),Ne=p(56977),tt=p(99172),ji=p(25558);const Qi=new e.nKC("cdk-dir-doc",{providedIn:"root",factory:function Ui(){return(0,e.WQX)(C.qQ)}}),qi=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Xt=(()=>{class a{constructor(t){this.value="ltr",this.change=new e.bkB,t&&(this.value=function $i(a){const i=a?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?qi.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||a)(e.KVO(Qi,8))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function it(a,i,t){for(let n in i)if(i.hasOwnProperty(n)){const r=i[n];r?a.setProperty(n,r,t?.has(n)?"important":""):a.removeProperty(n)}return a}function ge(a,i){const t=i?"":"none";it(a.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Ht(a,i,t){it(a.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},t)}function Ae(a,i){return i&&"none"!=i?a+" "+i:a}function zt(a){const i=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*i}function nt(a,i){return a.getPropertyValue(i).split(",").map(n=>n.trim())}function st(a){const i=a.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function ot(a,i,t){const{top:n,bottom:r,left:c,right:m}=a;return t>=n&&t<=r&&i>=c&&i<=m}function ye(a,i,t){a.top+=i,a.bottom=a.top+a.height,a.left+=t,a.right=a.left+a.width}function Kt(a,i,t,n){const{top:r,right:c,bottom:m,left:_,width:E,height:M}=a,G=E*i,X=M*i;return n>r-X&&n<m+X&&t>_-G&&t<c+G}class Zt{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:st(t)})})}handleScroll(i){const t=pe(i),n=this.positions.get(t);if(!n)return null;const r=n.scrollPosition;let c,m;if(t===this._document){const M=this.getViewportScrollPosition();c=M.top,m=M.left}else c=t.scrollTop,m=t.scrollLeft;const _=r.top-c,E=r.left-m;return this.positions.forEach((M,G)=>{M.clientRect&&t!==G&&t.contains(G)&&ye(M.clientRect,_,E)}),r.top=c,r.left=m,{top:_,left:E}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Jt(a){const i=a.cloneNode(!0),t=i.querySelectorAll("[id]"),n=a.nodeName.toLowerCase();i.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===n?ii(a,i):("input"===n||"select"===n||"textarea"===n)&&ti(a,i),ei("canvas",a,i,ii),ei("input, textarea, select",a,i,ti),i}function ei(a,i,t,n){const r=i.querySelectorAll(a);if(r.length){const c=t.querySelectorAll(a);for(let m=0;m<r.length;m++)n(r[m],c[m])}}let Wi=0;function ti(a,i){"file"!==i.type&&(i.value=a.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${Wi++}`)}function ii(a,i){const t=i.getContext("2d");if(t)try{t.drawImage(a,0,0)}catch{}}const ni=de({passive:!0}),Be=de({passive:!1}),rt=new Set(["position"]);class Hi{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const t=b(i);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(n=>ge(n,t)))}constructor(i,t,n,r,c,m){this._config=t,this._document=n,this._ngZone=r,this._viewportRuler=c,this._dragDropRegistry=m,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new g.B,this._pointerMoveSubscription=Q.yU.EMPTY,this._pointerUpSubscription=Q.yU.EMPTY,this._scrollSubscription=Q.yU.EMPTY,this._resizeSubscription=Q.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new g.B,this.started=new g.B,this.released=new g.B,this.ended=new g.B,this.entered=new g.B,this.exited=new g.B,this.dropped=new g.B,this.moved=this._moveEvents,this._pointerDown=_=>{if(this.beforeStarted.next(),this._handles.length){const E=this._getTargetHandle(_);E&&!this._disabledHandles.has(E)&&!this.disabled&&this._initializeDragSequence(E,_)}else this.disabled||this._initializeDragSequence(this._rootElement,_)},this._pointerMove=_=>{const E=this._getPointerPositionOnPage(_);if(!this._hasStartedDragging){if(Math.abs(E.x-this._pickupPositionOnPage.x)+Math.abs(E.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const ue=Date.now()>=this._dragStartTime+this._getDragStartDelay(_),he=this._dropContainer;if(!ue)return void this._endDragSequence(_);(!he||!he.isDragging()&&!he.isReceiving())&&(_.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(_)))}return}_.preventDefault();const M=this._getConstrainedPointerPosition(E);if(this._hasMoved=!0,this._lastKnownPointerPosition=E,this._updatePointerDirectionDelta(M),this._dropContainer)this._updateActiveDropContainer(M,E);else{const G=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,X=this._activeTransform;X.x=M.x-G.x+this._passiveTransform.x,X.y=M.y-G.y+this._passiveTransform.y,this._applyRootElementTransform(X.x,X.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:M,event:_,distance:this._getDragDistance(M),delta:this._pointerDirectionDelta})})},this._pointerUp=_=>{this._endDragSequence(_)},this._nativeDragStart=_=>{if(this._handles.length){const E=this._getTargetHandle(_);E&&!this._disabledHandles.has(E)&&!this.disabled&&_.preventDefault()}else this.disabled||_.preventDefault()},this.withRootElement(i).withParent(t.parentDragRef||null),this._parentPositions=new Zt(n),m.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(n=>I(n)),this._handles.forEach(n=>ge(n,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const t=I(i);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Be),t.addEventListener("touchstart",this._pointerDown,ni),t.addEventListener("dragstart",this._nativeDragStart,Be)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?I(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),ge(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),ge(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){ke(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const n=this._rootElement,r=n.parentNode,c=this._placeholder=this._createPlaceholderElement(),m=this._anchor=this._anchor||this._document.createComment(""),_=this._getShadowRoot();r.insertBefore(m,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),Ht(n,!1,rt),this._document.body.appendChild(r.replaceChild(c,n)),this._getPreviewInsertionPoint(r,_).appendChild(this._preview),this.started.next({source:this,event:i}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(i,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),r=ke(t),c=!r&&0!==t.button,m=this._rootElement,_=pe(t),E=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),M=r?function Li(a){const i=a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}(t):function Bi(a){return 0===a.buttons||0===a.detail}(t);if(_&&_.draggable&&"mousedown"===t.type&&t.preventDefault(),n||c||E||M)return;if(this._handles.length){const ee=m.style;this._rootElementTapHighlight=ee.webkitTapHighlightColor||"",ee.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ee=>this._updateOnScroll(ee)),this._boundaryElement&&(this._boundaryRect=st(this._boundaryElement));const G=this._previewTemplate;this._pickupPositionInElement=G&&G.template&&!G.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,i,t);const X=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:X.x,y:X.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(i){Ht(this._rootElement,!0,rt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),r=this._getPointerPositionOnPage(i),c=this._getDragDistance(r),m=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:c,dropPoint:r,event:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:m,distance:c,dropPoint:r,event:i}),t.drop(this,n,this._initialIndex,this._initialContainer,m,c,r,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:t},{x:n,y:r}){let c=this._initialContainer._getSiblingContainerFromPosition(this,i,t);!c&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,t)&&(c=this._initialContainer),c&&c!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=c,this._dropContainer.enter(this,i,t,c===this._initialContainer&&c.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:c,currentIndex:c.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,i,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,t):this._applyPreviewTransform(i-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,t=this.previewClass,n=i?i.template:null;let r;if(n&&i){const c=i.matchSize?this._initialClientRect:null,m=i.viewContainer.createEmbeddedView(n,i.context);m.detectChanges(),r=oi(m,this._document),this._previewRef=m,i.matchSize?ri(r,c):r.style.transform=Le(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=Jt(this._rootElement),ri(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return it(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},rt),ge(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(c=>r.classList.add(c)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const t=function Yi(a){const i=getComputedStyle(a),t=nt(i,"transition-property"),n=t.find(_=>"transform"===_||"all"===_);if(!n)return 0;const r=t.indexOf(n),c=nt(i,"transition-duration"),m=nt(i,"transition-delay");return zt(c[r])+zt(m[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const r=m=>{(!m||pe(m)===this._preview&&"transform"===m.propertyName)&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(c))},c=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,t=i?i.template:null;let n;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),n=oi(this._placeholderRef,this._document)):n=Jt(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(i,t,n){const r=t===this._rootElement?null:t,c=r?r.getBoundingClientRect():i,m=ke(n)?n.targetTouches[0]:n,_=this._getViewportScrollPosition();return{x:c.left-i.left+(m.pageX-c.left-_.left),y:c.top-i.top+(m.pageY-c.top-_.top)}}_getPointerPositionOnPage(i){const t=this._getViewportScrollPosition(),n=ke(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,r=n.pageX-t.left,c=n.pageY-t.top;if(this._ownerSVGElement){const m=this._ownerSVGElement.getScreenCTM();if(m){const _=this._ownerSVGElement.createSVGPoint();return _.x=r,_.y=c,_.matrixTransform(m.inverse())}}return{x:r,y:c}}_getConstrainedPointerPosition(i){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(i,this,this._initialClientRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:c,y:m}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,_=this._boundaryRect,{width:E,height:M}=this._getPreviewRect(),G=_.top+m,X=_.bottom-(M-m);n=si(n,_.left+c,_.right-(E-c)),r=si(r,G,X)}return{x:n,y:r}}_updatePointerDirectionDelta(i){const{x:t,y:n}=i,r=this._pointerDirectionDelta,c=this._pointerPositionAtLastDirectionChange,m=Math.abs(t-c.x),_=Math.abs(n-c.y);return m>this._config.pointerDirectionChangeThreshold&&(r.x=t>c.x?1:-1,c.x=t),_>this._config.pointerDirectionChangeThreshold&&(r.y=n>c.y?1:-1,c.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,ge(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,Be),i.removeEventListener("touchstart",this._pointerDown,ni),i.removeEventListener("dragstart",this._nativeDragStart,Be)}_applyRootElementTransform(i,t){const n=Le(i,t),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Ae(n,this._initialTransform)}_applyPreviewTransform(i,t){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=Le(i,t);this._preview.style.transform=Ae(r,n)}_getDragDistance(i){const t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:t}=this._passiveTransform;if(0===i&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const c=r.left-n.left,m=n.right-r.right,_=r.top-n.top,E=n.bottom-r.bottom;r.width>n.width?(c>0&&(i+=c),m>0&&(i-=m)):i=0,r.height>n.height?(_>0&&(t+=_),E>0&&(t-=E)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}_getDragStartDelay(i){const t=this.dragStartDelay;return"number"==typeof t?t:ke(i)?t.touch:t?t.mouse:0}_updateOnScroll(i){const t=this._parentPositions.handleScroll(i);if(t){const n=pe(i);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&ye(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Oe(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,t){const n=this._previewContainer||"global";if("parent"===n)return i;if("global"===n){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return I(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(i){return this._handles.find(t=>i.target&&(i.target===t||t.contains(i.target)))}}function Le(a,i){return`translate3d(${Math.round(a)}px, ${Math.round(i)}px, 0)`}function si(a,i,t){return Math.max(i,Math.min(t,a))}function ke(a){return"t"===a.type[0]}function oi(a,i){const t=a.rootNodes;if(1===t.length&&t[0].nodeType===i.ELEMENT_NODE)return t[0];const n=i.createElement("div");return t.forEach(r=>n.appendChild(r)),n}function ri(a,i){a.style.width=`${i.width}px`,a.style.height=`${i.height}px`,a.style.transform=Le(i.left,i.top)}function ai(a,i,t){const n=Me(i,a.length-1),r=Me(t,a.length-1);if(n===r)return;const c=a[n],m=r<n?-1:1;for(let _=n;_!==r;_+=m)a[_]=a[_+m];a[r]=c}function Me(a,i){return Math.max(0,Math.min(i,a))}class zi{constructor(i,t){this._element=i,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,t,n,r){const c=this._itemPositions,m=this._getItemIndexFromPointerPosition(i,t,n,r);if(-1===m&&c.length>0)return null;const _="horizontal"===this.orientation,E=c.findIndex(te=>te.drag===i),M=c[m],X=M.clientRect,ee=E>m?1:-1,ue=this._getItemOffsetPx(c[E].clientRect,X,ee),he=this._getSiblingOffsetPx(E,c,ee),_e=c.slice();return ai(c,E,m),c.forEach((te,ln)=>{if(_e[ln]===te)return;const Ci=te.drag===i,ut=Ci?ue:he,vi=Ci?i.getPlaceholderElement():te.drag.getRootElement();te.offset+=ut,_?(vi.style.transform=Ae(`translate3d(${Math.round(te.offset)}px, 0, 0)`,te.initialTransform),ye(te.clientRect,0,ut)):(vi.style.transform=Ae(`translate3d(0, ${Math.round(te.offset)}px, 0)`,te.initialTransform),ye(te.clientRect,ut,0))}),this._previousSwap.overlaps=ot(X,t,n),this._previousSwap.drag=M.drag,this._previousSwap.delta=_?r.x:r.y,{previousIndex:E,currentIndex:m}}enter(i,t,n,r){const c=null==r||r<0?this._getItemIndexFromPointerPosition(i,t,n):r,m=this._activeDraggables,_=m.indexOf(i),E=i.getPlaceholderElement();let M=m[c];if(M===i&&(M=m[c+1]),!M&&(null==c||-1===c||c<m.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(M=m[0]),_>-1&&m.splice(_,1),M&&!this._dragDropRegistry.isDragging(M)){const G=M.getRootElement();G.parentElement.insertBefore(E,G),m.splice(c,0,i)}else I(this._element).appendChild(E),m.push(i);E.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{const t=i.getRootElement();if(t){const n=this._itemPositions.find(r=>r.drag===i)?.initialTransform;t.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===i)}updateOnScroll(i,t){this._itemPositions.forEach(({clientRect:n})=>{ye(n,i,t)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:st(n)}}).sort((t,n)=>i?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_getItemOffsetPx(i,t,n){const r="horizontal"===this.orientation;let c=r?t.left-i.left:t.top-i.top;return-1===n&&(c+=r?t.width-i.width:t.height-i.height),c}_getSiblingOffsetPx(i,t,n){const r="horizontal"===this.orientation,c=t[i].clientRect,m=t[i+-1*n];let _=c[r?"width":"height"]*n;if(m){const E=r?"left":"top",M=r?"right":"bottom";-1===n?_-=m.clientRect[E]-c[M]:_+=c[E]-m.clientRect[M]}return _}_shouldEnterAsFirstChild(i,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const m=n[n.length-1].clientRect;return r?i>=m.right:t>=m.bottom}{const m=n[0].clientRect;return r?i<=m.left:t<=m.top}}_getItemIndexFromPointerPosition(i,t,n,r){const c="horizontal"===this.orientation,m=this._itemPositions.findIndex(({drag:_,clientRect:E})=>_!==i&&((!r||_!==this._previousSwap.drag||!this._previousSwap.overlaps||(c?r.x:r.y)!==this._previousSwap.delta)&&(c?t>=Math.floor(E.left)&&t<Math.floor(E.right):n>=Math.floor(E.top)&&n<Math.floor(E.bottom))));return-1!==m&&this._sortPredicate(m,i)?m:-1}}class Ki{constructor(i,t,n,r,c){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=c,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new g.B,this.entered=new g.B,this.exited=new g.B,this.dropped=new g.B,this.sorted=new g.B,this.receivingStarted=new g.B,this.receivingStopped=new g.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Q.yU.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new g.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Vi(a=0,i=B.E){return a<0&&(a=0),(0,De.O)(a,a,i)}(0,S).pipe((0,Ne.Q)(this._stopScrollTimers)).subscribe(()=>{const m=this._scrollNode,_=this.autoScrollStep;1===this._verticalScrollDirection?m.scrollBy(0,-_):2===this._verticalScrollDirection&&m.scrollBy(0,_),1===this._horizontalScrollDirection?m.scrollBy(-_,0):2===this._horizontalScrollDirection&&m.scrollBy(_,0)})},this.element=I(i),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Zt(n),this._sortStrategy=new zi(this.element,t),this._sortStrategy.withSortPredicate((m,_)=>this.sortPredicate(m,_,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,t,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(i)),this._sortStrategy.enter(i,t,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,t,n,r,c,m,_,E={}){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:c,distance:m,dropPoint:_,event:E})}withItems(i){const t=this._draggables;return this._draggables=i,i.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===i.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){const t=I(this.element);return this._scrollableElements=-1===i.indexOf(t)?[t,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,t,n,r){if(this.sortingDisabled||!this._clientRect||!Kt(this._clientRect,.05,t,n))return;const c=this._sortStrategy.sort(i,t,n,r);c&&this.sorted.next({previousIndex:c.previousIndex,currentIndex:c.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,t){if(this.autoScrollDisabled)return;let n,r=0,c=0;if(this._parentPositions.positions.forEach((m,_)=>{_===this._document||!m.clientRect||n||Kt(m.clientRect,.05,i,t)&&([r,c]=function Zi(a,i,t,n){const r=di(i,n),c=ui(i,t);let m=0,_=0;if(r){const E=a.scrollTop;1===r?E>0&&(m=1):a.scrollHeight-E>a.clientHeight&&(m=2)}if(c){const E=a.scrollLeft;1===c?E>0&&(_=1):a.scrollWidth-E>a.clientWidth&&(_=2)}return[m,_]}(_,m.clientRect,i,t),(r||c)&&(n=_))}),!r&&!c){const{width:m,height:_}=this._viewportRuler.getViewportSize(),E={width:m,height:_,top:0,right:m,bottom:_,left:0};r=di(E,t),c=ui(E,i),n=window}n&&(r!==this._verticalScrollDirection||c!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=c,this._scrollNode=n,(r||c)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=I(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=I(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;const i=I(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,t){return null!=this._clientRect&&ot(this._clientRect,i,t)}_getSiblingContainerFromPosition(i,t,n){return this._siblings.find(r=>r._canReceive(i,t,n))}_canReceive(i,t,n){if(!this._clientRect||!ot(this._clientRect,t,n)||!this.enterPredicate(i,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,n);if(!r)return!1;const c=I(this.element);return r===c||c.contains(r)}_startReceiving(i,t){const n=this._activeSiblings;!n.has(i)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:t}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(i);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=Oe(I(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,i))}}function di(a,i){const{top:t,bottom:n,height:r}=a,c=.05*r;return i>=t-c&&i<=t+c?1:i>=n-c&&i<=n+c?2:0}function ui(a,i){const{left:t,right:n,width:r}=a,c=.05*r;return i>=t-c&&i<=t+c?1:i>=n-c&&i<=n+c?2:0}const Ge=de({passive:!1,capture:!0});let Ji=(()=>{class a{constructor(t,n){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new g.B,this.pointerUp=new g.B,this.scroll=new g.B,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=n}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ge)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ge)}startDragging(t,n){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:c=>this.pointerUp.next(c),options:!0}).set("scroll",{handler:c=>this.scroll.next(c),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ge}),r||this._globalListeners.set("mousemove",{handler:c=>this.pointerMove.next(c),options:Ge}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((c,m)=>{this._document.addEventListener(m,c.handler,c.options)})})}}stopDragging(t){const n=this._activeDragInstances.indexOf(t);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const n=[this.scroll];return t&&t!==this._document&&n.push(new z.c(r=>this._ngZone.runOutsideAngular(()=>{const m=_=>{this._activeDragInstances.length&&r.next(_)};return t.addEventListener("scroll",m,!0),()=>{t.removeEventListener("scroll",m,!0)}}))),(0,et.h)(...n)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,n)=>{this._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(n){return new(n||a)(e.KVO(e.SKi),e.KVO(C.qQ))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const en={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let at=(()=>{class a{constructor(t,n,r,c){this._document=t,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=c}createDrag(t,n=en){return new Hi(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Ki(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(n){return new(n||a)(e.KVO(C.qQ),e.KVO(e.SKi),e.KVO($e),e.KVO(Ji))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const lt=new e.nKC("CDK_DRAG_PARENT"),ct=new e.nKC("CdkDragHandle");let hi=(()=>{class a{get disabled(){return this._disabled}set disabled(t){this._disabled=b(t),this._stateChanges.next(this)}constructor(t,n){this.element=t,this._stateChanges=new g.B,this._disabled=!1,this._parentDrag=n}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.aKT),e.rXU(lt,12))};static#t=this.\u0275dir=e.FsC({type:a,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[e.Jv_([{provide:ct,useExisting:a}])]})}return a})();const mi=new e.nKC("CdkDragPlaceholder"),pi=new e.nKC("CdkDragPreview"),gi=new e.nKC("CDK_DRAG_CONFIG"),_i=new e.nKC("CdkDropList");let fi=(()=>{class a{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=b(t),this._dragRef.disabled=this._disabled}constructor(t,n,r,c,m,_,E,M,G,X,ee){this.element=t,this.dropContainer=n,this._ngZone=c,this._viewContainerRef=m,this._dir=E,this._changeDetectorRef=G,this._selfHandle=X,this._parentDrag=ee,this._destroyed=new g.B,this.started=new e.bkB,this.released=new e.bkB,this.ended=new e.bkB,this.entered=new e.bkB,this.exited=new e.bkB,this.dropped=new e.bkB,this.moved=new z.c(ue=>{const he=this._dragRef.moved.pipe((0,qt.T)(_e=>({source:this,pointerPosition:_e.pointerPosition,event:_e.event,delta:_e.delta,distance:_e.distance}))).subscribe(ue);return()=>{he.unsubscribe()}}),this._dragRef=M.createDrag(t,{dragStartThreshold:_&&null!=_.dragStartThreshold?_.dragStartThreshold:5,pointerDirectionChangeThreshold:_&&null!=_.pointerDirectionChangeThreshold?_.pointerDirectionChangeThreshold:5,zIndex:_?.zIndex}),this._dragRef.data=this,a._dragInstances.push(this),_&&this._assignDefaults(_),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Je.s)(1),(0,Ne.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const n=t.rootElementSelector,r=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=a._dragInstances.indexOf(this);t>-1&&a._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let n=t;this.rootElementSelector&&(n=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):I(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const n=this._dir,r=this.dragStartDelay,c=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,m=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:R(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(c).withPreviewTemplate(m).withPreviewContainer(this.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe((0,Je.s)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){t.withParent(a._dragInstances.find(r=>r.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(t){t.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),t.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(t){const{lockAxis:n,dragStartDelay:r,constrainPosition:c,previewClass:m,boundaryElement:_,draggingDisabled:E,rootElementSelector:M,previewContainer:G}=t;this.disabled=E??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),c&&(this.constrainPosition=c),m&&(this.previewClass=m),_&&(this.boundaryElement=_),M&&(this.rootElementSelector=M),G&&(this.previewContainer=G)}_setupHandlesListener(){this._handles.changes.pipe((0,tt.Z)(this._handles),(0,Ut.M)(t=>{const n=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),(0,ji.n)(t=>(0,et.h)(...t.map(n=>n._stateChanges.pipe((0,tt.Z)(n))))),(0,Ne.Q)(this._destroyed)).subscribe(t=>{const n=this._dragRef,r=t.element.nativeElement;t.disabled?n.disableHandle(r):n.enableHandle(r)})}static#t=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.aKT),e.rXU(_i,12),e.rXU(C.qQ),e.rXU(e.SKi),e.rXU(e.c1b),e.rXU(gi,8),e.rXU(Xt,8),e.rXU(at),e.rXU(e.gRc),e.rXU(ct,10),e.rXU(lt,12))};static#i=this.\u0275dir=e.FsC({type:a,selectors:[["","cdkDrag",""]],contentQueries:function(n,r,c){if(1&n&&(e.wni(c,pi,5),e.wni(c,mi,5),e.wni(c,ct,5)),2&n){let m;e.mGM(m=e.lsd())&&(r._previewTemplate=m.first),e.mGM(m=e.lsd())&&(r._placeholderTemplate=m.first),e.mGM(m=e.lsd())&&(r._handles=m)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){2&n&&e.AVh("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[e.Jv_([{provide:lt,useExisting:a}]),e.OA$]})}return a})();const dt=new e.nKC("CdkDropListGroup");let rn=0,bi=(()=>{class a{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=b(t)}constructor(t,n,r,c,m,_,E){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=c,this._dir=m,this._group=_,this._destroyed=new g.B,this.connectedTo=[],this.id="cdk-drop-list-"+rn++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.bkB,this.entered=new e.bkB,this.exited=new e.bkB,this.sorted=new e.bkB,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,E&&this._assignDefaults(E),this._dropListRef.enterPredicate=(M,G)=>this.enterPredicate(M.data,G.data),this._dropListRef.sortPredicate=(M,G,X)=>this.sortPredicate(M,G.data,X.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),a._dropLists.push(this),_&&_._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,n)=>t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=a._dropLists.indexOf(this);t>-1&&a._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,tt.Z)(this._dir.value),(0,Ne.Q)(this._destroyed)).subscribe(n=>t.withDirection(n)),t.beforeStarted.subscribe(()=>{const n=function O(a){return Array.isArray(a)?a:[a]}(this.connectedTo).map(r=>"string"==typeof r?a._dropLists.find(m=>m.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===n.indexOf(r)&&n.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(c=>c.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=b(this.sortingDisabled),t.autoScrollDisabled=b(this.autoScrollDisabled),t.autoScrollStep=R(this.autoScrollStep,2),t.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),(0,et.h)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:n,draggingDisabled:r,sortingDisabled:c,listAutoScrollDisabled:m,listOrientation:_}=t;this.disabled=r??!1,this.sortingDisabled=c??!1,this.autoScrollDisabled=m??!1,this.orientation=_||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static#t=this.\u0275fac=function(n){return new(n||a)(e.rXU(e.aKT),e.rXU(at),e.rXU(e.gRc),e.rXU(Ue),e.rXU(Xt,8),e.rXU(dt,12),e.rXU(gi,8))};static#i=this.\u0275dir=e.FsC({type:a,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){2&n&&(e.BMQ("id",r.id),e.AVh("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[e.Jv_([{provide:dt,useValue:void 0},{provide:_i,useExisting:a}])]})}return a})(),an=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.$C({type:a});static#i=this.\u0275inj=e.G2t({providers:[at],imports:[Ye]})}return a})()}}]);