"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[2795],{76037:(E,f,s)=>{s.d(f,{X:()=>L});var t=s(17705),m=s(60177),d=s(94227),b=s(85385),a=s(48381),u=s(53992);const c=function(o){return{"disabled mouse-hover-only":o}};function g(o,r){if(1&o&&(t.j41(0,"a",5),t.EFF(1),t.k0s()),2&o){const e=r.isEnabled,i=r.tooltip,n=r.name,O=r.tmRouterLink,N=r.queryParams;t.Y8G("id",r.id)("ngClass",t.eq3(6,c,!e))("ngbTooltip",e?i:"You do not have the permissions to access this feature")("tmRouterLink",O)("queryParams",N),t.R7$(1),t.SpI(" ",n," ")}}function C(o,r){1&o&&t.eu8(0)}function S(o,r){1&o&&t.eu8(0)}function l(o,r){if(1&o){const e=t.RV6();t.qex(0)(1),t.j41(2,"button",6),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.remindStudentFromCourse())}),t.EFF(3," Send Invite "),t.k0s(),t.bVm()()}if(2&o){const e=t.XpG();t.R7$(2),t.FCK("id","btn-send-invite-",e.courseId,"-",e.idx,""),t.Y8G("ngClass",t.eq3(5,c,!e.instructorPrivileges.canModifyStudent))("disabled",!e.isActionButtonsEnabled)("ngbTooltip",e.instructorPrivileges.canModifyStudent?"Email an invitation to the student requesting him/her to join the course using his/her Google Account. Note: Students can use TEAMMATES without 'joining', but a joined student can access extra features e.g. set up a user profile":"You do not have the permissions to access this feature")}}function v(o,r){1&o&&t.eu8(0)}const p=function(o,r){return{courseid:o,studentemail:r}},y=function(o,r,e){return{id:o,isEnabled:r,tooltip:"View the details of the student",name:"View",tmRouterLink:"/web/instructor/courses/student/details",queryParams:e}},R=function(o,r,e,i){return{id:o,isEnabled:r,tooltip:e,name:"Edit",tmRouterLink:"/web/instructor/courses/student/edit",queryParams:i}},D=function(o,r,e){return{id:o,isEnabled:r,tooltip:"View all data about this student",name:"All Records",tmRouterLink:"/web/instructor/students/records",queryParams:e}};let A=(()=>{class o{constructor(){this.idx=0,this.courseId="",this.email="",this.isSendReminderLoading=!1,this.enableRemindButton=!1,this.isActionButtonsEnabled=!0,this.instructorPrivileges={canModifyCourse:!1,canModifyInstructor:!1,canModifySession:!1,canModifyStudent:!1,canViewStudentInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1,canModifySessionCommentsInSections:!1},this.remindStudentFromCourse=()=>{},this.removeStudentFromCourse=()=>{}}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["tm-group-buttons"]],inputs:{idx:"idx",courseId:"courseId",email:"email",isSendReminderLoading:"isSendReminderLoading",enableRemindButton:"enableRemindButton",isActionButtonsEnabled:"isActionButtonsEnabled",instructorPrivileges:"instructorPrivileges",remindStudentFromCourse:"remindStudentFromCourse",removeStudentFromCourse:"removeStudentFromCourse"},standalone:!0,features:[t.aNF],decls:9,vars:36,consts:[[1,"text-center"],["actionButton",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[1,"btn","btn-light","btn-sm","btn-margin-right","custom-button",3,"id","ngClass","ngbTooltip","disabled","click"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-light","btn-sm","btn-margin-right","custom-button",3,"id","ngClass","ngbTooltip","tmRouterLink","queryParams"],[1,"btn","btn-light","btn-sm","btn-margin-right","custom-button",3,"id","ngClass","disabled","ngbTooltip","click"]],template:function(i,n){if(1&i&&(t.j41(0,"div",0),t.DNE(1,g,2,8,"ng-template",null,1,t.C5r),t.DNE(3,C,1,0,"ng-container",2),t.DNE(4,S,1,0,"ng-container",2),t.DNE(5,l,4,7,"ng-container",3),t.j41(6,"button",4),t.bIt("click",function(){return n.removeStudentFromCourse()}),t.EFF(7," Delete "),t.k0s(),t.DNE(8,v,1,0,"ng-container",2),t.k0s()),2&i){const h=t.sdS(2);t.R7$(3),t.Y8G("ngTemplateOutlet",h)("ngTemplateOutletContext",t.sMw(15,y,"btn-view-details-"+n.courseId+"-"+n.idx,n.instructorPrivileges.canViewStudentInSections,t.l_i(12,p,n.courseId,n.email))),t.R7$(1),t.Y8G("ngTemplateOutlet",h)("ngTemplateOutletContext",t.ziG(22,R,"btn-edit-details-"+n.courseId+"-"+n.idx,n.instructorPrivileges.canModifyStudent,"Use this to edit the details of this student. To edit multiple students in one go, you can use the enroll page: Simply enroll students using the updated data and existing data will be updated accordingly",t.l_i(19,p,n.courseId,n.email))),t.R7$(1),t.Y8G("ngIf",n.enableRemindButton),t.R7$(1),t.FCK("id","btn-delete-",n.courseId,"-",n.idx,""),t.Y8G("ngClass",t.eq3(27,c,!n.instructorPrivileges.canModifyStudent))("ngbTooltip",n.instructorPrivileges.canModifyStudent?"Delete the student and the corresponding submissions from the course":"You do not have the permissions to access this feature")("disabled",!n.isActionButtonsEnabled),t.R7$(2),t.Y8G("ngTemplateOutlet",h)("ngTemplateOutletContext",t.sMw(32,D,"btn-view-records-"+n.courseId+"-"+n.idx,n.instructorPrivileges.canModifyStudent,t.l_i(29,p,n.courseId,n.email)))}},dependencies:[m.MD,m.YU,m.bT,m.T3,a.d,u.y,b.D,d.zH,d.n8,d.md],encapsulation:2})}return o})();var T=s(40035),_=s(26195),M=s(21894),P=s(7730),I=s(30715),B=s(89734),H=s(6294),F=s(1091);let L=(()=>{class o{set studentModels(e){this.students=e,this.setRowData()}set hiddenStudents(e){this.listOfStudentsToHide=e,this.setRowData()}constructor(e,i,n,h){this.statusMessageService=e,this.courseService=i,this.simpleModalService=n,this.searchTermsHighlighterPipe=h,this.courseId="",this.useGrayHeading=!0,this.listOfStudentsToHide=[],this.isHideTableHead=!1,this.enableRemindButton=!1,this.isActionButtonsEnabled=!0,this.students=[],this.tableSortBy=_.g.NONE,this.tableSortOrder=_.x.ASC,this.searchString="",this.headerColorScheme=P.u.OTHERS,this.customHeaderStyle="bg-light",this.removeStudentFromCourseEvent=new t.bkB,this.sortStudentListEvent=new t.bkB,this.rowsData=[],this.columnsData=[],this.SortBy=_.g,this.SortOrder=_.x,this.JoinState=T.SR,this.SortableTableHeaderColorScheme=P.u}hasSection(){return this.students.some(e=>"None"!==e.student.sectionName)}ngOnInit(){this.setRowData(),this.setColumnData(),this.setHeaderStyle()}setHeaderStyle(){this.customHeaderStyle=this.useGrayHeading?"bg-light":"bg-info"}setColumnData(){this.columnsData=[{header:"Section",sortBy:_.g.SECTION_NAME,headerClass:"sort-by-section"},{header:"Team",sortBy:_.g.TEAM_NAME,headerClass:"sort-by-team"},{header:"Student Name",sortBy:_.g.RESPONDENT_NAME,headerClass:"sort-by-name"},{header:"Status",sortBy:_.g.JOIN_STATUS,headerClass:"sort-by-status"},{header:"Email",sortBy:_.g.RESPONDENT_EMAIL,headerClass:"sort-by-email"},{header:"Action(s)",alignment:"center"}]}setRowData(){this.rowsData=this.students.filter(e=>!this.isStudentToHide(e.student.email)).map(e=>[{value:e.student.sectionName,displayValue:this.searchTermsHighlighterPipe.transform(e.student.sectionName,this.searchString)},{value:e.student.teamName,displayValue:this.searchTermsHighlighterPipe.transform(e.student.teamName,this.searchString)},{value:e.student.name,displayValue:this.searchTermsHighlighterPipe.transform(e.student.name,this.searchString)},{value:e.student.joinState===T.SR.JOINED?"Joined":"Yet to Join"},{value:e.student.email,displayValue:this.searchTermsHighlighterPipe.transform(e.student.email,this.searchString)},this.createActionsCell(e)])}createActionsCell(e){return{customComponent:{component:A,componentData:n=>({idx:n,courseId:this.courseId,email:e.student.email,enableRemindButton:e.student.joinState===T.SR.NOT_JOINED,instructorPrivileges:{canModifyStudent:e.isAllowedToModifyStudent,canViewStudentInSections:e.isAllowedToViewStudentInSection},isActionButtonsEnabled:this.isActionButtonsEnabled,removeStudentFromCourse:()=>this.openDeleteModal(e),remindStudentFromCourse:()=>this.openRemindModal(e)})}}}trackByFn(e,i){return i.student.email}openRemindModal(e){this.simpleModalService.openConfirmationModal("Send join request?",M.i.INFO,`Usually, there is no need to use this feature because\n          TEAMMATES sends an automatic invite to students at the opening time of each session.\n          Send a join request to <strong>${e.student.email}</strong> anyway?`).result.then(()=>{this.remindStudentFromCourse(e.student.email)},()=>{})}openDeleteModal(e){this.simpleModalService.openConfirmationModal(`Delete student <strong>${e.student.name}</strong>?`,M.i.DANGER,`Are you sure you want to remove <strong>${e.student.name}</strong> from the course <strong>${this.courseId}?</strong>`).result.then(()=>{this.removeStudentFromCourse(e.student.email),this.students=this.students.filter(h=>h.student.email!==e.student.email),this.setRowData()},()=>{})}remindStudentFromCourse(e){this.courseService.remindStudentForJoin(this.courseId,e).subscribe({next:i=>{this.statusMessageService.showSuccessToast(i.message)},error:i=>{this.statusMessageService.showErrorToast(i.error.message)}})}removeStudentFromCourse(e){this.removeStudentFromCourseEvent.emit(e)}isStudentToHide(e){return this.listOfStudentsToHide.indexOf(e)>-1}sortStudentListEventHandler(e){this.sortStudentListEvent.emit(e)}static#t=this.\u0275fac=function(i){return new(i||o)(t.rXU(I.x),t.rXU(B.f),t.rXU(H.r),t.rXU(F.H))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["tm-student-list"]],inputs:{courseId:"courseId",useGrayHeading:"useGrayHeading",listOfStudentsToHide:"listOfStudentsToHide",isHideTableHead:"isHideTableHead",enableRemindButton:"enableRemindButton",isActionButtonsEnabled:"isActionButtonsEnabled",students:"students",tableSortBy:"tableSortBy",tableSortOrder:"tableSortOrder",searchString:"searchString",headerColorScheme:"headerColorScheme",customHeaderStyle:"customHeaderStyle",studentModels:"studentModels",hiddenStudents:"hiddenStudents"},outputs:{removeStudentFromCourseEvent:"removeStudentFromCourseEvent",sortStudentListEvent:"sortStudentListEvent"},decls:2,vars:6,consts:[[3,"columns","rows","initialSortBy","sortOrder","headerColorScheme","customHeaderStyle","sortEvent"]],template:function(i,n){1&i&&(t.j41(0,"div")(1,"tm-sortable-table",0),t.bIt("sortEvent",function(O){return n.sortStudentListEventHandler(O)}),t.k0s()()),2&i&&(t.R7$(1),t.Y8G("columns",n.columnsData)("rows",n.rowsData)("initialSortBy",n.tableSortBy)("sortOrder",n.tableSortOrder)("headerColorScheme",n.headerColorScheme)("customHeaderStyle",n.customHeaderStyle))},dependencies:[P.c],styles:[".align-center[_ngcontent-%COMP%]{text-align:center}@media (width <= 768px){.custom-button[_ngcontent-%COMP%]{width:90px;margin-bottom:5px}}.table[_ngcontent-%COMP%]   .thead-gray[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#495057;background-color:#dadada}.fa-sort[_ngcontent-%COMP%]{color:#fff}.mouse-hover-only[_ngcontent-%COMP%]{pointer-events:auto!important}.mouse-hover-only[_ngcontent-%COMP%]:active{pointer-events:none!important}.sortable-header[_ngcontent-%COMP%]{cursor:pointer}.sortable-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3em}.sortable-header[_ngcontent-%COMP%]   .fa-stack[_ngcontent-%COMP%]{width:20%}.sortable-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;padding:0;text-align:left;width:100%;font:inherit;cursor:inherit}"]})}return o})()},23071:(E,f,s)=>{s.d(f,{Y:()=>S});var t=s(60177),m=s(82646),d=s(94227),b=s(84764),a=s(1091),u=s(36853),c=s(44661),g=s(48381),C=s(17705);let S=(()=>{class l{static#t=this.\u0275fac=function(y){return new(y||l)};static#e=this.\u0275mod=C.$C({type:l});static#n=this.\u0275inj=C.G2t({providers:[a.H],imports:[t.MD,d.n8,m.iI,c.x,g.d,b.M,u.H]})}return l})()},84764:(E,f,s)=>{s.d(f,{M:()=>d});var t=s(60177),m=s(17705);let d=(()=>{class b{static#t=this.\u0275fac=function(c){return new(c||b)};static#e=this.\u0275mod=m.$C({type:b});static#n=this.\u0275inj=m.G2t({imports:[t.MD]})}return b})()},1091:(E,f,s)=>{s.d(f,{H:()=>m});var t=s(17705);let m=(()=>{class d{transform(a,u,c){if(!u)return a;const g=this.findAllExactPhrases(u).map(l=>c?`${l}`:`\\b${l}\\b`).filter(l=>"\\b\\b"!==l).join("|"),C=this.removeAllExactPhrases(u);let S=a;if(""!==C.trim()){const l=C.split(" ").map(p=>c?`${p}`:`\\b${p}\\b`).filter(p=>"\\b\\b"!==p).join("|"),v=new RegExp(l,"igm");S=S.replace(v,'<span class="highlighted-text">$&</span>')}if(""!==g.trim()){const l=new RegExp(g,"igm");S=S.replace(l,'<span class="highlighted-text">$&</span>')}return S}checkIsExactPhrase(a){return'"'===a.charAt(0)&&'"'===a.charAt(a.length-1)}findAllExactPhrases(a){const u=a.match(/"(.*?)"/gim);return null===u?[]:u.map(c=>{const g=c.toString();return g.substring(1,g.length-1)})}removeAllExactPhrases(a){return a.replace(/"(.*?)"/gim,"").trim()}static#t=this.\u0275fac=function(u){return new(u||d)};static#e=this.\u0275pipe=t.EJ8({name:"highlighter",type:d,pure:!0})}return d})()}}]);