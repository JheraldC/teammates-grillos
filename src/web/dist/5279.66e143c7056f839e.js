"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[5279],{72890:(p,a,r)=>{r.d(a,{Y:()=>T});var t=r(17705),n=r(60177);function N(s,S){if(1&s){const I=t.RV6();t.j41(0,"div",2)(1,"p",3),t.EFF(2),t.k0s(),t.j41(3,"button",4),t.bIt("click",function(){t.eBV(I);const u=t.XpG();return t.Njj(u.retryEvent.emit())}),t.nrm(4,"i",5),t.EFF(5,"\xa0Retry"),t.k0s()()}if(2&s){const I=t.XpG();t.R7$(2),t.JRh(I.message),t.R7$(1),t.Y8G("disabled",I.retryButtonDisabled)}}function e(s,S){1&s&&t.SdG(0)}const i=["*"];let T=(()=>{class s{constructor(){this.message="",this.shouldShowRetry=!1,this.retryButtonDisabled=!1,this.retryEvent=new t.bkB}static#e=this.\u0275fac=function(R){return new(R||s)};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-loading-retry"]],inputs:{message:"message",shouldShowRetry:"shouldShowRetry",retryButtonDisabled:"retryButtonDisabled"},outputs:{retryEvent:"retryEvent"},ngContentSelectors:i,decls:3,vars:2,consts:[["class","text-center",4,"ngIf","ngIfElse"],["content",""],[1,"text-center"],[1,"text-muted","m-1"],[1,"btn","btn-primary",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-redo"]],template:function(R,u){if(1&R&&(t.NAR(),t.DNE(0,N,6,2,"div",0),t.DNE(1,e,1,0,"ng-template",null,1,t.C5r)),2&R){const o=t.sdS(2);t.Y8G("ngIf",u.shouldShowRetry)("ngIfElse",o)}},dependencies:[n.bT]})}return s})()},34029:(p,a,r)=>{r.d(a,{Z:()=>N});var t=r(60177),n=r(17705);let N=(()=>{class e{static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275mod=n.$C({type:e});static#s=this.\u0275inj=n.G2t({imports:[t.MD]})}return e})()},23934:(p,a,r)=>{r.d(a,{L:()=>N});var t=r(17705),n=r(50833);let N=(()=>{class e{constructor(T){this.timezoneService=T}transform(T,s){return this.timezoneService.formatToString(T,s,"ddd, DD MMM YYYY, hh:mm A z")}static#e=this.\u0275fac=function(s){return new(s||e)(t.rXU(n.D,16))};static#t=this.\u0275pipe=t.EJ8({name:"formatDateDetail",type:e,pure:!0})}return e})()},26412:(p,a,r)=>{r.d(a,{q:()=>I});var t=r(43246);const n=JSON.parse('[{"description":"Use <b>peer estimates</b> to determine the <b>work distribution percentage</b> among team members in <b>a team activity</b>","question":{"feedbackQuestionId":"","questionNumber":1,"questionBrief":"How much work did each team member contribute? (response will be shown anonymously to each team member).","questionDescription":"","questionType":"CONTRIB","questionDetails":{"isZeroSum":true,"isNotSureAllowed":false},"giverType":"STUDENTS","recipientType":"OWN_TEAM_MEMBERS_INCLUDING_SELF","numberOfEntitiesToGiveFeedbackToSetting":"UNLIMITED","customNumberOfEntitiesToGiveFeedbackTo":1,"showResponsesTo":["INSTRUCTORS","RECIPIENT","GIVER_TEAM_MEMBERS"],"showGiverNameTo":["INSTRUCTORS"],"showRecipientNameTo":["INSTRUCTORS","RECIPIENT"]}},{"description":"Ask each student to describe something related to themselves i.e., <b>self-reflection</b>","question":{"feedbackQuestionId":"","questionNumber":2,"questionBrief":"What contributions did you make to the team? (response will be shown to each team member).","questionDescription":"","questionType":"TEXT","questionDetails":{},"giverType":"STUDENTS","recipientType":"SELF","numberOfEntitiesToGiveFeedbackToSetting":"UNLIMITED","customNumberOfEntitiesToGiveFeedbackTo":1,"showResponsesTo":["RECIPIENT","GIVER_TEAM_MEMBERS","INSTRUCTORS"],"showGiverNameTo":["RECIPIENT","GIVER_TEAM_MEMBERS","INSTRUCTORS"],"showRecipientNameTo":["RECIPIENT","GIVER_TEAM_MEMBERS","INSTRUCTORS"]}},{"description":"Ask each student to give <b>confidential peer feedback (qualitative)</b> to other <b>team members</b>","question":{"feedbackQuestionId":"","questionNumber":3,"questionBrief":"What comments do you have regarding each of your team members? (response is confidential and will only be shown to the instructor).","questionDescription":"","questionType":"TEXT","questionDetails":{},"giverType":"STUDENTS","recipientType":"OWN_TEAM_MEMBERS","numberOfEntitiesToGiveFeedbackToSetting":"UNLIMITED","customNumberOfEntitiesToGiveFeedbackTo":1,"showResponsesTo":["INSTRUCTORS"],"showGiverNameTo":["INSTRUCTORS"],"showRecipientNameTo":["INSTRUCTORS"]}},{"description":"Ask each student to give <b>confidential feedback (qualitative)</b> about the team behaviour","question":{"feedbackQuestionId":"","questionNumber":4,"questionBrief":"How are the team dynamics thus far? (response is confidential and will only be to the instructor).","questionDescription":"","questionType":"TEXT","questionDetails":{},"giverType":"STUDENTS","recipientType":"OWN_TEAM","numberOfEntitiesToGiveFeedbackToSetting":"UNLIMITED","customNumberOfEntitiesToGiveFeedbackTo":1,"showResponsesTo":["INSTRUCTORS"],"showGiverNameTo":["INSTRUCTORS"],"showRecipientNameTo":["INSTRUCTORS"]}},{"description":"Ask each student to give <b>comments about other team members, in confidence</b>","question":{"feedbackQuestionId":"","questionNumber":5,"questionBrief":"What feedback do you have for each of your team members? (response will be shown anonymously to each team member).","questionDescription":"","questionType":"TEXT","questionDetails":{},"giverType":"STUDENTS","recipientType":"OWN_TEAM_MEMBERS","numberOfEntitiesToGiveFeedbackToSetting":"UNLIMITED","customNumberOfEntitiesToGiveFeedbackTo":1,"showResponsesTo":["RECIPIENT","INSTRUCTORS"],"showGiverNameTo":["INSTRUCTORS"],"showRecipientNameTo":["RECIPIENT","INSTRUCTORS"]}}]');var N=r(8059),e=r(40035),i=r(34146),T=r(54283),s=r(17705),S=r(16507);let I=(()=>{class R{constructor(o){this.httpRequestService=o}getAllowedFeedbackPaths(o){const E=new Map;switch(o){case e.OX.CONTRIB:E.set(e.tp.STUDENTS,[e.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF]);break;case e.OX.RANK_RECIPIENTS:case e.OX.CONSTSUM_RECIPIENTS:E.set(e.tp.SELF,[e.tp.STUDENTS_EXCLUDING_SELF,e.tp.STUDENTS_IN_SAME_SECTION,e.tp.INSTRUCTORS,e.tp.TEAMS_EXCLUDING_SELF,e.tp.TEAMS_IN_SAME_SECTION]),E.set(e.tp.STUDENTS,[e.tp.STUDENTS_EXCLUDING_SELF,e.tp.STUDENTS_IN_SAME_SECTION,e.tp.INSTRUCTORS,e.tp.TEAMS_EXCLUDING_SELF,e.tp.TEAMS_IN_SAME_SECTION,e.tp.OWN_TEAM_MEMBERS,e.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF]),E.set(e.tp.INSTRUCTORS,[e.tp.STUDENTS_EXCLUDING_SELF,e.tp.STUDENTS_IN_SAME_SECTION,e.tp.INSTRUCTORS,e.tp.TEAMS_EXCLUDING_SELF,e.tp.TEAMS_IN_SAME_SECTION]),E.set(e.tp.TEAMS,[e.tp.STUDENTS_EXCLUDING_SELF,e.tp.STUDENTS_IN_SAME_SECTION,e.tp.INSTRUCTORS,e.tp.TEAMS_EXCLUDING_SELF,e.tp.TEAMS_IN_SAME_SECTION,e.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF]);break;case e.OX.TEXT:case e.OX.MCQ:case e.OX.MSQ:case e.OX.NUMSCALE:case e.OX.RANK_OPTIONS:case e.OX.RUBRIC:case e.OX.CONSTSUM_OPTIONS:E.set(e.tp.SELF,[e.tp.SELF,e.tp.STUDENTS,e.tp.STUDENTS_EXCLUDING_SELF,e.tp.STUDENTS_IN_SAME_SECTION,e.tp.INSTRUCTORS,e.tp.TEAMS,e.tp.TEAMS_EXCLUDING_SELF,e.tp.TEAMS_IN_SAME_SECTION,e.tp.OWN_TEAM,e.tp.NONE]),E.set(e.tp.STUDENTS,[e.tp.SELF,e.tp.STUDENTS,e.tp.STUDENTS_EXCLUDING_SELF,e.tp.STUDENTS_IN_SAME_SECTION,e.tp.INSTRUCTORS,e.tp.TEAMS,e.tp.TEAMS_EXCLUDING_SELF,e.tp.TEAMS_IN_SAME_SECTION,e.tp.OWN_TEAM,e.tp.OWN_TEAM_MEMBERS,e.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF,e.tp.NONE]),E.set(e.tp.INSTRUCTORS,[e.tp.SELF,e.tp.STUDENTS,e.tp.STUDENTS_IN_SAME_SECTION,e.tp.INSTRUCTORS,e.tp.TEAMS,e.tp.TEAMS_IN_SAME_SECTION,e.tp.OWN_TEAM,e.tp.NONE]),E.set(e.tp.TEAMS,[e.tp.SELF,e.tp.STUDENTS,e.tp.STUDENTS_EXCLUDING_SELF,e.tp.STUDENTS_IN_SAME_SECTION,e.tp.INSTRUCTORS,e.tp.TEAMS,e.tp.TEAMS_EXCLUDING_SELF,e.tp.TEAMS_IN_SAME_SECTION,e.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF,e.tp.NONE])}return E}getCommonFeedbackPaths(o){const E=new Map;switch(o){case e.OX.CONTRIB:E.set(e.tp.STUDENTS,[e.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF]);break;case e.OX.RANK_RECIPIENTS:case e.OX.CONSTSUM_RECIPIENTS:E.set(e.tp.SELF,[e.tp.INSTRUCTORS]),E.set(e.tp.STUDENTS,[e.tp.INSTRUCTORS,e.tp.OWN_TEAM_MEMBERS,e.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF]),E.set(e.tp.INSTRUCTORS,[e.tp.INSTRUCTORS]);break;case e.OX.TEXT:case e.OX.MCQ:case e.OX.MSQ:case e.OX.NUMSCALE:case e.OX.RANK_OPTIONS:case e.OX.RUBRIC:case e.OX.CONSTSUM_OPTIONS:E.set(e.tp.SELF,[e.tp.NONE,e.tp.SELF,e.tp.INSTRUCTORS]),E.set(e.tp.STUDENTS,[e.tp.NONE,e.tp.SELF,e.tp.INSTRUCTORS,e.tp.OWN_TEAM_MEMBERS,e.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF]),E.set(e.tp.INSTRUCTORS,[e.tp.NONE,e.tp.SELF,e.tp.INSTRUCTORS])}return E}getNewVisibilityStateMachine(o,E){return new t.b(o,E)}getCommonFeedbackVisibilitySettings(o,E){let c=[];switch(E){case e.OX.CONTRIB:c.push({name:"Shown anonymously to recipient and giver's team members, visible to instructors",visibilitySettings:{SHOW_RESPONSE:[e.sk.INSTRUCTORS,e.sk.RECIPIENT,e.sk.GIVER_TEAM_MEMBERS],SHOW_GIVER_NAME:[e.sk.INSTRUCTORS],SHOW_RECIPIENT_NAME:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]}},{name:"Visible to instructors only",visibilitySettings:{SHOW_RESPONSE:[e.sk.INSTRUCTORS],SHOW_GIVER_NAME:[e.sk.INSTRUCTORS],SHOW_RECIPIENT_NAME:[e.sk.INSTRUCTORS]}});break;case e.OX.TEXT:case e.OX.MCQ:case e.OX.MSQ:case e.OX.NUMSCALE:case e.OX.RANK_OPTIONS:case e.OX.RANK_RECIPIENTS:case e.OX.RUBRIC:case e.OX.CONSTSUM_OPTIONS:case e.OX.CONSTSUM_RECIPIENTS:c.push({name:"Shown anonymously to recipient and instructors",visibilitySettings:{SHOW_RESPONSE:[e.sk.INSTRUCTORS,e.sk.RECIPIENT],SHOW_GIVER_NAME:[],SHOW_RECIPIENT_NAME:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]}},{name:"Shown anonymously to recipient, visible to instructors",visibilitySettings:{SHOW_RESPONSE:[e.sk.INSTRUCTORS,e.sk.RECIPIENT],SHOW_GIVER_NAME:[e.sk.INSTRUCTORS],SHOW_RECIPIENT_NAME:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]}},{name:"Shown anonymously to recipient and giver/recipient's team members, visible to instructors",visibilitySettings:{SHOW_RESPONSE:[e.sk.INSTRUCTORS,e.sk.RECIPIENT,e.sk.GIVER_TEAM_MEMBERS,e.sk.RECIPIENT_TEAM_MEMBERS],SHOW_GIVER_NAME:[e.sk.INSTRUCTORS],SHOW_RECIPIENT_NAME:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]}},{name:"Shown anonymously to recipient and giver's team members, visible to instructors",visibilitySettings:{SHOW_RESPONSE:[e.sk.INSTRUCTORS,e.sk.RECIPIENT,e.sk.GIVER_TEAM_MEMBERS],SHOW_GIVER_NAME:[e.sk.INSTRUCTORS],SHOW_RECIPIENT_NAME:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]}},{name:"Visible to instructors only",visibilitySettings:{SHOW_RESPONSE:[e.sk.INSTRUCTORS],SHOW_GIVER_NAME:[e.sk.INSTRUCTORS],SHOW_RECIPIENT_NAME:[e.sk.INSTRUCTORS]}},{name:"Visible to recipient and instructors",visibilitySettings:{SHOW_RESPONSE:[e.sk.INSTRUCTORS,e.sk.RECIPIENT],SHOW_GIVER_NAME:[e.sk.INSTRUCTORS,e.sk.RECIPIENT],SHOW_RECIPIENT_NAME:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]}})}return c=c.filter(_=>{for(const O of _.visibilitySettings.SHOW_RESPONSE)if(!o.isVisibilityTypeApplicable(O))return!1;for(const O of _.visibilitySettings.SHOW_GIVER_NAME)if(!o.isVisibilityTypeApplicable(O))return!1;for(const O of _.visibilitySettings.SHOW_RECIPIENT_NAME)if(!o.isVisibilityTypeApplicable(O))return!1;return!0}),c}isCustomFeedbackVisibilitySettingAllowed(o){switch(o){case e.OX.TEXT:return!0;case e.OX.CONTRIB:return!1;case e.OX.MCQ:case e.OX.NUMSCALE:case e.OX.MSQ:case e.OX.RANK_OPTIONS:case e.OX.RANK_RECIPIENTS:case e.OX.RUBRIC:case e.OX.CONSTSUM_OPTIONS:case e.OX.CONSTSUM_RECIPIENTS:return!0;default:throw new Error(`Unsupported question type: ${o}`)}}getNewQuestionModel(o){switch(o){case e.OX.TEXT:return{questionBrief:"",questionDescription:"",questionType:e.OX.TEXT,questionDetails:(0,i.oR)(),giverType:e.tp.STUDENTS,recipientType:e.tp.OWN_TEAM_MEMBERS,numberOfEntitiesToGiveFeedbackToSetting:e.cB.UNLIMITED,showResponsesTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT],showGiverNameTo:[e.sk.INSTRUCTORS],showRecipientNameTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]};case e.OX.CONTRIB:return{questionBrief:"",questionDescription:"",questionType:e.OX.CONTRIB,questionDetails:(0,i.T)(),giverType:e.tp.STUDENTS,recipientType:e.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF,numberOfEntitiesToGiveFeedbackToSetting:e.cB.UNLIMITED,showResponsesTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT,e.sk.GIVER_TEAM_MEMBERS],showGiverNameTo:[e.sk.INSTRUCTORS],showRecipientNameTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]};case e.OX.NUMSCALE:return{questionBrief:"",questionDescription:"",questionType:e.OX.NUMSCALE,questionDetails:(0,i.r0)(),giverType:e.tp.STUDENTS,recipientType:e.tp.OWN_TEAM_MEMBERS,numberOfEntitiesToGiveFeedbackToSetting:e.cB.UNLIMITED,showResponsesTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT],showGiverNameTo:[e.sk.INSTRUCTORS],showRecipientNameTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]};case e.OX.MCQ:{const E=(0,i.YC)();return E.mcqChoices=["",""],{questionBrief:"",questionDescription:"",questionType:e.OX.MCQ,questionDetails:E,giverType:e.tp.STUDENTS,recipientType:e.tp.OWN_TEAM_MEMBERS,numberOfEntitiesToGiveFeedbackToSetting:e.cB.UNLIMITED,showResponsesTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT,e.sk.GIVER_TEAM_MEMBERS],showGiverNameTo:[e.sk.INSTRUCTORS],showRecipientNameTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]}}case e.OX.MSQ:{const E=(0,i.Cv)();return E.msqChoices=["",""],E.minSelectableChoices=T.GY,E.maxSelectableChoices=T.GY,{questionBrief:"",questionDescription:"",questionType:e.OX.MSQ,questionDetails:E,giverType:e.tp.STUDENTS,recipientType:e.tp.OWN_TEAM_MEMBERS,numberOfEntitiesToGiveFeedbackToSetting:e.cB.UNLIMITED,showResponsesTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT,e.sk.GIVER_TEAM_MEMBERS],showGiverNameTo:[e.sk.INSTRUCTORS],showRecipientNameTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]}}case e.OX.RANK_OPTIONS:{const E=(0,i.EN)();return E.maxOptionsToBeRanked=T.GY,E.minOptionsToBeRanked=T.GY,E.options=["",""],{questionBrief:"",questionDescription:"",questionType:e.OX.RANK_OPTIONS,questionDetails:E,giverType:e.tp.STUDENTS,recipientType:e.tp.OWN_TEAM_MEMBERS,numberOfEntitiesToGiveFeedbackToSetting:e.cB.UNLIMITED,showResponsesTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT,e.sk.GIVER_TEAM_MEMBERS],showGiverNameTo:[e.sk.INSTRUCTORS],showRecipientNameTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]}}case e.OX.RANK_RECIPIENTS:return{questionBrief:"",questionDescription:"",questionType:e.OX.RANK_RECIPIENTS,questionDetails:(0,i.SL)(),giverType:e.tp.STUDENTS,recipientType:e.tp.OWN_TEAM_MEMBERS,numberOfEntitiesToGiveFeedbackToSetting:e.cB.UNLIMITED,showResponsesTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT],showGiverNameTo:[e.sk.INSTRUCTORS],showRecipientNameTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]};case e.OX.RUBRIC:{const E=(0,i.Qg)();return E.rubricChoices=["Strongly Disagree","Disagree","Agree","Strongly Agree"],E.rubricSubQuestions=["This student participates well in online discussions.","This student completes assigned tasks on time."],E.rubricDescriptions=[["Rarely or never responds.","Occasionally responds, but never initiates discussions.","Takes part in discussions and sometimes initiates discussions.","Initiates discussions frequently, and engages the team."],["Rarely or never completes tasks.","Often misses deadlines.","Occasionally misses deadlines.","Tasks are always completed before the deadline."]],{questionBrief:"",questionDescription:"",questionType:e.OX.RUBRIC,questionDetails:E,giverType:e.tp.STUDENTS,recipientType:e.tp.OWN_TEAM_MEMBERS,numberOfEntitiesToGiveFeedbackToSetting:e.cB.UNLIMITED,showResponsesTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT],showGiverNameTo:[e.sk.INSTRUCTORS],showRecipientNameTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]}}case e.OX.CONSTSUM_OPTIONS:return{questionBrief:"",questionDescription:"",questionType:e.OX.CONSTSUM_OPTIONS,questionDetails:(0,i.iC)(),giverType:e.tp.STUDENTS,recipientType:e.tp.OWN_TEAM_MEMBERS,numberOfEntitiesToGiveFeedbackToSetting:e.cB.UNLIMITED,showResponsesTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT],showGiverNameTo:[e.sk.INSTRUCTORS],showRecipientNameTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]};case e.OX.CONSTSUM_RECIPIENTS:return{questionBrief:"",questionDescription:"",questionType:e.OX.CONSTSUM_RECIPIENTS,questionDetails:(0,i.UM)(),giverType:e.tp.STUDENTS,recipientType:e.tp.OWN_TEAM_MEMBERS,numberOfEntitiesToGiveFeedbackToSetting:e.cB.UNLIMITED,showResponsesTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT],showGiverNameTo:[e.sk.INSTRUCTORS],showRecipientNameTo:[e.sk.INSTRUCTORS,e.sk.RECIPIENT]};default:throw new Error(`Unsupported question type ${o}`)}}getFeedbackQuestions(o){const E={intent:o.intent,courseid:o.courseId,fsname:o.feedbackSessionName};return o.key&&(E.key=o.key),o.moderatedPerson&&(E.moderatedperson=o.moderatedPerson),o.previewAs&&(E.previewas=o.previewAs),this.httpRequestService.get(N.Ld.QUESTIONS,E)}getTemplateQuestions(){return n}createFeedbackQuestion(o,E,c){return this.httpRequestService.post(N.Ld.QUESTION,{courseid:o,fsname:E},c)}saveFeedbackQuestion(o,E){return this.httpRequestService.put(N.Ld.QUESTION,{questionid:o},E)}deleteFeedbackQuestion(o){return this.httpRequestService.delete(N.Ld.QUESTION,{questionid:o})}loadFeedbackQuestionRecipients(o){return this.httpRequestService.get(N.Ld.QUESTION_RECIPIENTS,{questionid:o.questionId,intent:o.intent,key:o.key,moderatedperson:o.moderatedPerson,previewas:o.previewAs})}static#e=this.\u0275fac=function(E){return new(E||R)(s.KVO(S.R))};static#t=this.\u0275prov=s.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},21036:(p,a,r)=>{r.d(a,{p:()=>e});var t=r(8059),n=r(17705),N=r(16507);let e=(()=>{class i{constructor(s){this.httpRequestService=s}loadInstructors(s){const S={courseid:s.courseId};return s.intent&&(S.intent=s.intent),this.httpRequestService.get(t.Ld.INSTRUCTORS,S)}getInstructor(s){const S={courseid:s.courseId,intent:s.intent};return s.feedbackSessionName&&(S.fsname=s.feedbackSessionName),s.key&&(S.key=s.key),s.moderatedPerson&&(S.moderatedperson=s.moderatedPerson),s.previewAs&&(S.previewas=s.previewAs),this.httpRequestService.get(t.Ld.INSTRUCTOR,S)}createInstructor(s){return this.httpRequestService.post(t.Ld.INSTRUCTOR,{courseid:s.courseId},s.requestBody)}updateInstructor(s){return this.httpRequestService.put(t.Ld.INSTRUCTOR,{courseid:s.courseId},s.requestBody)}deleteInstructor(s){const S={courseid:s.courseId};return s.instructorEmail&&(S.instructoremail=s.instructorEmail),s.instructorId&&(S.instructorid=s.instructorId),this.httpRequestService.delete(t.Ld.INSTRUCTOR,S)}loadInstructorPrivilege(s){const S={courseid:s.courseId};return s.instructorEmail&&(S.instructoremail=s.instructorEmail),s.instructorId&&(S.instructorid=s.instructorId),this.httpRequestService.get(t.Ld.INSTRUCTOR_PRIVILEGE,S)}updateInstructorPrivilege(s){return this.httpRequestService.put(t.Ld.INSTRUCTOR_PRIVILEGE,{courseid:s.courseId,instructoremail:s.instructorEmail},s.requestBody)}regenerateInstructorKey(s,S){return this.httpRequestService.post(t.Ld.INSTRUCTOR_KEY,{courseid:s,instructoremail:S})}static#e=this.\u0275fac=function(S){return new(S||i)(n.KVO(N.R))};static#t=this.\u0275prov=n.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},43246:(p,a,r)=>{r.d(a,{b:()=>N});var t=r(40035),n=r(40261);class N{constructor(i,T){this.visibility=new Map,this.editability=new Map,this.applicability=new Set,this.reset(),this.startFromNewState(i,T)}reset(){this.visibility.clear(),this.editability.clear();for(const i of Object.keys(t.sk)){const T=t.sk[i];this.visibility.set(T,new Map),this.editability.set(T,new Map),this.applicability.add(T);for(const s of Object.keys(n.e)){const S=n.e[s];this.visibility.get(T).set(S,!1),this.editability.get(T).set(S,!0)}}this.editability.get(t.sk.RECIPIENT).set(n.e.SHOW_RECIPIENT_NAME,!1)}resetVisibility(){for(const i of Array.from(this.visibility.keys()))for(const T of Array.from(this.visibility.get(i).keys()))this.disallowToSee(i,T)}startFromNewState(i,T){switch(this.reset(),i){case t.tp.STUDENTS:break;case t.tp.SELF:case t.tp.INSTRUCTORS:case t.tp.TEAMS:this.applicability.delete(t.sk.GIVER_TEAM_MEMBERS);break;default:throw new Error("Unexpected giverType")}switch(T){case t.tp.SELF:this.applicability.delete(t.sk.RECIPIENT),this.applicability.delete(t.sk.RECIPIENT_TEAM_MEMBERS);break;case t.tp.STUDENTS:case t.tp.STUDENTS_EXCLUDING_SELF:case t.tp.STUDENTS_IN_SAME_SECTION:break;case t.tp.OWN_TEAM:this.applicability.delete(t.sk.RECIPIENT),this.applicability.delete(t.sk.RECIPIENT_TEAM_MEMBERS);break;case t.tp.INSTRUCTORS:case t.tp.TEAMS:case t.tp.TEAMS_EXCLUDING_SELF:case t.tp.TEAMS_IN_SAME_SECTION:case t.tp.OWN_TEAM_MEMBERS:case t.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF:this.applicability.delete(t.sk.RECIPIENT_TEAM_MEMBERS);break;case t.tp.NONE:this.applicability.delete(t.sk.RECIPIENT),this.applicability.delete(t.sk.RECIPIENT_TEAM_MEMBERS);break;default:throw new Error("Unexpected recipientType")}(i===t.tp.SELF||i===t.tp.INSTRUCTORS)&&T===t.tp.SELF&&this.applicability.delete(t.sk.RECIPIENT_TEAM_MEMBERS),i===t.tp.TEAMS&&T===t.tp.OWN_TEAM_MEMBERS_INCLUDING_SELF&&this.applicability.delete(t.sk.RECIPIENT)}applyVisibilitySettings(i){this.resetVisibility();for(const T of i.SHOW_RESPONSE)this.allowToSee(T,n.e.SHOW_RESPONSE);for(const T of i.SHOW_GIVER_NAME)this.allowToSee(T,n.e.SHOW_GIVER_NAME);for(const T of i.SHOW_RECIPIENT_NAME)this.allowToSee(T,n.e.SHOW_RECIPIENT_NAME)}allowToSee(i,T){if(this.isCellEditable(i,T)&&this.isVisibilityTypeApplicable(i))switch(this.visibility.get(i).set(T,!0),T){case n.e.SHOW_RESPONSE:i===t.sk.RECIPIENT&&this.visibility.get(i).set(n.e.SHOW_RECIPIENT_NAME,!0);break;case n.e.SHOW_GIVER_NAME:case n.e.SHOW_RECIPIENT_NAME:this.visibility.get(i).set(n.e.SHOW_RESPONSE,!0)}}disallowToSee(i,T){this.isCellEditable(i,T)&&this.isVisibilityTypeApplicable(i)&&(this.visibility.get(i).set(T,!1),T===n.e.SHOW_RESPONSE)&&(this.visibility.get(i).set(n.e.SHOW_GIVER_NAME,!1),this.visibility.get(i).set(n.e.SHOW_RECIPIENT_NAME,!1))}isVisibilityTypeApplicable(i){return this.applicability.has(i)}hasAnyVisibilityControl(i){return Array.from(this.visibility.get(i).values()).some(T=>T)}hasAnyVisibilityControlForAll(){for(const i of Object.keys(t.sk))if(this.hasAnyVisibilityControl(t.sk[i]))return!0;return!1}isCellEditable(i,T){return this.editability.get(i).get(T)}isVisible(i,T){return this.visibility.get(i).get(T)}getVisibilityTypesUnderVisibilityControl(i){const T=[];for(const s of Object.keys(t.sk)){const S=t.sk[s];this.isVisible(S,i)&&T.push(S)}return T}getVisibilityControlUnderVisibilityType(i){return{SHOW_RESPONSE:this.isVisible(i,n.e.SHOW_RESPONSE),SHOW_GIVER_NAME:this.isVisible(i,n.e.SHOW_GIVER_NAME),SHOW_RECIPIENT_NAME:this.isVisible(i,n.e.SHOW_RECIPIENT_NAME)}}}},40261:(p,a,r)=>{r.d(a,{e:()=>t});var t=function(n){return n.SHOW_RESPONSE="SHOW_RESPONSE",n.SHOW_GIVER_NAME="SHOW_GIVER_NAME",n.SHOW_RECIPIENT_NAME="SHOW_RECIPIENT_NAME",n}(t||{})}}]);