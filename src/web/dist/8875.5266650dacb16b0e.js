"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[8875],{71128:(E,g,r)=>{r.d(g,{t:()=>xt});var l=r(40035),c=r(9477),t=r(17705),R=r(33933),p=r(60177),S=r(98406),m=r(34146);let T=(()=>{class s extends S.S{constructor(){super((0,m.oR)())}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-text-question-statistics"]],features:[t.Vt3],decls:0,vars:0,template:function(i,n){}})}return s})();var C=r(41895),o=r(26195),u=r(7730);function N(s,a){if(1&s&&(t.j41(0,"div",7)(1,"strong",8),t.EFF(2," Per Recipient Statistics "),t.k0s(),t.j41(3,"div",9),t.nrm(4,"tm-sortable-table",10),t.k0s()()),2&s){const e=t.XpG(2);t.R7$(4),t.Y8G("columns",e.perRecipientColumnsData)("rows",e.perRecipientRowsData)("initialSortBy",e.SortBy.MCQ_WEIGHT_AVERAGE)}}function y(s,a){if(1&s&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"strong"),t.EFF(4," Response Summary "),t.k0s()()(),t.j41(5,"div",2)(6,"div",4),t.nrm(7,"tm-sortable-table",5),t.k0s(),t.DNE(8,N,5,3,"div",6),t.k0s()()),2&s){const e=t.XpG();t.R7$(7),t.Y8G("columns",e.summaryColumnsData)("rows",e.summaryRowsData),t.R7$(1),t.Y8G("ngIf",e.question.hasAssignedWeights)}}let v=(()=>{class s extends C.Y{constructor(){super((0,m.YC)()),this.SortBy=o.g,this.summaryColumnsData=[],this.summaryRowsData=[],this.perRecipientColumnsData=[],this.perRecipientRowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.summaryColumnsData=[{header:"Choice",sortBy:o.g.MCQ_CHOICE},{header:"Weight",sortBy:o.g.MCQ_WEIGHT},{header:"Response Count",sortBy:o.g.MCQ_RESPONSE_COUNT},{header:"Percentage (%)",sortBy:o.g.MCQ_PERCENTAGE},{header:"Weighted Percentage (%)",sortBy:o.g.MCQ_WEIGHTED_PERCENTAGE}],this.summaryRowsData=Object.keys(this.answerFrequency).map(e=>[{value:e},{value:0===this.weightPerOption[e]?0:this.weightPerOption[e]||"-"},{value:this.answerFrequency[e]},{value:this.percentagePerOption[e]},{value:0===this.weightedPercentagePerOption[e]?0:this.weightedPercentagePerOption[e]||"-"}]),this.perRecipientColumnsData=[{header:"Team",sortBy:o.g.MCQ_TEAM},{header:"Recipient Name",sortBy:o.g.MCQ_RECIPIENT_NAME},...Object.keys(this.weightPerOption).map(e=>({header:`${e}[${this.weightPerOption[e].toFixed(2)}]`,sortBy:o.g.MCQ_OPTION_SELECTED_TIMES})),{header:"Total",sortBy:o.g.MCQ_WEIGHT_TOTAL},{header:"Average",sortBy:o.g.MCQ_WEIGHT_AVERAGE}],this.perRecipientRowsData=Object.keys(this.perRecipientResponses).map(e=>{const i=this.perRecipientResponses[e].recipientEmail;return[{value:this.perRecipientResponses[e].recipientTeam},{value:this.perRecipientResponses[e].recipient+(i?` (${i})`:"")},...Object.keys(this.weightPerOption).map(n=>({value:this.perRecipientResponses[e].responses[n]})),{value:this.perRecipientResponses[e].total.toFixed(2)},{value:this.perRecipientResponses[e].average.toFixed(2)}]})}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-mcq-question-statistics"]],features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[["id","mcq-statistics",4,"ngIf"],["id","mcq-statistics"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive","mb-4"],[3,"columns","rows"],["class","col-sm-12 table-responsive","style","margin-top: 20px;",4,"ngIf"],[1,"col-sm-12","table-responsive",2,"margin-top","20px"],[1,"text-color-gray"],[1,"mb-4"],[3,"columns","rows","initialSortBy"]],template:function(i,n){1&i&&t.DNE(0,y,9,3,"div",0),2&i&&t.Y8G("ngIf",n.responses.length&&!n.isStudent)},dependencies:[p.bT,u.c]})}return s})();var F=r(36471);function D(s,a){if(1&s&&(t.j41(0,"div",7)(1,"strong",8),t.EFF(2," Per Recipient Statistics "),t.k0s(),t.j41(3,"div",9),t.nrm(4,"tm-sortable-table",5),t.k0s()()),2&s){const e=t.XpG(2);t.R7$(4),t.Y8G("rows",e.perRecipientRowsData)("columns",e.perRecipientColumnsData)("initialSortBy",e.SortBy.MSQ_WEIGHT_AVERAGE)}}function w(s,a){if(1&s&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"strong"),t.EFF(4," Response Summary "),t.k0s()()(),t.j41(5,"div",3)(6,"div",4),t.nrm(7,"tm-sortable-table",5),t.k0s(),t.DNE(8,D,5,3,"div",6),t.k0s()()),2&s){const e=t.XpG();t.R7$(7),t.Y8G("rows",e.summaryRowsData)("columns",e.summaryColumnsData)("initialSortBy",e.SortBy.MSQ_PERCENTAGE),t.R7$(1),t.Y8G("ngIf",e.question.hasAssignedWeights)}}let A=(()=>{class s extends F.i{constructor(){super((0,m.Cv)()),this.SortBy=o.g,this.summaryColumnsData=[],this.summaryRowsData=[],this.perRecipientColumnsData=[],this.perRecipientRowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.summaryColumnsData=[{header:"Choice",sortBy:o.g.MSQ_CHOICE},{header:"Weight",sortBy:o.g.MSQ_WEIGHT},{header:"Response Count",sortBy:o.g.MSQ_RESPONSE_COUNT},{header:"Percentage (%)",sortBy:o.g.MSQ_PERCENTAGE},{header:"Weighted Percentage (%)",sortBy:o.g.MSQ_WEIGHTED_PERCENTAGE}],this.summaryRowsData=Object.keys(this.answerFrequency).map(e=>[{value:e},{value:0===this.weightPerOption[e]?0:this.weightPerOption[e]||"-"},{value:this.answerFrequency[e]},{value:this.percentagePerOption[e]},{value:0===this.weightedPercentagePerOption[e]?0:this.weightedPercentagePerOption[e]||"-"}]),this.perRecipientColumnsData=[{header:"Team",sortBy:o.g.MSQ_TEAM},{header:"Recipient Name",sortBy:o.g.MSQ_RECIPIENT_NAME},...Object.keys(this.weightPerOption).map(e=>({header:`${e} [${this.weightPerOption[e].toFixed(2)}]`,sortBy:o.g.MSQ_OPTION_SELECTED_TIMES})),{header:"Total",sortBy:o.g.MSQ_WEIGHT_TOTAL},{header:"Average",sortBy:o.g.MSQ_WEIGHT_AVERAGE}],this.perRecipientRowsData=Object.keys(this.perRecipientResponses).map(e=>{const i=this.perRecipientResponses[e].recipientEmail;return[{value:this.perRecipientResponses[e].recipientTeam},{value:this.perRecipientResponses[e].recipient+(i?` (${i})`:"")},...Object.keys(this.weightPerOption).map(n=>({value:this.perRecipientResponses[e].responses[n]})),{value:this.perRecipientResponses[e].total.toFixed(2)},{value:this.perRecipientResponses[e].average.toFixed(2)}]})}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-msq-question-statistics"]],features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"row","mb-4"],[1,"col-sm-12","table-responsive"],[3,"rows","columns","initialSortBy"],["class","col-sm-12 table-responsive","style","margin-top: 20px;",4,"ngIf"],[1,"col-sm-12","table-responsive",2,"margin-top","20px"],[1,"text-color-gray"],[1,"mb-4"]],template:function(i,n){1&i&&t.DNE(0,w,9,4,"div",0),2&i&&t.Y8G("ngIf",n.responses.length&&!n.isStudent&&n.hasAnswers)},dependencies:[p.bT,u.c]})}return s})();var G=r(95295);function P(s,a){1&s&&(t.j41(0,"strong"),t.EFF(1,"Summary of responses received by you"),t.k0s())}function B(s,a){1&s&&(t.j41(0,"strong"),t.EFF(1,"Response Summary"),t.k0s())}function k(s,a){if(1&s&&(t.j41(0,"div")(1,"div",1)(2,"div",2),t.DNE(3,P,2,0,"strong",0),t.DNE(4,B,2,0,"strong",0),t.k0s()(),t.j41(5,"div",1)(6,"div",3),t.nrm(7,"tm-sortable-table",4),t.k0s()()()),2&s){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",e.isStudent),t.R7$(1),t.Y8G("ngIf",!e.isStudent),t.R7$(3),t.Y8G("rows",e.rowsData)("columns",e.columnsData)}}let M=(()=>{class s extends G.x{constructor(){super((0,m.r0)()),this.columnsData=[],this.rowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.columnsData=[{header:"Team",sortBy:o.g.TEAM_NAME},{header:"Recipient",sortBy:o.g.RECIPIENT_NAME},{header:"Average",sortBy:o.g.NUMERICAL_SCALE_AVERAGE,headerToolTip:"Average of the visible responses"},{header:"Max",sortBy:o.g.NUMERICAL_SCALE_MAX,headerToolTip:"Maximum of the visible responses"},{header:"Min",sortBy:o.g.NUMERICAL_SCALE_MIN,headerToolTip:"Minimum of the visible responses"},{header:"Average excluding self response",sortBy:o.g.NUMERICAL_SCALE_AVERAGE_EXCLUDE_SELF,headerToolTip:"Average of the visible responses excluding recipient's own response to himself/herself"}],this.rowsData=[];for(const e of Object.keys(this.teamToRecipientToScores))for(const i of Object.keys(this.teamToRecipientToScores[e])){const n=this.teamToRecipientToScores[e][i],h=this.recipientEmails[i];this.rowsData.push([{value:e},{value:i+(h?` (${h})`:"")},{value:n.average},{value:n.max},{value:n.min},{value:n.averageExcludingSelf}])}}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-num-scale-question-statistics"]],features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"text-color-gray","mt-2"],["id","numscale-statistics",1,"col-sm-12","table-responsive","mb-4"],[3,"rows","columns"]],template:function(i,n){1&i&&t.DNE(0,k,8,4,"div",0),2&i&&t.Y8G("ngIf",n.responses.length)},dependencies:[p.bT,u.c]})}return s})();var q=r(94653),I=r(18340),f=r(54283),b=r(89417),O=r(94227);function j(s,a){1&s&&(t.j41(0,"span"),t.EFF(1,"(of received responses) "),t.k0s())}function $(s,a){if(1&s&&(t.qex(0),t.j41(1,"div",0)(2,"div",11)(3,"strong"),t.EFF(4," Per Recipient Statistics (Per Criterion) "),t.k0s(),t.nrm(5,"span",12),t.k0s()(),t.j41(6,"div",0)(7,"div",13),t.nrm(8,"tm-sortable-table",10),t.k0s()(),t.j41(9,"div")(10,"div",0)(11,"div",11)(12,"strong"),t.EFF(13," Per Recipient Statistics (Overall) "),t.k0s(),t.nrm(14,"span",14),t.k0s()(),t.j41(15,"div",0)(16,"div",15),t.nrm(17,"tm-sortable-table",10),t.k0s()()(),t.bVm()),2&s){const e=t.XpG();t.R7$(8),t.Y8G("rows",e.perRecipientPerCriterionRowsData)("columns",e.perRecipientPerCriterionColumnsData),t.R7$(9),t.Y8G("rows",e.perRecipientOverallRowsData)("columns",e.perRecipientOverallColumnsData)}}let U=(()=>{class s extends q.a{constructor(){super((0,m.Qg)()),this.excludeSelf=!1,this.summaryColumnsData=[],this.summaryRowsData=[],this.perRecipientPerCriterionColumnsData=[],this.perRecipientPerCriterionRowsData=[],this.perRecipientOverallColumnsData=[],this.perRecipientOverallRowsData=[]}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.summaryColumnsData=[{header:"Question",sortBy:o.g.RUBRIC_SUBQUESTION},...this.choices.map(e=>({header:e,sortBy:o.g.RUBRIC_CHOICE}))],this.isWeightStatsVisible&&this.summaryColumnsData.push({header:"Average",sortBy:o.g.RUBRIC_WEIGHT_AVERAGE}),this.summaryRowsData=this.subQuestions.map((e,i)=>{const n=[{value:`${I.M.integerToLowerCaseAlphabeticalIndex(i+1)}) ${e}`},...this.choices.map((h,d)=>this.excludeSelf?{value:`${this.percentagesExcludeSelf[i][d]}% (${this.answersExcludeSelf[i][d]})${this.isWeightStatsVisible?` [${this.getDisplayWeight(this.weights[i][d])}]`:""}`}:{value:`${this.percentages[i][d]}% (${this.answers[i][d]})${this.isWeightStatsVisible?` [${this.getDisplayWeight(this.weights[i][d])}]`:""}`})];return this.isWeightStatsVisible&&n.push(this.excludeSelf?{value:this.getDisplayWeight(this.subQuestionWeightAverageExcludeSelf[i])}:{value:this.getDisplayWeight(this.subQuestionWeightAverage[i])}),n}),this.isWeightStatsVisible&&(this.perRecipientPerCriterionColumnsData=[{header:"Team",sortBy:o.g.TEAM_NAME},{header:"Recipient Name",sortBy:o.g.RECIPIENT_NAME},{header:"Sub Question",sortBy:o.g.QUESTION_TEXT},...this.choices.map(e=>({header:e,sortBy:o.g.RUBRIC_CHOICE})),{header:"Total",sortBy:o.g.RUBRIC_TOTAL_CHOSEN_WEIGHT},{header:"Average",sortBy:o.g.RUBRIC_WEIGHT_AVERAGE}],this.perRecipientPerCriterionRowsData=[],Object.values(this.perRecipientStatsMap).forEach(e=>{this.subQuestions.forEach((i,n)=>{this.perRecipientPerCriterionRowsData.push([{value:e.recipientTeam},{value:e.recipientName+(e.recipientEmail?` (${e.recipientEmail})`:"")},{value:`${I.M.integerToLowerCaseAlphabeticalIndex(n+1)}) ${i}`},...this.choices.map((h,d)=>({value:`${e.percentages[n][d]}% (${e.answers[n][d]}) [${this.getDisplayWeight(this.weights[n][d])}]`})),{value:this.getDisplayWeight(e.subQuestionTotalChosenWeight[n])},{value:this.getDisplayWeight(e.subQuestionWeightAverage[n])}])})}),this.perRecipientOverallColumnsData=[{header:"Team",sortBy:o.g.TEAM_NAME},{header:"Recipient Name",sortBy:o.g.RECIPIENT_NAME},{header:"Recipient Email",sortBy:o.g.RECIPIENT_EMAIL},...this.choices.map(e=>({header:e,sortBy:o.g.RUBRIC_CHOICE})),{header:"Total",sortBy:o.g.RUBRIC_OVERALL_TOTAL_WEIGHT},{header:"Average",sortBy:o.g.RUBRIC_OVERALL_WEIGHT_AVERAGE},{header:"Per Criterion Average",sortBy:o.g.RUBRIC_OVERALL_WEIGHT_AVERAGE}],this.perRecipientOverallRowsData=[],Object.values(this.perRecipientStatsMap).forEach(e=>{const i=e.subQuestionWeightAverage.map(n=>this.getDisplayWeight(n)).toString();this.perRecipientOverallRowsData.push([{value:e.recipientTeam},{value:e.recipientName},{value:e.recipientEmail},...this.choices.map((n,h)=>({value:`${e.percentagesAverage[h]}% (${e.answersSum[h]}) [${this.getDisplayWeight(e.weightsAverage[h])}]`})),{value:this.getDisplayWeight(e.overallWeightedSum)},{value:this.getDisplayWeight(e.overallWeightAverage)},{value:i}])}))}getDisplayWeight(e){return null===e||e===f.GY?"-":e}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-rubric-question-statistics"]],features:[t.Vt3,t.OA$],decls:16,vars:6,consts:[[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[4,"ngIf"],["container","body",1,"fa","fa-info-circle",3,"ngbTooltip"],[1,"col-sm-8","form-check",2,"text-align","right"],[1,"form-check-label"],["id","exclude-self-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],["container","body","ngbTooltip","Excludes giver's responses to himself/herself from statistics",1,"ngb-tooltip-class"],[1,"row","mb-4"],["id","rubric-statistics",1,"col-sm-12","table-responsive"],[3,"rows","columns"],[1,"col-sm-4","text-color-gray"],["ngbTooltip","Format: Response percentage (Response count) [Weight of option], e.g. 50% (2) [1.0]",1,"fa","fa-info-circle"],["id","rubric-recipient-statistics-per-criterion",1,"col-sm-12","table-responsive","mb-4"],["ngbTooltip","Assumption: all the questions are equally weighted;",1,"fa","fa-info-circle"],["id","rubric-recipient-statistics-overall",1,"col-sm-12","table-responsive","mb-4"]],template:function(i,n){1&i&&(t.j41(0,"div")(1,"div",0)(2,"div",1)(3,"strong"),t.EFF(4," Response Summary "),t.DNE(5,j,2,0,"span",2),t.k0s(),t.nrm(6,"span",3),t.k0s(),t.j41(7,"div",4)(8,"label",5)(9,"input",6),t.bIt("ngModelChange",function(d){return n.excludeSelf=d})("ngModelChange",function(){return n.getTableData()}),t.k0s(),t.j41(10,"span",7),t.EFF(11,"Exclude self evaluation"),t.k0s()()()(),t.j41(12,"div",8)(13,"div",9),t.nrm(14,"tm-sortable-table",10),t.k0s()(),t.DNE(15,$,18,4,"ng-container",2),t.k0s()),2&i&&(t.R7$(5),t.Y8G("ngIf",n.isStudent),t.R7$(1),t.Y8G("ngbTooltip","Format: Response percentage (Response count)"+(n.hasWeights?"[Weight of option]":"")+", e.g. 50% (2) "+(n.hasWeights?"[1.0]":"")),t.R7$(3),t.Y8G("ngModel",n.excludeSelf),t.R7$(5),t.Y8G("rows",n.summaryRowsData)("columns",n.summaryColumnsData),t.R7$(1),t.Y8G("ngIf",n.isWeightStatsVisible))},dependencies:[p.bT,b.Zm,b.BC,b.vS,O.md,u.c]})}return s})();var Y=r(51405);function x(s,a){if(1&s&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"strong"),t.EFF(4," Response Summary "),t.k0s()()(),t.j41(5,"div",1)(6,"div",3),t.nrm(7,"tm-sortable-table",4),t.k0s()()()),2&s){const e=t.XpG();t.R7$(7),t.Y8G("rows",e.rowsData)("columns",e.columnsData)("initialSortBy",e.SortBy.RANK_OPTIONS_OVERALL_RANK)}}let Q=(()=>{class s extends Y.h{constructor(){super((0,m.EN)()),this.SortBy=o.g,this.columnsData=[],this.rowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.columnsData=[{header:"Option",sortBy:o.g.RANK_OPTIONS_OPTION},{header:"Ranks Received"},{header:"Overall Rank",sortBy:o.g.RANK_OPTIONS_OVERALL_RANK}],this.rowsData=Object.keys(this.ranksReceivedPerOption).map(e=>[{value:e},{value:this.ranksReceivedPerOption[e].join(", ")},{value:this.rankPerOption[e]?this.rankPerOption[e]:""}])}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-rank-options-question-statistics"]],features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive","mb-4"],[3,"rows","columns","initialSortBy"]],template:function(i,n){1&i&&t.DNE(0,x,8,3,"div",0),2&i&&t.Y8G("ngIf",n.responses.length&&!n.isStudent)},dependencies:[p.bT,u.c]})}return s})();var L=r(5745);function W(s,a){if(1&s&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"strong"),t.EFF(4," Response Summary "),t.k0s()()(),t.j41(5,"div",3)(6,"div",4),t.nrm(7,"tm-sortable-table",5),t.k0s()()()),2&s){const e=t.XpG();t.R7$(7),t.Y8G("rows",e.rowsData)("columns",e.columnsData)("initialSortBy",e.SortBy.RANK_RECIPIENTS_OVERALL_RANK)}}let V=(()=>{class s extends L.X{constructor(){super((0,m.SL)()),this.SortBy=o.g,this.columnsData=[],this.rowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.columnsData=[{header:"Team",sortBy:o.g.RANK_RECIPIENTS_TEAM},{header:"Recipient",sortBy:o.g.RANK_RECIPIENTS_RECIPIENT},{header:"Ranks Received"},{header:"Self Rank",sortBy:o.g.RANK_RECIPIENTS_SELF_RANK},{header:"Overall Rank",sortBy:o.g.RANK_RECIPIENTS_OVERALL_RANK},{header:"Overall Rank Excluding Self",sortBy:o.g.RANK_RECIPIENTS_OVERALL_RANK_EXCLUDING_SELF},{header:"Team Rank",sortBy:o.g.RANK_RECIPIENTS_TEAM_RANK},{header:"Team Rank Excluding Self",sortBy:o.g.RANK_RECIPIENTS_TEAM_RANK_EXCLUDING_SELF}],this.rowsData=Object.keys(this.ranksReceivedPerOption).map(e=>[{value:this.emailToTeamName[e]},{value:this.emailToName[e]+(e===this.emailToName[e]?"":e)},{value:this.ranksReceivedPerOption[e].join(", ")},{value:this.selfRankPerOption[e]||"-"},{value:this.rankPerOption[e]||"-"},{value:this.rankPerOptionExcludeSelf[e]||"-"},{value:this.rankPerOptionInTeam[e]||"-"},{value:this.rankPerOptionInTeamExcludeSelf[e]||"-"}])}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-rank-recipients-question-statistics"]],features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"row","mb-4"],[1,"col-sm-12","table-responsive"],[3,"rows","columns","initialSortBy"]],template:function(i,n){1&i&&t.DNE(0,W,8,3,"div",0),2&i&&t.Y8G("ngIf",n.responses.length&&!n.isStudent)},dependencies:[p.bT,u.c]})}return s})();var X=r(71733);function H(s,a){1&s&&(t.j41(0,"strong"),t.EFF(1,"Summary of responses received by you"),t.k0s())}function K(s,a){1&s&&(t.j41(0,"strong"),t.EFF(1,"Response Summary"),t.k0s())}function Z(s,a){if(1&s&&(t.j41(0,"div")(1,"div",1)(2,"div",2),t.DNE(3,H,2,0,"strong",0),t.DNE(4,K,2,0,"strong",0),t.k0s()(),t.j41(5,"div",3)(6,"div",4),t.nrm(7,"tm-sortable-table",5),t.k0s()()()),2&s){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",e.isStudent),t.R7$(1),t.Y8G("ngIf",!e.isStudent),t.R7$(3),t.Y8G("columns",e.columnsData)("rows",e.rowsData)("initialSortBy",e.SortBy.CONSTSUM_OPTIONS_POINTS)}}let z=(()=>{class s extends X.B{constructor(){super((0,m.UM)()),this.SortBy=o.g,this.columnsData=[],this.rowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.columnsData=[{header:"Option",sortBy:o.g.CONSTSUM_OPTIONS_OPTION},{header:"Points Received"},{header:"Total Points",sortBy:o.g.CONSTSUM_OPTIONS_POINTS},{header:"Average Points",sortBy:o.g.CONSTSUM_OPTIONS_POINTS}],this.rowsData=Object.keys(this.pointsPerOption).map(e=>[{value:e},{value:this.pointsPerOption[e].join(", ")},{value:this.totalPointsPerOption[e]},{value:this.averagePointsPerOption[e]}])}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-constsum-options-question-statistics"]],features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"row","mb-4"],[1,"col-sm-12","table-responsive"],[3,"columns","rows","initialSortBy"]],template:function(i,n){1&i&&t.DNE(0,Z,8,5,"div",0),2&i&&t.Y8G("ngIf",n.responses.length)},dependencies:[p.bT,u.c]})}return s})();var J=r(48825);function tt(s,a){1&s&&(t.j41(0,"strong"),t.EFF(1,"Summary of responses received by you"),t.k0s())}function et(s,a){1&s&&(t.j41(0,"strong"),t.EFF(1,"Response Summary"),t.k0s())}function st(s,a){if(1&s&&(t.j41(0,"div")(1,"div",1)(2,"div",2),t.DNE(3,tt,2,0,"strong",0),t.DNE(4,et,2,0,"strong",0),t.k0s()(),t.j41(5,"div",3)(6,"div",4),t.nrm(7,"tm-sortable-table",5),t.k0s()()()),2&s){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",e.isStudent),t.R7$(1),t.Y8G("ngIf",!e.isStudent),t.R7$(3),t.Y8G("columns",e.columnsData)("rows",e.rowsData)("initialSortBy",e.SortBy.CONSTSUM_RECIPIENTS_POINTS)}}let it=(()=>{class s extends J.T{constructor(){super((0,m.iC)()),this.SortBy=o.g,this.columnsData=[],this.rowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.columnsData=[{header:"Team",sortBy:o.g.TEAM_NAME},{header:"Recipient",sortBy:o.g.RECIPIENT_NAME},{header:"Points Received"},{header:"Total Points",sortBy:o.g.CONSTSUM_RECIPIENTS_POINTS},{header:"Average Points",sortBy:o.g.CONSTSUM_RECIPIENTS_POINTS},{header:"Average Excluding Self",sortBy:o.g.CONSTSUM_RECIPIENTS_POINTS}],this.rowsData=Object.keys(this.pointsPerOption).map(e=>[{value:this.emailToTeamName[e]},{value:this.emailToName[e]+(this.emailToTeamName[e]?` (${e})`:"")},{value:this.pointsPerOption[e].join(", ")},{value:this.totalPointsPerOption[e]},{value:this.averagePointsPerOption[e]},{value:this.averagePointsExcludingSelf[e]}])}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-constsum-recipients-question-statistics"]],features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"row","mb-4"],[1,"col-sm-12","table-responsive"],[3,"columns","rows","initialSortBy"]],template:function(i,n){1&i&&t.DNE(0,st,8,5,"div",0),2&i&&t.Y8G("ngIf",n.responses.length)},dependencies:[p.bT,u.c]})}return s})();function nt(s,a){if(1&s&&(t.j41(0,"span",5),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(1),t.SpI("+",e.value,"%")}}function ot(s,a){1&s&&(t.j41(0,"span",6),t.EFF(1,"0"),t.k0s())}function at(s,a){if(1&s&&(t.j41(0,"span",7),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(1),t.SpI("",e.value,"%")}}function rt(s,a){1&s&&(t.j41(0,"span",8),t.EFF(1,"N/A"),t.k0s())}function ct(s,a){if(1&s&&(t.j41(0,"span"),t.DNE(1,nt,2,1,"span",1),t.DNE(2,ot,2,0,"span",2),t.DNE(3,at,2,1,"span",3),t.DNE(4,rt,2,0,"span",4),t.k0s()),2&s){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.value>0),t.R7$(1),t.Y8G("ngIf",0===e.value),t.R7$(1),t.Y8G("ngIf",e.value<0&&e.value>=-100),t.R7$(1),t.Y8G("ngIf",e.value===e.CONTRIBUTION_POINT_NOT_SUBMITTED||e.value===e.CONTRIBUTION_POINT_NOT_INITIALIZED)}}function ut(s,a){if(1&s&&(t.j41(0,"span",5),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(1),t.SpI("E +",e.value-100,"%")}}function lt(s,a){1&s&&(t.j41(0,"span",6),t.EFF(1,"E"),t.k0s())}function pt(s,a){if(1&s&&(t.j41(0,"span",7),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(1),t.SpI("E -",100-e.value,"%")}}function mt(s,a){1&s&&(t.j41(0,"span",8),t.EFF(1,"N/A"),t.k0s())}function ht(s,a){if(1&s&&(t.j41(0,"span"),t.DNE(1,ut,2,1,"span",1),t.DNE(2,lt,2,0,"span",2),t.DNE(3,pt,2,1,"span",3),t.DNE(4,mt,2,0,"span",4),t.k0s()),2&s){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.value>100),t.R7$(1),t.Y8G("ngIf",100===e.value),t.R7$(1),t.Y8G("ngIf",e.value<100&&e.value>=0),t.R7$(1),t.Y8G("ngIf",e.value===e.CONTRIBUTION_POINT_NOT_SUBMITTED||e.value===e.CONTRIBUTION_POINT_NOT_INITIALIZED)}}let _=(()=>{class s{constructor(){this.CONTRIBUTION_POINT_NOT_INITIALIZED=f.T5,this.CONTRIBUTION_POINT_NOT_SUBMITTED=f.GF,this.value=100,this.diffOnly=!1}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-contribution"]],inputs:{value:"value",diffOnly:"diffOnly"},decls:2,vars:2,consts:[[4,"ngIf"],["class","positive",4,"ngIf"],["class","neutral",4,"ngIf"],["class","negative",4,"ngIf"],["class","ngb-tooltip-class neutral","container","body","ngbTooltip","Not Available: There is no data for this or the data is not enough",4,"ngIf"],[1,"positive"],[1,"neutral"],[1,"negative"],["container","body","ngbTooltip","Not Available: There is no data for this or the data is not enough",1,"ngb-tooltip-class","neutral"]],template:function(i,n){1&i&&(t.DNE(0,ct,5,4,"span",0),t.DNE(1,ht,5,4,"span",0)),2&i&&(t.Y8G("ngIf",n.diffOnly),t.R7$(1),t.Y8G("ngIf",!n.diffOnly))},dependencies:[p.bT,O.md],styles:[".positive[_ngcontent-%COMP%]{color:#108627}.negative[_ngcontent-%COMP%]{color:#e74c3c}.neutral[_ngcontent-%COMP%]{color:gray}"]})}return s})();function dt(s,a){1&s&&(t.j41(0,"span"),t.EFF(1,",\xa0"),t.k0s())}function gt(s,a){if(1&s&&(t.j41(0,"span"),t.DNE(1,dt,2,0,"span",1),t.nrm(2,"tm-contribution",2),t.k0s()),2&s){const e=a.$implicit,i=a.index;t.R7$(1),t.Y8G("ngIf",0!==i),t.R7$(1),t.Y8G("value",e)}}function Tt(s,a){if(1&s&&(t.j41(0,"span"),t.nrm(1,"tm-contribution",2),t.k0s()),2&s){const e=t.XpG();t.R7$(1),t.Y8G("value",e.CONTRIBUTION_POINT_NOT_SUBMITTED)}}let vt=(()=>{class s{constructor(){this.CONTRIBUTION_POINT_NOT_SUBMITTED=f.GF,this.ratingsList=[]}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-contribution-ratings-list"]],inputs:{ratingsList:"ratingsList"},decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(i,n){1&i&&(t.DNE(0,gt,3,2,"span",0),t.DNE(1,Tt,2,1,"span",1)),2&i&&(t.Y8G("ngForOf",n.ratingsList),t.R7$(1),t.Y8G("ngIf",!n.ratingsList.length))},dependencies:[p.Sq,p.bT,_]})}return s})();var _t=r(15069),ft=r(25552),Et=r(21894),Rt=r(6690),St=r(6294),Ct=r(53992);function yt(s,a){1&s&&(t.j41(0,"span"),t.EFF(1,",\xa0"),t.k0s())}function bt(s,a){if(1&s&&(t.j41(0,"span"),t.DNE(1,yt,2,0,"span",0),t.nrm(2,"tm-contribution",9),t.k0s()),2&s){const e=a.$implicit,i=a.index;t.R7$(1),t.Y8G("ngIf",0!==i),t.R7$(1),t.Y8G("value",e)}}function Ot(s,a){1&s&&(t.j41(0,"span"),t.EFF(1,",\xa0"),t.k0s())}function It(s,a){if(1&s&&(t.j41(0,"span"),t.DNE(1,Ot,2,0,"span",0),t.nrm(2,"tm-contribution",9),t.k0s()),2&s){const e=a.$implicit,i=a.index;t.R7$(1),t.Y8G("ngIf",0!==i),t.R7$(1),t.Y8G("value",e)}}function Nt(s,a){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"div",2)(2,"div",3),t.EFF(3," Comparison of Work Distribution "),t.k0s(),t.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7)(8,"strong"),t.EFF(9,"My view:"),t.k0s()()(),t.j41(10,"div",8)(11,"strong"),t.EFF(12,"of me:"),t.k0s(),t.EFF(13,"\xa0"),t.nrm(14,"tm-contribution",9),t.k0s(),t.j41(15,"div",10)(16,"strong"),t.EFF(17,"of others:"),t.k0s(),t.EFF(18,"\xa0 "),t.DNE(19,bt,3,2,"span",11),t.EFF(20," \xa0"),t.j41(21,"a",12),t.bIt("click",function(){t.eBV(e);const n=t.XpG(),h=t.sdS(3);return t.Njj(n.openHelpModal(h))}),t.nrm(22,"i",13),t.k0s()()(),t.j41(23,"div",14)(24,"div",6)(25,"strong"),t.EFF(26,"Team view:"),t.k0s()(),t.j41(27,"div",15)(28,"span",16)(29,"strong"),t.EFF(30,"of me:\xa0"),t.k0s()(),t.nrm(31,"tm-contribution",9),t.k0s(),t.j41(32,"div",17)(33,"strong"),t.EFF(34,"of others:"),t.k0s(),t.EFF(35,"\xa0 "),t.DNE(36,It,3,2,"span",11),t.k0s()()()()()}if(2&s){const e=t.XpG();t.R7$(14),t.Y8G("value",e.questionStatisticsForStudent.claimed),t.R7$(5),t.Y8G("ngForOf",e.questionStatisticsForStudent.claimedOthersValues),t.R7$(12),t.Y8G("value",e.questionStatisticsForStudent.perceived),t.R7$(5),t.Y8G("ngForOf",e.questionStatisticsForStudent.perceivedOthers)}}const Ft=function(s,a){return{questionId:s,section:a}};function Dt(s,a){if(1&s&&(t.j41(0,"div")(1,"div",14)(2,"div",18)(3,"strong"),t.EFF(4," Response Summary "),t.k0s()(),t.j41(5,"div",19),t.EFF(6," ["),t.j41(7,"a",20),t.EFF(8,"How do I interpret/use these values?"),t.k0s(),t.EFF(9,"] "),t.k0s()(),t.j41(10,"div",21)(11,"div",22),t.nrm(12,"tm-sortable-table",23),t.k0s()()()),2&s){const e=t.XpG();t.R7$(7),t.Y8G("queryParams",t.l_i(3,Ft,e.QuestionsSectionQuestions.CONTRIBUTION,e.Sections.questions)),t.R7$(5),t.Y8G("rows",e.rowsData)("columns",e.columnsData)}}function wt(s,a){1&s&&(t.j41(0,"h4"),t.EFF(1,"How do I interpret these results?"),t.k0s(),t.j41(2,"ul")(3,"li"),t.EFF(4," Compare the values given in 'My view' with those under 'Team's view'. This tells you whether your perception matches what the team thinks, particularly regarding your own contribution. You may ignore minor differences. "),t.k0s(),t.j41(5,"li"),t.EFF(6," From the estimates you submit, we try to deduce the answer to this question: In your opinion, if your teammates are doing the project by themselves without you, how do they compare against each other in terms of contribution? We want to deduce your unbiased opinion about your team members' contributions. "),t.k0s(),t.j41(7,"li"),t.EFF(8," Please note that the \u2018Team view\u2019 shown to you has been adjusted to match the total of your own view (i.e., the \u2018My view\u2019). In the example below, \u2018My view\u2019 adds up to 4E+10% and therefore, the \u2018Team view\u2019 has been scaled up to add up to 4E+10% as well (give or take minor differences due to rounding off errors). "),t.j41(9,"div",2)(10,"div",3),t.EFF(11," Comparison of Work Distribution "),t.k0s(),t.j41(12,"div",4)(13,"div",5)(14,"div",6)(15,"span",7)(16,"strong"),t.EFF(17,"My view:"),t.k0s()()(),t.j41(18,"div",8)(19,"strong"),t.EFF(20,"of me:"),t.k0s(),t.EFF(21,"\xa0 "),t.nrm(22,"tm-contribution",9),t.k0s(),t.j41(23,"div",10)(24,"strong"),t.EFF(25,"of others:"),t.k0s(),t.EFF(26,"\xa0 "),t.j41(27,"span"),t.nrm(28,"tm-contribution",9),t.k0s(),t.EFF(29,"\xa0 "),t.j41(30,"span"),t.nrm(31,"tm-contribution",9),t.k0s(),t.EFF(32,"\xa0 "),t.j41(33,"span"),t.nrm(34,"tm-contribution",9),t.k0s()()(),t.j41(35,"div",14)(36,"div",6)(37,"strong"),t.EFF(38,"Team view:"),t.k0s()(),t.j41(39,"div",15)(40,"span",16)(41,"strong"),t.EFF(42,"of me:"),t.k0s(),t.EFF(43,"\xa0 "),t.k0s(),t.nrm(44,"tm-contribution",9),t.k0s(),t.j41(45,"div",17)(46,"strong"),t.EFF(47,"of others:"),t.k0s(),t.EFF(48,"\xa0 "),t.j41(49,"span"),t.nrm(50,"tm-contribution",9),t.k0s(),t.EFF(51,"\xa0 "),t.j41(52,"span"),t.nrm(53,"tm-contribution",9),t.k0s(),t.EFF(54,"\xa0 "),t.j41(55,"span"),t.nrm(56,"tm-contribution",9),t.k0s()()()()(),t.EFF(57," The reason for such an adjustment is to allow you to make a direct comparison between your own view of work distribution against that of the team. In the example above, the \u2018Team view\u2019 is quite close to the \u2018My view\u2019 which means the respondent has an accurate view of how much each contributed (in other words, the team agrees with the respondent\u2019s view). "),t.nrm(58,"br"),t.EFF(59," Note that the above also means the \u2018Team view\u2019 seen by each team member could be different. "),t.k0s()(),t.j41(60,"h4"),t.EFF(61,"How are contribution question results used in grading?"),t.k0s(),t.j41(62,"ul")(63,"li"),t.EFF(64," TEAMMATES does not calculate grades. Instructors are free to choose how they use contribution question results. "),t.k0s(),t.j41(65,"li"),t.EFF(66," TEAMMATES recommends that contribution question results be used only as flags to identify teams with contribution imbalances. Once identified, the instructor is recommended to investigate further before taking action. "),t.k0s()(),t.j41(67,"h4"),t.EFF(68,"How are the scores for contribution questions calculated?"),t.k0s(),t.j41(69,"p"),t.EFF(70," Here are the important things to note about "),t.j41(71,"a",24),t.EFF(72,"how contribution scores are calculated"),t.k0s(),t.EFF(73,": "),t.k0s(),t.j41(74,"ul")(75,"li"),t.EFF(76," The contribution value you attribute to yourself is not used to calculate the team's view of your contribution. That means you cannot boost your perceived contribution by claiming a high contribution for yourself or attributing a low contribution to team members. "),t.k0s(),t.j41(77,"li"),t.EFF(78," We adjust the estimates you submitted to remove artificial inflation/deflation. For example, giving everyone "),t.j41(79,"code"),t.EFF(80,"[Equal share + 20%]"),t.k0s(),t.EFF(81," is as same as giving everyone "),t.j41(82,"code"),t.EFF(83,"[Equal share]"),t.k0s(),t.EFF(84," because in both cases all members have done a similar share of work. "),t.k0s(),t.j41(85,"li"),t.EFF(86," The sum of values in the team's view has been scaled to equal the sum of values in your view. That way, you can make a direct comparison between your view and the team's view. As this scaling is specific to you, the values you see in team's view may not match the values your team members see in their results. "),t.k0s()()),2&s&&(t.R7$(22),t.Y8G("value",110),t.R7$(6),t.Y8G("value",110),t.R7$(3),t.Y8G("value",110),t.R7$(3),t.Y8G("value",80),t.R7$(10),t.Y8G("value",109),t.R7$(6),t.Y8G("value",109),t.R7$(3),t.Y8G("value",109),t.R7$(3),t.Y8G("value",82))}let At=(()=>{class s extends Rt.D{constructor(e){super((0,m.T)()),this.simpleModalService=e,this.QuestionsSectionQuestions=_t.m,this.Sections=ft.Z,this.displayContributionStats=!0,this.columnsData=[],this.rowsData=[]}ngOnInit(){this.parseStatistics(),this.getTableData()}ngOnChanges(){this.parseStatistics(),this.getTableData()}getTableData(){if(!this.questionOverallStatistics)return;const e=this.questionOverallStatistics;this.columnsData=[{header:"Team",sortBy:o.g.CONTRIBUTION_TEAM},{header:"Recipient",sortBy:o.g.CONTRIBUTION_RECIPIENT},{header:"CC",sortBy:o.g.CONTRIBUTION_VALUE,headerToolTip:"Claimed Contribution: This is the student's own estimation of his/her contributions"},{header:"PC",sortBy:o.g.CONTRIBUTION_VALUE,headerToolTip:"Perceived Contribution: This is the average of what other team members think this student contributed"},{header:"Diff",sortBy:o.g.CONTRIBUTION_VALUE,headerToolTip:"Perceived Contribution - Claimed Contribution"},{header:"Ratings Received",headerToolTip:"The list of points that this student received from others"}],this.rowsData=Object.keys(this.emailToName).map(i=>[{value:this.emailToTeamName[i]},{value:`${this.emailToName[i]} (${i})`},{value:e.results[i].claimed,customComponent:{component:_,componentData:()=>({value:e.results[i].claimed})}},{value:e.results[i].perceived,customComponent:{component:_,componentData:()=>({value:e.results[i].perceived})}},{value:this.emailToDiff[i],customComponent:{component:_,componentData:()=>({value:this.emailToDiff[i],diffOnly:!0})}},{customComponent:{component:vt,componentData:()=>({ratingsList:e.results[i].perceivedOthers})}}])}openHelpModal(e){this.simpleModalService.openInformationModal("More info about contribution questions",Et.i.NEUTRAL,e)}static#t=this.\u0275fac=function(i){return new(i||s)(t.rXU(St.r))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-contribution-question-statistics"]],inputs:{displayContributionStats:"displayContributionStats"},features:[t.Vt3,t.OA$],decls:4,vars:2,consts:[[4,"ngIf"],["contributionHelpModal",""],[1,"card",2,"margin-top","20px"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],[1,"row",2,"margin-bottom","5px"],[1,"col-sm-2"],["ngbTooltip","Compare 'My view' with 'Team's view' to see if your perception is similar to your team's perception",1,"ngb-tooltip-class"],["id","own-view-me",1,"col-sm-2"],[3,"value"],["id","own-view-others",1,"col-sm-8"],[4,"ngFor","ngForOf"],["queryParamsHandling","preserve",3,"tmRouterLink","click"],[1,"fas","fa-info-circle"],[1,"row"],["id","team-view-me",1,"col-sm-2"],["ngbTooltip","The average contribution the other members of your team attributed to you",1,"ngb-tooltip-class"],["id","team-view-others",1,"col-sm-8"],[1,"col-sm-4","text-color-gray"],[1,"col-sm-8",2,"text-align","right"],["tmRouterLink","/web/instructor/help","rel","noopener noreferrer","target","_blank",3,"queryParams"],[1,"row","mb-4"],[1,"col-sm-12","table-responsive"],[3,"rows","columns"],["href","/web/front/help/instructor#team-contribution-questions","rel","noopener noreferrer","target","_blank"]],template:function(i,n){1&i&&(t.DNE(0,Nt,37,4,"div",0),t.DNE(1,Dt,13,6,"div",0),t.DNE(2,wt,87,8,"ng-template",null,1,t.C5r)),2&i&&(t.Y8G("ngIf",n.isStudent&&n.displayContributionStats&&n.questionStatisticsForStudent),t.R7$(1),t.Y8G("ngIf",!n.isStudent&&n.displayContributionStats&&n.questionOverallStatistics&&n.responses.length))},dependencies:[p.Sq,p.bT,O.md,u.c,_,Ct.y]})}return s})();function Gt(s,a){if(1&s&&t.nrm(0,"tm-contribution-question-statistics",2),2&s){const e=t.XpG();t.Y8G("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)("displayContributionStats",e.displayContributionStats)("statistics",e.statistics)}}function Pt(s,a){if(1&s&&t.nrm(0,"tm-text-question-statistics",3),2&s){const e=t.XpG();t.Y8G("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function Bt(s,a){if(1&s&&t.nrm(0,"tm-constsum-options-question-statistics",3),2&s){const e=t.XpG();t.Y8G("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function kt(s,a){if(1&s&&t.nrm(0,"tm-constsum-recipients-question-statistics",3),2&s){const e=t.XpG();t.Y8G("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function Mt(s,a){if(1&s&&t.nrm(0,"tm-num-scale-question-statistics",3),2&s){const e=t.XpG();t.Y8G("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function qt(s,a){if(1&s&&t.nrm(0,"tm-rubric-question-statistics",3),2&s){const e=t.XpG();t.Y8G("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function jt(s,a){if(1&s&&t.nrm(0,"tm-rank-options-question-statistics",3),2&s){const e=t.XpG();t.Y8G("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function $t(s,a){if(1&s&&t.nrm(0,"tm-rank-recipients-question-statistics",3),2&s){const e=t.XpG();t.Y8G("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function Ut(s,a){if(1&s&&t.nrm(0,"tm-msq-question-statistics",3),2&s){const e=t.XpG();t.Y8G("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function Yt(s,a){if(1&s&&t.nrm(0,"tm-mcq-question-statistics",3),2&s){const e=t.XpG();t.Y8G("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}let xt=(()=>{class s{constructor(e){this.feedbackResponsesService=e,this.responses=[],this.question={questionType:l.OX.TEXT,questionText:""},this.recipientType=l.tp.NONE,this.isStudent=!1,this.statistics="",this.displayContributionStats=!0,this.section="",this.sectionType=c.m.EITHER,this.FeedbackQuestionType=l.OX,this.responsesToUse=[]}ngOnInit(){this.filterResponses()}ngOnChanges(){this.filterResponses()}filterResponses(){this.responsesToUse=this.responses.filter(e=>!(e.isMissingResponse&&this.question.questionType!==l.OX.CONTRIB||this.isUsingResponsesToSelf()&&"You"!==e.recipient)&&this.feedbackResponsesService.isFeedbackResponsesDisplayedOnSection(e,this.section,this.sectionType))}isUsingResponsesToSelf(){return this.isStudent&&(this.question.questionType===l.OX.NUMSCALE||this.question.questionType===l.OX.CONSTSUM_RECIPIENTS||this.question.questionType===l.OX.CONSTSUM_OPTIONS)}static#t=this.\u0275fac=function(i){return new(i||s)(t.rXU(R.V))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["tm-single-statistics"]],inputs:{responses:"responses",question:"question",recipientType:"recipientType",isStudent:"isStudent",statistics:"statistics",displayContributionStats:"displayContributionStats",section:"section",sectionType:"sectionType"},features:[t.OA$],decls:10,vars:10,consts:[[3,"responses","question","recipientType","isStudent","displayContributionStats","statistics",4,"ngIf"],[3,"responses","question","recipientType","isStudent",4,"ngIf"],[3,"responses","question","recipientType","isStudent","displayContributionStats","statistics"],[3,"responses","question","recipientType","isStudent"]],template:function(i,n){1&i&&(t.DNE(0,Gt,1,6,"tm-contribution-question-statistics",0),t.DNE(1,Pt,1,4,"tm-text-question-statistics",1),t.DNE(2,Bt,1,4,"tm-constsum-options-question-statistics",1),t.DNE(3,kt,1,4,"tm-constsum-recipients-question-statistics",1),t.DNE(4,Mt,1,4,"tm-num-scale-question-statistics",1),t.DNE(5,qt,1,4,"tm-rubric-question-statistics",1),t.DNE(6,jt,1,4,"tm-rank-options-question-statistics",1),t.DNE(7,$t,1,4,"tm-rank-recipients-question-statistics",1),t.DNE(8,Ut,1,4,"tm-msq-question-statistics",1),t.DNE(9,Yt,1,4,"tm-mcq-question-statistics",1)),2&i&&(t.Y8G("ngIf",n.question.questionType===n.FeedbackQuestionType.CONTRIB),t.R7$(1),t.Y8G("ngIf",n.question.questionType===n.FeedbackQuestionType.TEXT),t.R7$(1),t.Y8G("ngIf",n.question.questionType===n.FeedbackQuestionType.CONSTSUM_OPTIONS),t.R7$(1),t.Y8G("ngIf",n.question.questionType===n.FeedbackQuestionType.CONSTSUM_RECIPIENTS),t.R7$(1),t.Y8G("ngIf",n.question.questionType===n.FeedbackQuestionType.NUMSCALE),t.R7$(1),t.Y8G("ngIf",n.question.questionType===n.FeedbackQuestionType.RUBRIC),t.R7$(1),t.Y8G("ngIf",n.question.questionType===n.FeedbackQuestionType.RANK_OPTIONS),t.R7$(1),t.Y8G("ngIf",n.question.questionType===n.FeedbackQuestionType.RANK_RECIPIENTS),t.R7$(1),t.Y8G("ngIf",n.question.questionType===n.FeedbackQuestionType.MSQ),t.R7$(1),t.Y8G("ngIf",n.question.questionType===n.FeedbackQuestionType.MCQ))},dependencies:[p.bT,T,v,A,M,U,Q,V,z,it,At]})}return s})()},42720:(E,g,r)=>{r.d(g,{C:()=>o});var l=r(60177),c=r(89417),t=r(82646),R=r(94227),p=r(58727),S=r(36853),m=r(48381),T=r(17705);let C=(()=>{class u{static#t=this.\u0275fac=function(v){return new(v||u)};static#e=this.\u0275mod=T.$C({type:u});static#s=this.\u0275inj=T.G2t({imports:[l.MD,c.YN,R.n8,S.H,t.iI,p.a,m.d]})}return u})(),o=(()=>{class u{static#t=this.\u0275fac=function(v){return new(v||u)};static#e=this.\u0275mod=T.$C({type:u});static#s=this.\u0275inj=T.G2t({imports:[l.MD,C]})}return u})()},15069:(E,g,r)=>{r.d(g,{m:()=>l});var l=function(c){return c.ESSAY="essay-questions",c.SINGLE_ANSWER_MCQ="single-answer-mcq",c.MULTIPLE_ANSWER_MCQ="multiple-answer-mcq",c.NUMERICAL_SCALE="numerical-scale",c.POINTS_OPTIONS="points-options",c.POINTS_RECIPIENTS="points-recipients",c.CONTRIBUTION="contribution",c.RUBRIC="rubric",c.RANK_OPTIONS="rank-options",c.RANK_RECIPIENTS="rank-recipients",c}(l||{})},25552:(E,g,r)=>{r.d(g,{Z:()=>l});var l=function(c){return c.students="students",c.courses="courses",c.sessions="sessions",c.questions="questions",c.general="general",c.body="body",c}(l||{})}}]);