"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[8921],{72890:(M,S,o)=>{o.d(S,{Y:()=>a});var t=o(17705),m=o(60177);function C(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",2)(1,"p",3),t.EFF(2),t.k0s(),t.j41(3,"button",4),t.bIt("click",function(){t.eBV(e);const N=t.XpG();return t.Njj(N.retryEvent.emit())}),t.nrm(4,"i",5),t.EFF(5,"\xa0Retry"),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.JRh(e.message),t.R7$(1),t.Y8G("disabled",e.retryButtonDisabled)}}function f(i,c){1&i&&t.SdG(0)}const E=["*"];let a=(()=>{class i{constructor(){this.message="",this.shouldShowRetry=!1,this.retryButtonDisabled=!1,this.retryEvent=new t.bkB}static#t=this.\u0275fac=function(b){return new(b||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["tm-loading-retry"]],inputs:{message:"message",shouldShowRetry:"shouldShowRetry",retryButtonDisabled:"retryButtonDisabled"},outputs:{retryEvent:"retryEvent"},ngContentSelectors:E,decls:3,vars:2,consts:[["class","text-center",4,"ngIf","ngIfElse"],["content",""],[1,"text-center"],[1,"text-muted","m-1"],[1,"btn","btn-primary",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-redo"]],template:function(b,N){if(1&b&&(t.NAR(),t.DNE(0,C,6,2,"div",0),t.DNE(1,f,1,0,"ng-template",null,1,t.C5r)),2&b){const D=t.sdS(2);t.Y8G("ngIf",N.shouldShowRetry)("ngIfElse",D)}},dependencies:[m.bT]})}return i})()},34029:(M,S,o)=>{o.d(S,{Z:()=>C});var t=o(60177),m=o(17705);let C=(()=>{class f{static#t=this.\u0275fac=function(i){return new(i||f)};static#e=this.\u0275mod=m.$C({type:f});static#n=this.\u0275inj=m.G2t({imports:[t.MD]})}return f})()},86082:(M,S,o)=>{o.d(S,{F:()=>E});var t=o(17705),m=o(60177);function C(a,i){if(1&a&&t.nrm(0,"i",3),2&a){const c=t.XpG();t.xc7("color",c.chevronColor)}}function f(a,i){if(1&a&&t.nrm(0,"i",4),2&a){const c=t.XpG();t.xc7("color",c.chevronColor)}}let E=(()=>{class a{constructor(){this.isExpanded=!1,this.chevronColor="white"}static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["tm-panel-chevron"]],inputs:{isExpanded:"isExpanded",chevronColor:"chevronColor"},decls:3,vars:3,consts:[["type","button","aria-label","Expand panel",1,"chevron","btn-course","btn","btn-primary","btn-sm"],["class","fas fa-chevron-down",3,"color",4,"ngIf"],["class","fas fa-chevron-up",3,"color",4,"ngIf"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"]],template:function(e,b){1&e&&(t.j41(0,"button",0),t.DNE(1,C,1,2,"i",1),t.DNE(2,f,1,2,"i",2),t.k0s()),2&e&&(t.BMQ("aria-expanded",b.isExpanded),t.R7$(1),t.Y8G("ngIf",!b.isExpanded),t.R7$(1),t.Y8G("ngIf",b.isExpanded))},dependencies:[m.bT],styles:["button.chevron[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;background-color:inherit;border-width:0}button.chevron[_ngcontent-%COMP%]:active{background-color:inherit}"]})}return a})()},57125:(M,S,o)=>{o.d(S,{o:()=>C});var t=o(60177),m=o(17705);let C=(()=>{class f{static#t=this.\u0275fac=function(i){return new(i||f)};static#e=this.\u0275mod=m.$C({type:f});static#n=this.\u0275inj=m.G2t({imports:[t.MD]})}return f})()},17422:(M,S,o)=>{o.d(S,{a:()=>f});var t=o(17705),m=o(58240),C=o(94227);let f=(()=>{class E{constructor(i){this.progressBarService=i,this.progressPercentage=10}ngOnInit(){this.getProgress()}getProgress(){this.progressBarService.progressPercentage.subscribe(i=>{this.progressPercentage=i})}static#t=this.\u0275fac=function(c){return new(c||E)(t.rXU(m.W))};static#e=this.\u0275cmp=t.VBU({type:E,selectors:[["tm-progress-bar"]],decls:2,vars:3,consts:[["type","info","height","26px","showValue","true",3,"value","striped","animated"]],template:function(c,e){1&c&&(t.j41(0,"div"),t.nrm(1,"ngb-progressbar",0),t.k0s()),2&c&&(t.R7$(1),t.Y8G("value",e.progressPercentage)("striped",!0)("animated",!0))},dependencies:[C.EH],encapsulation:2})}return E})()},21894:(M,S,o)=>{o.d(S,{i:()=>t});var t=function(m){return m[m.WARNING=0]="WARNING",m[m.DANGER=1]="DANGER",m[m.INFO=2]="INFO",m[m.NEUTRAL=3]="NEUTRAL",m[m.LOAD=4]="LOAD",m}(t||{})},7730:(M,S,o)=>{o.d(S,{c:()=>R,u:()=>l});var t=o(17705),m=o(26195),C=o(16),f=o(60177),E=o(94227),a=o(99488);function i(r,h){1&r&&t.nrm(0,"i",13)}function c(r,h){1&r&&t.nrm(0,"i",14)}const e=function(r){return{"ngb-tooltip-class":r}};function b(r,h){if(1&r&&(t.j41(0,"button",7)(1,"span",8),t.EFF(2),t.k0s(),t.j41(3,"span",9),t.nrm(4,"i",10),t.DNE(5,i,1,0,"i",11),t.DNE(6,c,1,0,"i",12),t.k0s()()),2&r){const n=t.XpG().$implicit,p=t.XpG();t.R7$(1),t.Y8G("ngClass",t.eq3(5,e,n.headerToolTip))("ngbTooltip",n.headerToolTip),t.R7$(1),t.JRh(n.header),t.R7$(3),t.Y8G("ngIf",n.sortBy&&p.columnToSortBy===n.header&&p.sortOrder===p.SortOrder.DESC),t.R7$(1),t.Y8G("ngIf",n.sortBy&&p.columnToSortBy===n.header&&p.sortOrder===p.SortOrder.ASC)}}function N(r,h){if(1&r&&(t.j41(0,"span",15),t.EFF(1),t.k0s()),2&r){const n=t.XpG().$implicit;t.Y8G("ngbTooltip",n.headerToolTip)("ngClass",t.eq3(3,e,n.headerToolTip)),t.R7$(1),t.JRh(n.header)}}const D=function(r){return{"sortable-header":r}};function B(r,h){if(1&r){const n=t.RV6();t.j41(0,"th",4),t.bIt("click",function(){const I=t.eBV(n).$implicit,$=t.XpG();return t.Njj(I.sortBy&&$.onClickHeader(I.header))}),t.DNE(1,b,7,7,"button",5),t.DNE(2,N,2,5,"span",6),t.k0s()}if(2&r){const n=h.$implicit,p=t.XpG();t.HbH(null==n?null:n.headerClass),t.Y8G("ngClass",t.eq3(8,D,n.sortBy))("ngStyle",p.getAlignment(n)),t.BMQ("aria-sort",p.getAriaSort(n.header)),t.R7$(1),t.Y8G("ngIf",n.sortBy),t.R7$(1),t.Y8G("ngIf",!n.sortBy)}}function G(r,h){if(1&r&&t.nrm(0,"ndc-dynamic",19),2&r){const n=t.XpG().$implicit,p=t.XpG().index;t.Y8G("ngComponentOutlet",n.customComponent.component)("ndcDynamicInputs",n.customComponent.componentData(p))}}function F(r,h){if(1&r&&(t.qex(0),t.nrm(1,"span",20),t.bVm()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.Y8G("innerHTML",n.displayValue,t.npT)}}function A(r,h){if(1&r&&(t.qex(0),t.EFF(1),t.bVm()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.JRh(n.value)}}function P(r,h){if(1&r&&(t.j41(0,"td"),t.DNE(1,G,1,2,"ndc-dynamic",17),t.DNE(2,F,2,1,"ng-container",18),t.DNE(3,A,2,1,"ng-container",18),t.k0s()),2&r){const n=h.$implicit,p=t.XpG(2);t.Aen(p.getStyle(n)),t.R7$(1),t.Y8G("ngIf",n.customComponent),t.R7$(1),t.Y8G("ngIf",!n.customComponent&&n.displayValue),t.R7$(1),t.Y8G("ngIf",!n.customComponent&&!n.displayValue)}}function x(r,h){if(1&r&&(t.j41(0,"tr"),t.DNE(1,P,4,5,"td",16),t.k0s()),2&r){const n=h.$implicit;t.R7$(1),t.Y8G("ngForOf",n)}}var l=function(r){return r[r.BLUE=0]="BLUE",r[r.WHITE=1]="WHITE",r[r.OTHERS=2]="OTHERS",r}(l||{});let R=(()=>{class r{constructor(n){this.tableComparatorService=n,this.SortOrder=m.x,this.tableId="",this.headerColorScheme=l.BLUE,this.customHeaderStyle="",this.columns=[],this.rows=[],this.initialSortBy=m.g.NONE,this.sortOrder=m.x.ASC,this.sortEvent=new t.bkB,this.columnToSortBy="",this.tableRows=[],this.setMainTableStyle=!0}ngOnInit(){this.tableRows=this.rows,this.initialSort(),this.setMainTableStyle=this.headerColorScheme===l.BLUE}ngOnChanges(){this.tableRows=this.rows,this.sortRows()}onClickHeader(n){this.sortOrder=this.columnToSortBy===n&&this.sortOrder===m.x.ASC?m.x.DESC:m.x.ASC,this.columnToSortBy=n,this.sortRows()}getAriaSort(n){return n!==this.columnToSortBy?"none":this.sortOrder===m.x.ASC?"ascending":"descending"}sortRows(){if(!this.columnToSortBy)return;const n=this.columns.findIndex(T=>T.header===this.columnToSortBy);if(n<0)return;const p=this.columns[n].sortBy;p&&(this.sortEvent.emit({sortBy:p,sortOrder:this.sortOrder}),this.tableRows.sort((T,I)=>this.tableComparatorService.compare(p,this.sortOrder,String(T[n].value),String(I[n].value))))}initialSort(){const n=this.columns.findIndex(p=>p.sortBy===this.initialSortBy);n<0||(this.columnToSortBy=this.columns[n].header,this.sortRows())}getStyle(n){return n.style}getAlignment(n){return{"text-align":`${n?.alignment||"start"}`}}static#t=this.\u0275fac=function(p){return new(p||r)(t.rXU(C.C))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["tm-sortable-table"]],inputs:{tableId:"tableId",headerColorScheme:"headerColorScheme",customHeaderStyle:"customHeaderStyle",columns:"columns",rows:"rows",initialSortBy:"initialSortBy",sortOrder:"sortOrder"},outputs:{sortEvent:"sortEvent"},features:[t.OA$],decls:6,vars:3,consts:[[1,"table","table-bordered","table-striped"],[3,"ngClass"],[3,"ngClass","class","ngStyle","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"ngClass","ngStyle","click"],["class","d-lg-flex align-items-center gap-lg-1 d-inline ",4,"ngIf"],["container","body",3,"ngbTooltip","ngClass",4,"ngIf"],[1,"d-lg-flex","align-items-center","gap-lg-1","d-inline"],["container","body",3,"ngClass","ngbTooltip"],["aria-hidden","true",1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],["container","body",3,"ngbTooltip","ngClass"],[3,"style",4,"ngFor","ngForOf"],[3,"ngComponentOutlet","ndcDynamicInputs",4,"ngIf"],[4,"ngIf"],[3,"ngComponentOutlet","ndcDynamicInputs"],[3,"innerHTML"]],template:function(p,T){1&p&&(t.j41(0,"table",0)(1,"thead")(2,"tr",1),t.DNE(3,B,3,10,"th",2),t.k0s()(),t.j41(4,"tbody"),t.DNE(5,x,2,1,"tr",3),t.k0s()()),2&p&&(t.R7$(2),t.Y8G("ngClass",T.setMainTableStyle?"bg-primary text-white":T.customHeaderStyle),t.R7$(1),t.Y8G("ngForOf",T.columns),t.R7$(2),t.Y8G("ngForOf",T.tableRows))},dependencies:[f.YU,f.OI,f.Sq,f.bT,f.B3,E.md,a.Bf,a.ar,a.dE],styles:[".sortable-header[_ngcontent-%COMP%]{cursor:pointer}.sortable-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3em}.sortable-header[_ngcontent-%COMP%]   .fa-stack[_ngcontent-%COMP%]{width:20%}.sortable-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;padding:0;text-align:left;width:100%;font:inherit;cursor:inherit}th[_ngcontent-%COMP%]{vertical-align:middle}"]})}return r})()},59101:(M,S,o)=>{o.r(S),o.d(S,{InstructorStudentListPageModule:()=>z});var t=o(60177),m=o(89417),C=o(82646),f=o(94227),E=o(70980),a=o(26195),i=o(78613),c=o(44199),e=o(17705),b=o(21036),N=o(89734),D=o(86978),B=o(30715),G=o(16),F=o(76037),A=o(57645),P=o(72890),x=o(86082),l=o(53992);function R(u,O){1&u&&e.nrm(0,"div")}function r(u,O){if(1&u){const s=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"strong",8),e.EFF(4," Sort By: "),e.k0s(),e.j41(5,"div",9)(6,"button",10),e.bIt("click",function(){e.eBV(s);const _=e.XpG();return e.Njj(_.sortCourses(_.SortBy.COURSE_ID))}),e.EFF(7,"Course ID"),e.k0s(),e.j41(8,"button",11),e.bIt("click",function(){e.eBV(s);const _=e.XpG();return e.Njj(_.sortCourses(_.SortBy.COURSE_NAME))}),e.EFF(9,"Course Name"),e.k0s(),e.j41(10,"button",12),e.bIt("click",function(){e.eBV(s);const _=e.XpG();return e.Njj(_.sortCourses(_.SortBy.COURSE_CREATION_DATE))}),e.EFF(11,"Creation Date"),e.k0s()()()()()}if(2&u){const s=e.XpG();e.R7$(6),e.Y8G("disabled",s.isSelectedForSorting(s.SortBy.COURSE_ID)),e.R7$(2),e.Y8G("disabled",s.isSelectedForSorting(s.SortBy.COURSE_NAME)),e.R7$(2),e.Y8G("disabled",s.isSelectedForSorting(s.SortBy.COURSE_CREATION_DATE))}}function h(u,O){if(1&u&&(e.j41(0,"div",28)(1,"div",29)(2,"div",14)(3,"div",30),e.EFF(4),e.k0s()()(),e.j41(5,"div",29)(6,"div",14)(7,"div",31),e.EFF(8),e.k0s()()(),e.j41(9,"div",29)(10,"div",14)(11,"div",32),e.EFF(12),e.k0s()()()()),2&u){const s=e.XpG(5).$implicit;e.R7$(4),e.SpI(" ",s.stats.numOfStudents," students "),e.R7$(4),e.SpI(" ",s.stats.numOfSections," sections "),e.R7$(4),e.SpI(" ",s.stats.numOfTeams," teams ")}}const n=function(u){return{courseid:u}};function p(u,O){if(1&u){const s=e.RV6();e.qex(0),e.DNE(1,h,13,3,"div",25),e.nrm(2,"hr"),e.j41(3,"a",26),e.EFF(4," Enroll Students "),e.k0s(),e.nrm(5,"br")(6,"br"),e.j41(7,"tm-student-list",27),e.bIt("removeStudentFromCourseEvent",function(_){e.eBV(s);const g=e.XpG(4).$implicit,v=e.XpG();return e.Njj(v.removeStudentFromCourse(g,_))}),e.k0s(),e.bVm()}if(2&u){const s=e.XpG(4).$implicit;e.R7$(1),e.Y8G("ngIf",s.stats),e.R7$(2),e.Y8G("queryParams",e.eq3(8,n,s.course.courseId)),e.R7$(4),e.Y8G("courseId",s.course.courseId)("students",s.studentList)("tableSortBy",s.studentSortBy)("tableSortOrder",s.studentSortOrder)("useGrayHeading",!1)("enableRemindButton",!0)}}function T(u,O){if(1&u&&(e.j41(0,"div",23),e.DNE(1,p,8,10,"ng-container",24),e.k0s()),2&u){const s=e.XpG(3).$implicit,d=e.sdS(9);e.R7$(1),e.Y8G("ngIf",s.hasStudentLoaded&&s.stats.numOfStudents>0)("ngIfElse",d)}}function I(u,O){if(1&u&&(e.j41(0,"div"),e.DNE(1,T,2,2,"div",22),e.k0s()),2&u){const s=e.XpG(2).$implicit;e.R7$(1),e.Y8G("ngIf",!s.hasLoadingFailed)}}function $(u,O){if(1&u){const s=e.RV6();e.j41(0,"div")(1,"tm-loading-retry",1),e.bIt("retryEvent",function(){e.eBV(s);const _=e.XpG().$implicit,g=e.XpG();return e.Njj(g.loadStudents(_))}),e.DNE(2,I,2,1,"div",2),e.k0s()()}if(2&u){const s=e.XpG().$implicit;e.Y8G("@collapseAnim",void 0),e.R7$(1),e.Y8G("shouldShowRetry",s.hasLoadingFailed)("message","Failed to load students"),e.R7$(1),e.Y8G("tmIsLoading",!s.hasStudentLoaded)}}function j(u,O){if(1&u&&(e.qex(0),e.j41(1,"h5"),e.EFF(2,"There are no students in this course."),e.k0s(),e.j41(3,"a",26),e.EFF(4," Enroll Students "),e.k0s(),e.bVm()),2&u){const s=e.XpG(2).$implicit;e.R7$(3),e.Y8G("queryParams",e.eq3(1,n,s.course.courseId))}}function U(u,O){if(1&u&&e.DNE(0,j,5,3,"ng-container",24),2&u){const s=e.XpG().$implicit,d=e.sdS(11);e.Y8G("ngIf",s.isAbleToViewStudents)("ngIfElse",d)}}function Y(u,O){1&u&&(e.j41(0,"div",33)(1,"h5"),e.EFF(2,"You do not have permission to view the details of the students in this course."),e.k0s()())}function k(u,O){if(1&u){const s=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"div",15),e.bIt("click",function(){const g=e.eBV(s).$implicit,v=e.XpG();return e.Njj(v.toggleCard(g))}),e.j41(3,"strong",16),e.EFF(4),e.k0s(),e.j41(5,"div",17),e.nrm(6,"tm-panel-chevron",18),e.k0s()(),e.DNE(7,$,3,4,"div",19),e.DNE(8,U,1,2,"ng-template",null,20,e.C5r),e.DNE(10,Y,3,0,"ng-template",null,21,e.C5r),e.k0s()()}if(2&u){const s=O.$implicit;e.R7$(4),e.Lme("[",s.course.courseId,"]: ",s.course.courseName,""),e.R7$(2),e.Y8G("isExpanded",s.hasTabExpanded),e.R7$(1),e.Y8G("ngIf",s.hasTabExpanded)}}let w=(()=>{class u{constructor(s,d,_,g,v){this.instructorService=s,this.courseService=d,this.studentService=_,this.statusMessageService=g,this.tableComparatorService=v,this.courseTabList=[],this.hasLoadingFailed=!1,this.isLoadingCourses=!1,this.SortBy=a.g,this.coursesSortBy=a.g.COURSE_CREATION_DATE}ngOnInit(){this.loadCourses()}loadCourses(){this.hasLoadingFailed=!1,this.isLoadingCourses=!0,this.courseService.getAllCoursesAsInstructor("active").pipe((0,E.j)(()=>{this.isLoadingCourses=!1})).subscribe({next:s=>{s.courses.forEach(d=>{this.courseTabList.push({course:d,studentList:[],studentSortBy:a.g.NONE,studentSortOrder:a.x.ASC,hasTabExpanded:!1,hasStudentLoaded:!1,hasLoadingFailed:!1,isAbleToViewStudents:!0,stats:{numOfSections:0,numOfStudents:0,numOfTeams:0}})})},error:s=>{this.courseTabList=[],this.hasLoadingFailed=!0,this.statusMessageService.showErrorToast(s.error.message)},complete:()=>this.sortCourses(this.coursesSortBy)})}toggleCard(s){s.hasTabExpanded=!s.hasTabExpanded,s.hasStudentLoaded||this.loadStudents(s)}loadStudents(s){s.hasLoadingFailed=!1,s.hasStudentLoaded=!1,this.studentService.getStudentsFromCourse({courseId:s.course.courseId}).subscribe({next:d=>{s.studentList=[];const _=d.students.reduce((g,v)=>{const y=v.sectionName;return(g[y]=g[y]||[]).push(v),g},{});this.instructorService.loadInstructorPrivilege({courseId:s.course.courseId}).pipe((0,E.j)(()=>{s.hasStudentLoaded=!0})).subscribe({next:g=>{const v=g.privileges.courseLevel;Object.keys(_).forEach(y=>{const L=g.privileges.sectionLevel[y]||v,Q=_[y].map(Z=>({student:Z,isAllowedToViewStudentInSection:L.canViewStudentInSections,isAllowedToModifyStudent:L.canModifyStudent}));s.studentList.push(...Q),s.studentList.sort(this.sortStudentBy(a.g.NONE,a.x.ASC))}),s.stats=this.courseService.calculateCourseStatistics(d.students)},error:g=>{s.hasLoadingFailed=!0,s.studentList=[],this.statusMessageService.showErrorToast(g.error.message)}})},error:d=>{403===d.status?(s.isAbleToViewStudents=!1,s.hasStudentLoaded=!0):s.hasLoadingFailed=!0,s.studentList=[],this.statusMessageService.showErrorToast(d.error.message)}})}removeStudentFromCourse(s,d){this.courseService.removeStudentFromCourse(s.course.courseId,d).subscribe({next:()=>{s.studentList=s.studentList.filter(g=>g.student.email!==d);const _=s.studentList.map(g=>g.student);s.stats=this.courseService.calculateCourseStatistics(_),this.statusMessageService.showSuccessToast(`Student is successfully deleted from course "${s.course.courseId}"`)},error:_=>{this.statusMessageService.showErrorToast(_.error.message)}})}isSelectedForSorting(s){return this.coursesSortBy===s}sortCourses(s){if(this.coursesSortBy=s,this.courseTabList.length>1){const d=JSON.parse(JSON.stringify(this.courseTabList));d.sort(this.sortCoursesBy(s)),this.courseTabList=d}}sortCoursesBy(s){return(d,_)=>{let g,v,y;switch(s){case a.g.COURSE_NAME:g=d.course.courseName,v=_.course.courseName,y=a.x.ASC;break;case a.g.COURSE_ID:g=d.course.courseId,v=_.course.courseId,y=a.x.ASC;break;case a.g.COURSE_CREATION_DATE:g=String(d.course.creationTimestamp),v=String(_.course.creationTimestamp),y=a.x.DESC;break;default:g="",v="",y=a.x.ASC}return this.tableComparatorService.compare(s,y,g,v)}}sortStudentList(s,d){s.studentSortBy=d,s.studentSortOrder=s.studentSortOrder===a.x.DESC?a.x.ASC:a.x.DESC,s.studentList.sort(this.sortStudentBy(d,s.studentSortOrder))}sortStudentBy(s,d){const _=new i.K;return s===a.g.NONE?(g,v)=>this.tableComparatorService.compare(a.g.SECTION_NAME,d,g.student.sectionName,v.student.sectionName)||this.tableComparatorService.compare(a.g.TEAM_NAME,d,g.student.teamName,v.student.teamName)||this.tableComparatorService.compare(a.g.RESPONDENT_NAME,d,g.student.name,v.student.name):(g,v)=>{let y,L;switch(s){case a.g.SECTION_NAME:y=g.student.sectionName,L=v.student.sectionName;break;case a.g.RESPONDENT_NAME:y=g.student.name,L=v.student.name;break;case a.g.TEAM_NAME:y=g.student.teamName,L=v.student.teamName;break;case a.g.RESPONDENT_EMAIL:y=g.student.email,L=v.student.email;break;case a.g.JOIN_STATUS:y=_.transform(g.student.joinState),L=_.transform(v.student.joinState);break;default:y="",L=""}return this.tableComparatorService.compare(s,d,y,L)}}static#t=this.\u0275fac=function(d){return new(d||u)(e.rXU(b.p),e.rXU(N.f),e.rXU(D.b),e.rXU(B.x),e.rXU(G.C))};static#e=this.\u0275cmp=e.VBU({type:u,selectors:[["tm-instructor-student-list-page"]],decls:13,vars:5,consts:[["tmRouterLink","/web/instructor/search"],[3,"shouldShowRetry","message","retryEvent"],[4,"tmIsLoading"],["class","row mb-3",4,"ngIf"],["class","course-table",4,"ngFor","ngForOf"],[1,"row","mb-3"],[1,"col"],[1,"float-end"],[1,"d-inline"],["data-toggle","buttons",1,"btn-group"],["id","sort-course-id",1,"btn","btn-light",3,"disabled","click"],["id","sort-course-name",1,"btn","btn-light",3,"disabled","click"],["id","sort-course-date",1,"btn","btn-light",3,"disabled","click"],[1,"course-table"],[1,"card"],[1,"card-header","cursor-pointer","bg-primary","text-white",3,"click"],[1,"text-break"],[1,"card-header-btn-toolbar"],[3,"isExpanded"],[4,"ngIf"],["noStudentsTemplate",""],["noViewStudentsPermissionTemplate",""],["class","card-body",4,"ngIf"],[1,"card-body"],[4,"ngIf","ngIfElse"],["class","row text-center text-sm-start",4,"ngIf"],["id","btn-enroll","tmRouterLink","/web/instructor/courses/enroll",1,"btn","btn-success",3,"queryParams"],[3,"courseId","students","tableSortBy","tableSortOrder","useGrayHeading","enableRemindButton","removeStudentFromCourseEvent"],[1,"row","text-center","text-sm-start"],[1,"col-md-4"],["id","num-students",1,"card-body","fw-bold","fs-5"],["id","num-sections",1,"card-body","fw-bold","fs-5"],["id","num-teams",1,"card-body","fw-bold","fs-5"],["role","alert",1,"alert","alert-danger"]],template:function(d,_){1&d&&(e.j41(0,"h1"),e.EFF(1,"Students"),e.k0s(),e.j41(2,"p"),e.EFF(3," This page gives the student details for all your courses. Expand the panels below to view the details of students in each course. Use the "),e.j41(4,"a",0),e.EFF(5,"'Search' page"),e.k0s(),e.EFF(6," if you need to locate the details of a specific student by name or email.\n"),e.k0s(),e.nrm(7,"hr"),e.j41(8,"tm-loading-retry",1),e.bIt("retryEvent",function(){return _.loadCourses()}),e.DNE(9,R,1,0,"div",2),e.qex(10),e.DNE(11,r,12,3,"div",3),e.DNE(12,k,12,4,"div",4),e.bVm(),e.k0s()),2&d&&(e.R7$(8),e.Y8G("shouldShowRetry",_.hasLoadingFailed)("message","Failed to load courses"),e.R7$(1),e.Y8G("tmIsLoading",_.isLoadingCourses),e.R7$(2),e.Y8G("ngIf",_.courseTabList.length>0),e.R7$(1),e.Y8G("ngForOf",_.courseTabList))},dependencies:[t.Sq,t.bT,F.X,A.n,P.Y,x.F,l.y],styles:[".course-card-statistic-text[_ngcontent-%COMP%]{text-align:right;padding-top:10px}.inline[_ngcontent-%COMP%]{display:inline}"],data:{animation:[c.j]}})}return u})();var X=o(34029),V=o(84309),W=o(57125),K=o(23071),H=o(48381);const J=[{path:"",component:w}];let z=(()=>{class u{static#t=this.\u0275fac=function(d){return new(d||u)};static#e=this.\u0275mod=e.$C({type:u});static#n=this.\u0275inj=e.G2t({imports:[t.MD,m.YN,C.iI.forChild(J),K.Y,f.HC,V.y,X.Z,W.o,H.d]})}return u})()},21036:(M,S,o)=>{o.d(S,{p:()=>f});var t=o(8059),m=o(17705),C=o(16507);let f=(()=>{class E{constructor(i){this.httpRequestService=i}loadInstructors(i){const c={courseid:i.courseId};return i.intent&&(c.intent=i.intent),this.httpRequestService.get(t.Ld.INSTRUCTORS,c)}getInstructor(i){const c={courseid:i.courseId,intent:i.intent};return i.feedbackSessionName&&(c.fsname=i.feedbackSessionName),i.key&&(c.key=i.key),i.moderatedPerson&&(c.moderatedperson=i.moderatedPerson),i.previewAs&&(c.previewas=i.previewAs),this.httpRequestService.get(t.Ld.INSTRUCTOR,c)}createInstructor(i){return this.httpRequestService.post(t.Ld.INSTRUCTOR,{courseid:i.courseId},i.requestBody)}updateInstructor(i){return this.httpRequestService.put(t.Ld.INSTRUCTOR,{courseid:i.courseId},i.requestBody)}deleteInstructor(i){const c={courseid:i.courseId};return i.instructorEmail&&(c.instructoremail=i.instructorEmail),i.instructorId&&(c.instructorid=i.instructorId),this.httpRequestService.delete(t.Ld.INSTRUCTOR,c)}loadInstructorPrivilege(i){const c={courseid:i.courseId};return i.instructorEmail&&(c.instructoremail=i.instructorEmail),i.instructorId&&(c.instructorid=i.instructorId),this.httpRequestService.get(t.Ld.INSTRUCTOR_PRIVILEGE,c)}updateInstructorPrivilege(i){return this.httpRequestService.put(t.Ld.INSTRUCTOR_PRIVILEGE,{courseid:i.courseId,instructoremail:i.instructorEmail},i.requestBody)}regenerateInstructorKey(i,c){return this.httpRequestService.post(t.Ld.INSTRUCTOR_KEY,{courseid:i,instructoremail:c})}static#t=this.\u0275fac=function(c){return new(c||E)(m.KVO(C.R))};static#e=this.\u0275prov=m.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},58240:(M,S,o)=>{o.d(S,{W:()=>C});var t=o(21413),m=o(17705);let C=(()=>{class f{constructor(){this.progressPercentage=new t.B}updateProgress(a){this.progressPercentage.next(a)}static#t=this.\u0275fac=function(i){return new(i||f)};static#e=this.\u0275prov=m.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},6294:(M,S,o)=>{o.d(S,{r:()=>x});var t=o(17705),m=o(21894),C=o(94227),f=o(60177),E=o(17422);function a(l,R){1&l&&t.nrm(0,"i",15)}function i(l,R){1&l&&t.nrm(0,"i",16)}function c(l,R){1&l&&t.nrm(0,"i",17)}function e(l,R){1&l&&t.eu8(0)}function b(l,R){if(1&l&&(t.j41(0,"div"),t.DNE(1,e,1,0,"ng-container",18),t.k0s()),2&l){const r=t.XpG();t.R7$(1),t.Y8G("ngTemplateOutlet",r.content)}}function N(l,R){if(1&l&&t.nrm(0,"div",19),2&l){const r=t.XpG();t.Y8G("innerHTML",r.content,t.npT)}}function D(l,R){1&l&&(t.j41(0,"div",20),t.nrm(1,"tm-progress-bar"),t.k0s())}function B(l,R){if(1&l){const r=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.activeModal.dismiss())}),t.EFF(1),t.k0s()}if(2&l){const r=t.XpG();t.R7$(1),t.SpI(" ",r.cancelMessage," ")}}const G=function(l){return{"display-none":l}},F=function(l,R,r,h){return{"bg-danger":l,"bg-warning":R,"bg-info":r,"bg-white":h}},A=function(l,R,r,h){return{"btn-danger":l,"btn-warning":R,"btn-info":r,"btn-primary":h}};let P=(()=>{class l{get isTemplate(){return this.content instanceof t.C4Q}constructor(r){this.activeModal=r,this.SimpleModalType=m.i,this.header="",this.content="",this.type=m.i.NEUTRAL,this.isInformationOnly=!1,this.confirmMessage="Yes",this.cancelMessage="No, cancel the operation"}static#t=this.\u0275fac=function(h){return new(h||l)(t.rXU(C.Lw))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["tm-confirmation-modal"]],inputs:{header:"header",content:"content",type:"type",isInformationOnly:"isInformationOnly",confirmMessage:"confirmMessage",cancelMessage:"cancelMessage"},decls:17,vars:24,consts:[[1,"transparent-overlay",3,"ngClass"],[1,"modal-header",3,"ngClass"],[1,"modal-title"],["class","fas fa-times-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],[1,"margin-left-5px",3,"innerHTML"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-light modal-btn-cancel",3,"click",4,"ngIf"],["type","button",1,"btn","modal-btn-ok","z-index-1",3,"ngClass","click"],[1,"fas","fa-times-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[4,"ngTemplateOutlet"],[3,"innerHTML"],[1,"progress-bar-container"],["type","button",1,"btn","btn-light","modal-btn-cancel",3,"click"]],template:function(h,n){1&h&&(t.nrm(0,"div",0),t.j41(1,"div",1)(2,"div")(3,"h5",2),t.DNE(4,a,1,0,"i",3),t.DNE(5,i,1,0,"i",4),t.DNE(6,c,1,0,"i",5),t.nrm(7,"span",6),t.k0s()(),t.j41(8,"button",7),t.bIt("click",function(){return n.type===n.SimpleModalType.LOAD?n.activeModal.close():n.activeModal.dismiss()}),t.k0s()(),t.j41(9,"div",8),t.DNE(10,b,2,1,"div",9),t.DNE(11,N,1,1,"div",10),t.DNE(12,D,2,0,"div",11),t.k0s(),t.j41(13,"div",12),t.DNE(14,B,2,1,"button",13),t.j41(15,"button",14),t.bIt("click",function(){return n.activeModal.close()}),t.EFF(16),t.k0s()()),2&h&&(t.Y8G("ngClass",t.eq3(12,G,n.type!==n.SimpleModalType.LOAD)),t.R7$(1),t.Y8G("ngClass",t.ziG(14,F,n.type===n.SimpleModalType.DANGER,n.type===n.SimpleModalType.WARNING,n.type===n.SimpleModalType.INFO||n.type===n.SimpleModalType.LOAD,n.type===n.SimpleModalType.NEUTRAL)),t.R7$(3),t.Y8G("ngIf",n.type===n.SimpleModalType.DANGER),t.R7$(1),t.Y8G("ngIf",n.type===n.SimpleModalType.WARNING),t.R7$(1),t.Y8G("ngIf",n.type===n.SimpleModalType.INFO||n.type===n.SimpleModalType.LOAD),t.R7$(1),t.Y8G("innerHTML",n.header,t.npT),t.R7$(3),t.Y8G("ngIf",n.isTemplate),t.R7$(1),t.Y8G("ngIf",!n.isTemplate),t.R7$(1),t.Y8G("ngIf",n.type===n.SimpleModalType.LOAD),t.R7$(2),t.Y8G("ngIf",!n.isInformationOnly),t.R7$(1),t.Y8G("ngClass",t.ziG(19,A,n.type===n.SimpleModalType.DANGER||n.type===n.SimpleModalType.LOAD,n.type===n.SimpleModalType.WARNING,n.type===n.SimpleModalType.INFO,n.type===n.SimpleModalType.NEUTRAL)),t.R7$(1),t.JRh(n.confirmMessage))},dependencies:[f.YU,f.bT,f.T3,E.a],styles:[".margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.progress-bar-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2px}.transparent-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;visibility:false;z-index:0}.display-none[_ngcontent-%COMP%]{display:none}.z-index-1[_ngcontent-%COMP%]{z-index:1}"]})}return l})(),x=(()=>{class l{constructor(r){this.ngbModal=r}open(r,h,n,p,T){const I=this.ngbModal.open(P,T);return I.componentInstance.header=r,I.componentInstance.content=n,I.componentInstance.type=h,p&&(Object.entries(p).forEach(([$,j])=>{I.componentInstance[$]=j}),p.onClosed&&(I.closed.subscribe(()=>{p.onClosed()}),I.dismissed.subscribe(()=>{p.onClosed()}))),I}openConfirmationModal(r,h,n,p,T){const I={isInformationOnly:!1,confirmMessage:"Yes",cancelMessage:"No, cancel the operation",...p};return this.open(r,h,n,I,T)}openInformationModal(r,h,n,p,T){const I={isInformationOnly:!0,confirmMessage:"OK",...p};return this.open(r,h,n,I,T)}openLoadingModal(r,h,n,p,T){const I={isInformationOnly:!0,confirmMessage:"Abort",...p};return this.open(r,h,n,I,T)}static#t=this.\u0275fac=function(h){return new(h||l)(t.KVO(C.Bq))};static#e=this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()}}]);