"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[1095],{74597:(k,S,s)=>{s.d(S,{T:()=>j});var e=s(17705),l=s(26195),b=s(44199),m=s(57286),d=s(60177),_=s(94227),p=s(86082),a=s(23934),f=s(50833);let R=(()=>{class t{constructor(n){this.timezoneService=n}transform(n,i){return this.timezoneService.formatToString(n,i,"DD MMM, YYYY")}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(f.D,16))};static#n=this.\u0275pipe=e.EJ8({name:"recycleBinTableFormatDate",type:t,pure:!0})}return t})();function y(t,c){1&t&&(e.j41(0,"div",6),e.EFF(1," There are no sessions in the bin. "),e.k0s())}function v(t,c){1&t&&e.nrm(0,"i",28)}function g(t,c){1&t&&e.nrm(0,"i",29)}function F(t,c){1&t&&e.nrm(0,"i",28)}function T(t,c){1&t&&e.nrm(0,"i",29)}function u(t,c){1&t&&e.nrm(0,"i",28)}function h(t,c){1&t&&e.nrm(0,"i",29)}function D(t,c){1&t&&e.nrm(0,"i",28)}function C(t,c){1&t&&e.nrm(0,"i",29)}function O(t,c){1&t&&e.nrm(0,"tm-ajax-loading",38),2&t&&e.Y8G("color","#000000")}function M(t,c){if(1&t){const n=e.RV6();e.j41(0,"tr")(1,"td",30),e.EFF(2),e.k0s(),e.j41(3,"td",30),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"span",31),e.nI1(7,"formatDateDetail"),e.EFF(8),e.nI1(9,"recycleBinTableFormatDate"),e.k0s()(),e.j41(10,"td")(11,"span",31),e.nI1(12,"formatDateDetail"),e.EFF(13),e.nI1(14,"recycleBinTableFormatDate"),e.k0s()(),e.j41(15,"td",32)(16,"div",33)(17,"button",34),e.bIt("click",function(){const r=e.eBV(n).$implicit,B=e.XpG(3);return e.Njj(B.restoreSessionEvent.emit(r))}),e.EFF(18,"Restore"),e.k0s(),e.j41(19,"button",35),e.bIt("click",function(){const o=e.eBV(n),r=o.$implicit,B=o.index,E=e.XpG(3);return E.permanentlyDeleteSessionEvent.emit(r),e.Njj(E.setRowClicked(B))}),e.j41(20,"span"),e.EFF(21,"Delete Permanently"),e.k0s(),e.j41(22,"div",36),e.DNE(23,O,1,1,"tm-ajax-loading",37),e.k0s()()()()()}if(2&t){const n=c.$implicit,i=c.index,o=e.XpG(3);e.R7$(2),e.JRh(n.feedbackSession.courseId),e.R7$(2),e.JRh(n.feedbackSession.feedbackSessionName),e.R7$(2),e.Y8G("ngbTooltip",e.i5U(7,9,n.feedbackSession.createdAtTimestamp,n.feedbackSession.timeZone)),e.R7$(2),e.SpI(" ",e.i5U(9,12,n.feedbackSession.createdAtTimestamp,n.feedbackSession.timeZone)," "),e.R7$(3),e.Y8G("ngbTooltip",e.i5U(12,15,n.feedbackSession.deletedAtTimestamp,n.feedbackSession.timeZone)),e.R7$(2),e.SpI(" ",e.i5U(14,18,n.feedbackSession.deletedAtTimestamp,n.feedbackSession.timeZone)," "),e.R7$(4),e.Mz_("id","btn-restore-",i,""),e.R7$(2),e.Mz_("id","btn-delete-",i,""),e.R7$(4),e.Y8G("ngIf",o.isPermanentDeleteLoading&&o.rowClicked===i)}}function I(t,c){if(1&t){const n=e.RV6();e.j41(0,"div",16)(1,"table",17)(2,"thead",18)(3,"tr")(4,"th",19),e.bIt("click",function(){e.eBV(n);const o=e.XpG(2);return e.Njj(o.sortRecycleBinFeedbackSessionRows(o.SortBy.COURSE_ID))}),e.j41(5,"button"),e.EFF(6," Course ID "),e.j41(7,"span",20),e.nrm(8,"i",21),e.DNE(9,v,1,0,"i",22),e.DNE(10,g,1,0,"i",23),e.k0s()()(),e.j41(11,"th",24),e.bIt("click",function(){e.eBV(n);const o=e.XpG(2);return e.Njj(o.sortRecycleBinFeedbackSessionRows(o.SortBy.SESSION_NAME))}),e.j41(12,"button"),e.EFF(13," Session Name "),e.j41(14,"span",20),e.nrm(15,"i",21),e.DNE(16,F,1,0,"i",22),e.DNE(17,T,1,0,"i",23),e.k0s()()(),e.j41(18,"th",25),e.bIt("click",function(){e.eBV(n);const o=e.XpG(2);return e.Njj(o.sortRecycleBinFeedbackSessionRows(o.SortBy.SESSION_CREATION_DATE))}),e.j41(19,"button"),e.EFF(20," Creation Date "),e.j41(21,"span",20),e.nrm(22,"i",21),e.DNE(23,u,1,0,"i",22),e.DNE(24,h,1,0,"i",23),e.k0s()()(),e.j41(25,"th",25),e.bIt("click",function(){e.eBV(n);const o=e.XpG(2);return e.Njj(o.sortRecycleBinFeedbackSessionRows(o.SortBy.SESSION_DELETION_DATE))}),e.j41(26,"button"),e.EFF(27," Deletion Date "),e.j41(28,"span",20),e.nrm(29,"i",21),e.DNE(30,D,1,0,"i",22),e.DNE(31,C,1,0,"i",23),e.k0s()()(),e.j41(32,"th",26),e.EFF(33,"Action(s)"),e.k0s()()(),e.j41(34,"tbody"),e.DNE(35,M,24,21,"tr",27),e.k0s()()()}if(2&t){const n=e.XpG(2);e.Y8G("@collapseAnim",void 0),e.R7$(4),e.BMQ("aria-sort",n.getAriaSort(n.SortBy.COURSE_ID)),e.R7$(5),e.Y8G("ngIf",n.recycleBinFeedbackSessionRowModelsSortBy===n.SortBy.COURSE_ID&&n.recycleBinFeedbackSessionRowModelsSortOrder===n.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",n.recycleBinFeedbackSessionRowModelsSortBy===n.SortBy.COURSE_ID&&n.recycleBinFeedbackSessionRowModelsSortOrder===n.SortOrder.ASC),e.R7$(1),e.BMQ("aria-sort",n.getAriaSort(n.SortBy.SESSION_NAME)),e.R7$(5),e.Y8G("ngIf",n.recycleBinFeedbackSessionRowModelsSortBy===n.SortBy.SESSION_NAME&&n.recycleBinFeedbackSessionRowModelsSortOrder===n.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",n.recycleBinFeedbackSessionRowModelsSortBy===n.SortBy.SESSION_NAME&&n.recycleBinFeedbackSessionRowModelsSortOrder===n.SortOrder.ASC),e.R7$(1),e.BMQ("aria-sort",n.getAriaSort(n.SortBy.SESSION_CREATION_DATE)),e.R7$(5),e.Y8G("ngIf",n.recycleBinFeedbackSessionRowModelsSortBy===n.SortBy.SESSION_CREATION_DATE&&n.recycleBinFeedbackSessionRowModelsSortOrder===n.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",n.recycleBinFeedbackSessionRowModelsSortBy===n.SortBy.SESSION_CREATION_DATE&&n.recycleBinFeedbackSessionRowModelsSortOrder===n.SortOrder.ASC),e.R7$(1),e.BMQ("aria-sort",n.getAriaSort(n.SortBy.SESSION_DELETION_DATE)),e.R7$(5),e.Y8G("ngIf",n.recycleBinFeedbackSessionRowModelsSortBy===n.SortBy.SESSION_DELETION_DATE&&n.recycleBinFeedbackSessionRowModelsSortOrder===n.SortOrder.DESC),e.R7$(1),e.Y8G("ngIf",n.recycleBinFeedbackSessionRowModelsSortBy===n.SortBy.SESSION_DELETION_DATE&&n.recycleBinFeedbackSessionRowModelsSortOrder===n.SortOrder.ASC),e.R7$(4),e.Y8G("ngForOf",n.recycleBinFeedbackSessionRowModels)}}function x(t,c){if(1&t){const n=e.RV6();e.j41(0,"div",7)(1,"div",8),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.recycleBinExpandEvent.emit())}),e.j41(2,"b"),e.EFF(3,"Recycle Bin"),e.k0s(),e.j41(4,"div",9)(5,"button",10),e.bIt("click",function(o){e.eBV(n);const r=e.XpG();return o.stopPropagation(),e.Njj(r.restoreAllRecycleBinFeedbackSessionEvent.emit())}),e.nrm(6,"i",11),e.EFF(7," Restore All"),e.k0s(),e.j41(8,"button",12),e.bIt("click",function(o){e.eBV(n);const r=e.XpG();return o.stopPropagation(),e.Njj(r.permanentDeleteAllSessionsEvent.emit())}),e.nrm(9,"i",13),e.EFF(10," Delete All"),e.k0s(),e.nrm(11,"tm-panel-chevron",14),e.k0s()(),e.DNE(12,I,36,14,"div",15),e.k0s()}if(2&t){const n=e.XpG();e.R7$(11),e.Y8G("isExpanded",n.isRecycleBinExpanded),e.R7$(1),e.Y8G("ngIf",n.isRecycleBinExpanded)}}let j=(()=>{class t{constructor(){this.SortBy=l.g,this.SortOrder=l.x,this.rowClicked=-1,this.isRecycleBinExpanded=!1,this.recycleBinFeedbackSessionRowModels=[],this.recycleBinFeedbackSessionRowModelsSortBy=l.g.NONE,this.recycleBinFeedbackSessionRowModelsSortOrder=l.x.ASC,this.isPermanentDeleteLoading=!1,this.restoreSessionEvent=new e.bkB,this.restoreAllRecycleBinFeedbackSessionEvent=new e.bkB,this.permanentlyDeleteSessionEvent=new e.bkB,this.permanentDeleteAllSessionsEvent=new e.bkB,this.sortRecycleBinFeedbackSessionRowsEvent=new e.bkB,this.recycleBinExpandEvent=new e.bkB}sortRecycleBinFeedbackSessionRows(n){this.sortRecycleBinFeedbackSessionRowsEvent.emit(n)}getAriaSort(n){return n!==this.recycleBinFeedbackSessionRowModelsSortBy?"none":this.recycleBinFeedbackSessionRowModelsSortOrder===l.x.ASC?"ascending":"descending"}setRowClicked(n){this.rowClicked=n}static#e=this.\u0275fac=function(i){return new(i||t)};static#n=this.\u0275cmp=e.VBU({type:t,selectors:[["tm-sessions-recycle-bin-table"]],inputs:{isRecycleBinExpanded:"isRecycleBinExpanded",recycleBinFeedbackSessionRowModels:"recycleBinFeedbackSessionRowModels",recycleBinFeedbackSessionRowModelsSortBy:"recycleBinFeedbackSessionRowModelsSortBy",recycleBinFeedbackSessionRowModelsSortOrder:"recycleBinFeedbackSessionRowModelsSortOrder",isPermanentDeleteLoading:"isPermanentDeleteLoading"},outputs:{restoreSessionEvent:"restoreSessionEvent",restoreAllRecycleBinFeedbackSessionEvent:"restoreAllRecycleBinFeedbackSessionEvent",permanentlyDeleteSessionEvent:"permanentlyDeleteSessionEvent",permanentDeleteAllSessionsEvent:"permanentDeleteAllSessionsEvent",sortRecycleBinFeedbackSessionRowsEvent:"sortRecycleBinFeedbackSessionRowsEvent",recycleBinExpandEvent:"recycleBinExpandEvent"},decls:9,vars:2,consts:[[1,"row","card-body","recycle-bin-body"],[1,"col-12"],[1,"text-muted"],[1,"fas","fa-trash-alt"],["emptyBinAlert",""],["class","card bg-light top-padded",4,"ngIf","ngIfElse"],["role","alert",1,"alert","alert-warning","margin-top-30px"],[1,"card","bg-light","top-padded"],["id","deleted-sessions-heading",1,"card-header","bg-secondary","text-white","cursor-pointer",3,"click"],[1,"card-header-btn-toolbar"],["id","btn-restore-all","type","button","ngbTooltip","Restore all feedback sessions",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fas","fa-check"],["id","btn-delete-all","type","button","ngbTooltip","Permanently delete all feedback sessions",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fas","fa-times"],[3,"isExpanded"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["id","deleted-sessions-table",1,"table","table-striped","table-bordered","recycle-bin-table"],[1,"recycle-bin-table-header"],["id","sort-deleted-course-id",1,"sortable-header",3,"click"],["aria-hidden","true",1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],["id","sort-deleted-session-name",1,"sortable-header",3,"click"],[1,"sortable-header",3,"click"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],[1,"text-break"],["container","body",1,"ngb-tooltip-class",3,"ngbTooltip"],[1,"text-center","actions-cell"],[1,"d-flex"],["type","button",1,"btn","btn-light","btn-sm",3,"id","click"],["type","button",1,"btn","btn-light","btn-sm","text-danger",3,"id","click"],[1,"padding-left-7px"],[3,"color",4,"ngIf"],[3,"color"]],template:function(i,o){if(1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.nrm(3,"i",3),e.EFF(4," Deleted Feedback Sessions "),e.k0s(),e.j41(5,"div"),e.DNE(6,y,2,0,"ng-template",null,4,e.C5r),e.DNE(8,x,13,2,"div",5),e.k0s()()()),2&i){const r=e.sdS(7);e.R7$(8),e.Y8G("ngIf",0!==o.recycleBinFeedbackSessionRowModels.length)("ngIfElse",r)}},dependencies:[m.y,d.Sq,d.bT,_.md,p.F,a.L,R],styles:[".recycle-bin-body[_ngcontent-%COMP%]{padding:0}.recycle-bin-table[_ngcontent-%COMP%]{margin-bottom:0;min-width:700px}.recycle-bin-table-header[_ngcontent-%COMP%]{background-color:#e5e5e6;color:gray;font-weight:400}.sortable-header[_ngcontent-%COMP%]{cursor:pointer}.sortable-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.3em}.sortable-header[_ngcontent-%COMP%]   .fa-stack[_ngcontent-%COMP%]{width:20%}.sortable-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;padding:0;text-align:left;width:100%;font:inherit;cursor:inherit}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:var(--btn-margin)}.padding-left-7px[_ngcontent-%COMP%]{padding-left:7px}"],data:{animation:[b.j]}})}return t})()},95115:(k,S,s)=>{s.d(S,{O:()=>p});var e=s(60177),l=s(94227),b=s(85385),m=s(57125),d=s(44661),_=s(17705);let p=(()=>{class a{static#e=this.\u0275fac=function(y){return new(y||a)};static#n=this.\u0275mod=_.$C({type:a});static#t=this.\u0275inj=_.G2t({imports:[b.D,e.MD,l.n8,d.x,m.o]})}return a})()}}]);