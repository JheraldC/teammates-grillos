"use strict";(self.webpackChunkteammates=self.webpackChunkteammates||[]).push([[938],{71521:(j,f,c)=>{c.d(f,{W:()=>L});var t=c(17705),p=c(94227);let _=(()=>{class o{constructor(e){this.activeModal=e,this.accountRequestName="",this.accountRequestEmail="",this.accountRequestInstitution="",this.accountRequestComments=""}edit(){this.activeModal.close({accountRequestName:this.accountRequestName,accountRequestEmail:this.accountRequestEmail,accountRequestInstitution:this.accountRequestInstitution,accountRequestComment:this.accountRequestComments})}static#t=this.\u0275fac=function(s){return new(s||o)(t.rXU(p.Lw))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["tm-edit-request-modal"]],inputs:{accountRequestName:"accountRequestName",accountRequestEmail:"accountRequestEmail",accountRequestInstitution:"accountRequestInstitution",accountRequestComments:"accountRequestComments"},decls:34,vars:5,consts:[[1,"modal-header","bg-primary"],[1,"modal-title","text-white"],["type","button",1,"btn-close",3,"click"],["id","reject-account-request-modal",1,"modal-body"],["id","request-name","type","text",1,"form-control",3,"value","input"],["id","request-email","type","text",1,"form-control",3,"value","input"],["id","request-institution","type","text",1,"form-control",3,"value","input"],[1,"row"],[1,"col-12"],[1,"form-group"],["id","request-comments","rows","5",1,"form-control",3,"value","input"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["id","btn-confirm-edit-request","type","button",1,"btn","btn-primary",3,"click"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"h5",1)(2,"div"),t.EFF(3),t.k0s()(),t.j41(4,"button",2),t.bIt("click",function(){return n.activeModal.dismiss()}),t.k0s()(),t.j41(5,"div",3)(6,"div")(7,"label")(8,"b"),t.EFF(9,"Name:"),t.k0s()(),t.j41(10,"input",4),t.bIt("input",function(u){return n.accountRequestName=u.target.value}),t.k0s()(),t.j41(11,"div")(12,"label")(13,"b"),t.EFF(14,"Email:"),t.k0s()(),t.j41(15,"input",5),t.bIt("input",function(u){return n.accountRequestEmail=u.target.value}),t.k0s()(),t.j41(16,"div")(17,"label")(18,"b"),t.EFF(19,"Institution, Country:"),t.k0s()(),t.j41(20,"input",6),t.bIt("input",function(u){return n.accountRequestInstitution=u.target.value}),t.k0s()(),t.j41(21,"div",7)(22,"div",8)(23,"div")(24,"label")(25,"b"),t.EFF(26,"Comments:"),t.k0s()()(),t.j41(27,"div",9)(28,"textarea",10),t.bIt("input",function(u){return n.accountRequestComments=u.target.value}),t.k0s()()(),t.j41(29,"div",11)(30,"button",12),t.bIt("click",function(){return n.activeModal.dismiss()}),t.EFF(31,"Cancel"),t.k0s(),t.j41(32,"button",13),t.bIt("click",function(){return n.edit()}),t.EFF(33," Save "),t.k0s()()()()),2&s&&(t.R7$(3),t.SpI("Edit Account Request for ",n.accountRequestName,""),t.R7$(7),t.FS9("value",n.accountRequestName),t.R7$(5),t.FS9("value",n.accountRequestEmail),t.R7$(5),t.FS9("value",n.accountRequestInstitution),t.R7$(8),t.FS9("value",n.accountRequestComments))}})}return o})();var v=c(11086),m=c(30715),l=c(93183),R=c(52916);let a=(()=>{class o{constructor(e,s,n){this.activeModal=e,this.statusMessageService=s,this.searchService=n,this.accountRequestName="",this.accountRequestEmail="",this.existingAccount={name:"",email:"",googleId:"",courseId:"",courseName:"",isCourseDeleted:!1,institute:"",courseJoinLink:"",homePageLink:"",manageAccountLink:"",showLinks:!1,awaitingSessions:{},openSessions:{},notOpenSessions:{},publishedSessions:{}},this.rejectionReasonBody="<p>Hi, {accountRequestName} </p>\n\n<p>Thanks for your interest in using TEAMMATES. We are unable to create a TEAMMATES instructor account for you.</p><p><strong>Reason:</strong> The email address you provided is not an &#39;official&#39; email address provided by your institution.<br /><strong>Remedy:</strong> Please re-submit an account request with your &#39;official&#39; institution email address.</p>\n\n<p><strong>Reason:</strong> The email address you have provided seems like it belongs to a student (i.e., not a staff member) of your institution.<br /><strong>Remedy:</strong> If you are a student but you still need an instructor account, please send your justification to {supportEmail}</p>\n\n<p><strong>Reason:</strong> You already have an account for this email address and this institution.<br /><strong>Remedy:</strong> You can login to TEAMMATES using your Google account: {googleId} </p>\n\n<p>If you are logged into multiple Google accounts, remember to logout from other Google accounts first, or use an incognito Browser window. Let us know (with a screenshot) if that doesn't work.</p><p>If you need further clarification or would like to appeal this decision, please feel free to contact us at {supportEmail}</p><p>Regards,<br />TEAMMATES Team.</p>",this.rejectionReasonTitle="We are Unable to Create an Account for you"}ngOnInit(){this.rejectionReasonBody=this.rejectionReasonBody.replace("{accountRequestName}",this.accountRequestName),this.rejectionReasonBody=this.rejectionReasonBody.replaceAll("{supportEmail}",v.c.supportEmail),this.replaceGoogleId()}onRejectionReasonBodyChange(e){this.rejectionReasonBody=e}replaceGoogleId(){this.searchService.searchAdmin(this.accountRequestEmail).subscribe({next:e=>{if(e.instructors&&e.instructors.length){for(const n of e.instructors)""!==n.googleId&&(this.existingAccount=n);this.rejectionReasonBody=this.rejectionReasonBody.replace("{googleId}",""===this.existingAccount.googleId?"NO_GOOGLEID":this.existingAccount.googleId)}else this.rejectionReasonBody=this.rejectionReasonBody.replace("{googleId}","NO_GOOGLEID")},error:e=>{this.statusMessageService.showErrorToast(e.error.message)}})}reject(){this.rejectionReasonBody&&0!==this.rejectionReasonBody.length?this.rejectionReasonTitle&&0!==this.rejectionReasonTitle.length?this.activeModal.close({rejectionReasonTitle:this.rejectionReasonTitle,rejectionReasonBody:this.rejectionReasonBody}):this.statusMessageService.showErrorToast("Please provide a title for the rejection email."):this.statusMessageService.showErrorToast("Please provide an email body for the rejection email.")}static#t=this.\u0275fac=function(s){return new(s||o)(t.rXU(p.Lw),t.rXU(m.x),t.rXU(l.S))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["tm-reject-with-reason-modal"]],inputs:{accountRequestName:"accountRequestName",accountRequestEmail:"accountRequestEmail"},decls:24,vars:3,consts:[[1,"modal-header","bg-warning"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],["id","reject-account-request-modal",1,"modal-body"],[1,"row"],[1,"col-12"],[1,"form-group"],["id","rejection-reason-title","type","text","rows","5",1,"form-control",3,"value","input"],["id","rejection-reason-body",3,"richText","richTextChange"],[1,"modal-footer"],["id","btn-cancel-reject-request","type","button",1,"btn","btn-light",3,"click"],["id","btn-confirm-reject-request","type","button",1,"btn","btn-warning",3,"click"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"h5",1)(2,"div"),t.EFF(3),t.k0s()(),t.j41(4,"button",2),t.bIt("click",function(){return n.activeModal.dismiss()}),t.k0s()(),t.j41(5,"div",3)(6,"div",4)(7,"div",5)(8,"div")(9,"label")(10,"b"),t.EFF(11,"Rejection Message Title:"),t.k0s()()(),t.j41(12,"div",6)(13,"input",7),t.bIt("input",function(u){return n.rejectionReasonTitle=u.target.value}),t.k0s()(),t.j41(14,"div")(15,"label")(16,"b"),t.EFF(17,"Rejection Message Body:"),t.k0s()()(),t.j41(18,"tm-rich-text-editor",8),t.bIt("richTextChange",function(u){return n.onRejectionReasonBodyChange(u)}),t.k0s()(),t.j41(19,"div",9)(20,"button",10),t.bIt("click",function(){return n.activeModal.dismiss()}),t.EFF(21,"Cancel"),t.k0s(),t.j41(22,"button",11),t.bIt("click",function(){return n.reject()}),t.EFF(23," Reject "),t.k0s()()()()),2&s&&(t.R7$(3),t.SpI("Reject Account Request for ",n.accountRequestName," With Reason"),t.R7$(10),t.FS9("value",n.rejectionReasonTitle),t.R7$(5),t.Y8G("richText",n.rejectionReasonBody))},dependencies:[R.q]})}return o})();var r=c(21894),d=c(44199),h=c(6294),E=c(91702),A=c(60177),C=c(57286),q=c(1091);function M(o,g){1&o&&(t.j41(0,"div")(1,"strong"),t.EFF(2,"Account Requests Found"),t.k0s()())}function k(o,g){1&o&&(t.j41(0,"strong"),t.EFF(1,"Pending Account Requests"),t.k0s())}function y(o,g){if(1&o){const e=t.RV6();t.j41(0,"div",10)(1,"button",11),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.showAllAccountRequestsLinks())}),t.EFF(2,"Expand All"),t.k0s(),t.j41(3,"button",12),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.hideAllAccountRequestsLinks())}),t.EFF(4,"Collapse All"),t.k0s()()}}function I(o,g){1&o&&(t.j41(0,"th"),t.EFF(1,"Registered At"),t.k0s())}function S(o,g){1&o&&(t.j41(0,"button",35),t.nrm(1,"i",36),t.k0s())}function x(o,g){1&o&&(t.j41(0,"button",37),t.nrm(1,"i",38),t.k0s())}function F(o,g){if(1&o&&(t.j41(0,"td",17),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(1),t.JRh(e.registeredAtText||"Not Registered Yet")}}function w(o,g){1&o&&t.nrm(0,"tm-ajax-loading")}function P(o,g){1&o&&t.nrm(0,"tm-ajax-loading")}function O(o,g){1&o&&t.nrm(0,"tm-ajax-loading")}function $(o,g){if(1&o){const e=t.RV6();t.j41(0,"div",24)(1,"button",39),t.bIt("click",function(n){t.eBV(e);const i=t.XpG(),u=i.$implicit,b=i.index,T=t.XpG(2);return n.stopPropagation(),t.Njj(T.resetAccountRequest(u,b))}),t.DNE(2,O,1,0,"tm-ajax-loading",8),t.EFF(3,"Reset"),t.k0s()()}if(2&o){const e=t.XpG(),s=e.$implicit,n=e.index,i=t.XpG(2);t.Y8G("ngbTooltip",s.registeredAtText&&"Account requests of registered instructors cannot be deleted"),t.R7$(1),t.Mz_("id","reset-account-request-",n,""),t.Y8G("disabled",!s.registeredAtText||i.isResettingAccount[n]),t.R7$(1),t.Y8G("ngIf",i.isResettingAccount[n])}}function D(o,g){if(1&o&&(t.j41(0,"ul",42)(1,"li",43)(2,"strong"),t.EFF(3,"Account Registration Link"),t.k0s(),t.nrm(4,"input",44),t.k0s()()),2&o){const e=t.XpG(2).$implicit;t.Y8G("@collapseAnim",void 0),t.R7$(4),t.Y8G("value",e.registrationLink)}}function N(o,g){if(1&o&&(t.j41(0,"tr")(1,"td",40),t.DNE(2,D,5,2,"ul",41),t.k0s()()),2&o){const e=t.XpG().$implicit;t.R7$(2),t.Y8G("ngIf",e.showLinks)}}function G(o,g){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"tr")(2,"td",13),t.nI1(3,"highlighter"),t.nrm(4,"br"),t.j41(5,"div",14),t.DNE(6,S,2,0,"button",15),t.DNE(7,x,2,0,"button",16),t.k0s()(),t.j41(8,"td",13),t.nI1(9,"highlighter"),t.EFF(10),t.k0s(),t.j41(11,"td",13),t.nI1(12,"highlighter"),t.EFF(13),t.k0s(),t.j41(14,"td",13),t.nI1(15,"highlighter"),t.EFF(16),t.k0s(),t.j41(17,"td",17),t.EFF(18),t.k0s(),t.DNE(19,F,2,1,"td",18),t.j41(20,"td")(21,"div",19),t.nI1(22,"highlighter"),t.EFF(23),t.k0s()(),t.j41(24,"td",20)(25,"div",21)(26,"div")(27,"button",22),t.bIt("click",function(n){const u=t.eBV(e).$implicit,b=t.XpG(2);return n.stopPropagation(),t.Njj(b.editAccountRequest(u))}),t.nrm(28,"i",23),t.k0s()(),t.j41(29,"div",24)(30,"button",25),t.bIt("click",function(n){const u=t.eBV(e).$implicit,b=t.XpG(2);return n.stopPropagation(),t.Njj(b.deleteAccountRequest(u))}),t.nrm(31,"i",26),t.k0s()(),t.j41(32,"div")(33,"button",27),t.bIt("click",function(n){const u=t.eBV(e).$implicit,b=t.XpG(2);return n.stopPropagation(),t.Njj(b.viewAccountRequest(u))}),t.nrm(34,"i",28),t.k0s()(),t.j41(35,"button",29),t.bIt("click",function(n){const i=t.eBV(e),u=i.$implicit,b=i.index,T=t.XpG(2);return n.stopPropagation(),t.Njj(T.approveAccountRequest(u,b))}),t.DNE(36,w,1,0,"tm-ajax-loading",8),t.EFF(37,"Approve"),t.k0s(),t.j41(38,"span",30)(39,"button",31),t.DNE(40,P,1,0,"tm-ajax-loading",8),t.EFF(41," Reject "),t.k0s(),t.j41(42,"div",32),t.bIt("click",function(n){return n.stopPropagation()}),t.j41(43,"button",33),t.bIt("click",function(n){const i=t.eBV(e),u=i.$implicit,b=i.index,T=t.XpG(2);return n.stopPropagation(),t.Njj(T.rejectAccountRequest(u,b))}),t.EFF(44," Reject "),t.k0s(),t.j41(45,"button",33),t.bIt("click",function(n){const i=t.eBV(e),u=i.$implicit,b=i.index,T=t.XpG(2);return n.stopPropagation(),t.Njj(T.rejectAccountRequestWithReason(u,b))}),t.EFF(46," Reject With Reason "),t.k0s()()(),t.DNE(47,$,4,4,"div",34),t.k0s()()(),t.DNE(48,N,3,1,"tr",8),t.bVm()}if(2&o){const e=g.$implicit,s=g.index,n=t.XpG(2);t.R7$(2),t.Y8G("innerHtml",t.brH(3,27,e.name,n.searchString,!0),t.npT),t.R7$(4),t.Y8G("ngIf",!e.showLinks),t.R7$(1),t.Y8G("ngIf",e.showLinks),t.R7$(1),t.Y8G("innerHtml",t.brH(9,31,e.email,n.searchString,!0),t.npT),t.R7$(2),t.JRh(e.email),t.R7$(1),t.Y8G("innerHtml",t.brH(12,35,e.status,n.searchString,!0),t.npT),t.R7$(2),t.JRh(e.status),t.R7$(1),t.Y8G("innerHtml",t.brH(15,39,e.instituteAndCountry,n.searchString,!0),t.npT),t.R7$(2),t.JRh(e.instituteAndCountry),t.R7$(2),t.JRh(e.createdAtText),t.R7$(1),t.Y8G("ngIf",n.searchString),t.R7$(2),t.Y8G("innerHtml",t.brH(22,43,e.comments,n.searchString,!0),t.npT),t.R7$(2),t.SpI(" ",e.comments," "),t.R7$(4),t.Mz_("id","edit-account-request-",s,""),t.R7$(2),t.Y8G("ngbTooltip",e.registeredAtText&&"Account requests of registered instructors cannot be deleted"),t.R7$(1),t.Mz_("id","delete-account-request-",s,""),t.R7$(3),t.Mz_("id","view-account-request-",s,""),t.R7$(2),t.Mz_("id","approve-account-request-",s,""),t.Y8G("disabled",!e.status||"APPROVED"===e.status||"REGISTERED"===e.status||n.isApprovingAccount[s]),t.R7$(1),t.Y8G("ngIf",n.isApprovingAccount[s]),t.R7$(3),t.Mz_("id","reject-account-request-",s,""),t.Y8G("disabled",!e.status||"REGISTERED"===e.status||"APPROVED"===e.status||"REJECTED"===e.status||n.isRejectingAccount[s]),t.R7$(1),t.Y8G("ngIf",n.isRejectingAccount[s]),t.R7$(3),t.Mz_("id","reject-request-",s,""),t.R7$(2),t.Mz_("id","reject-request-with-reason-",s,""),t.R7$(2),t.Y8G("ngIf",n.searchString),t.R7$(1),t.Y8G("ngIf",e.showLinks&&n.searchString)}}function B(o,g){if(1&o&&(t.j41(0,"div",1)(1,"div",2),t.DNE(2,M,3,0,"div",3),t.DNE(3,k,2,0,"ng-template",null,4,t.C5r),t.DNE(5,y,5,0,"div",5),t.k0s(),t.j41(6,"div",6)(7,"table",7)(8,"thead")(9,"tr")(10,"th"),t.EFF(11,"Name"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Email"),t.k0s(),t.j41(14,"th"),t.EFF(15,"Status"),t.k0s(),t.j41(16,"th"),t.EFF(17,"Institute, Country"),t.k0s(),t.j41(18,"th"),t.EFF(19,"Created At"),t.k0s(),t.DNE(20,I,2,0,"th",8),t.j41(21,"th"),t.EFF(22,"Comments"),t.k0s(),t.j41(23,"th"),t.EFF(24,"Options"),t.k0s()()(),t.j41(25,"tbody"),t.DNE(26,G,49,47,"ng-container",9),t.k0s()()()()),2&o){const e=t.sdS(4),s=t.XpG();t.R7$(2),t.Y8G("ngIf",s.searchString)("ngIfElse",e),t.R7$(3),t.Y8G("ngIf",s.searchString),t.R7$(15),t.Y8G("ngIf",s.searchString),t.R7$(6),t.Y8G("ngForOf",s.accountRequests)("ngForTrackBy",s.trackAccountRequest)}}let L=(()=>{class o{constructor(e,s,n,i){this.statusMessageService=e,this.simpleModalService=s,this.accountService=n,this.ngbModal=i,this.accountRequests=[],this.searchString="",this.isRejectingAccount=new Array(this.accountRequests.length).fill(!1),this.isApprovingAccount=new Array(this.accountRequests.length).fill(!1),this.isResettingAccount=new Array(this.accountRequests.length).fill(!1)}showAllAccountRequestsLinks(){for(const e of this.accountRequests)e.showLinks=!0}hideAllAccountRequestsLinks(){for(const e of this.accountRequests)e.showLinks=!1}editAccountRequest(e){const s=this.ngbModal.open(_);s.componentInstance.accountRequestName=e.name,s.componentInstance.accountRequestEmail=e.email,s.componentInstance.accountRequestInstitution=e.instituteAndCountry,s.componentInstance.accountRequestComments=e.comments,s.result.then(n=>{this.accountService.editAccountRequest(e.id,{name:n.accountRequestName,email:n.accountRequestEmail,institute:n.accountRequestInstitution,status:e.status,comments:n.accountRequestComment}).subscribe({next:i=>{e.comments=i.comments??"",e.name=i.name,e.email=i.email,e.instituteAndCountry=i.institute,this.statusMessageService.showSuccessToast("Account request was successfully updated.")},error:i=>{this.statusMessageService.showErrorToast(i.error.message)}})},()=>{})}approveAccountRequest(e,s){this.isApprovingAccount[s]=!0,this.accountService.approveAccountRequest(e.id,e.name,e.email,e.instituteAndCountry).subscribe({next:n=>{e.status=n.status,this.statusMessageService.showSuccessToast(`Account request was successfully approved. Email has been sent to ${e.email}.`),this.isApprovingAccount[s]=!1},error:n=>{this.statusMessageService.showErrorToast(n.error.message),this.isApprovingAccount[s]=!1}})}resetAccountRequest(e,s){this.isResettingAccount[s]=!0;const i=this.simpleModalService.openConfirmationModal(`Reset account request for <strong>${e.name}</strong>?`,r.i.WARNING,`Are you sure you want to reset the account request for\n        <strong>${e.name}</strong> with email <strong>${e.email}</strong> from\n        <strong>${e.instituteAndCountry}</strong>?\n        An email with the account registration link will also be sent to the instructor.`);i.dismissed.subscribe(()=>{this.isResettingAccount[s]=!1}),i.result.then(()=>{this.accountService.resetAccountRequest(e.id).subscribe({next:()=>{this.statusMessageService.showSuccessToast(`Reset successful. An email has been sent to ${e.email}.`),e.registeredAtText="",this.isResettingAccount[s]=!1},error:u=>{this.statusMessageService.showErrorToast(u.error.message),this.isResettingAccount[s]=!1}})},()=>{})}deleteAccountRequest(e){this.simpleModalService.openConfirmationModal(`Delete account request for <strong>${e.name}</strong>?`,r.i.DANGER,`Are you sure you want to <strong>delete</strong> the account request for\n        <strong>${e.name}</strong> with email <strong>${e.email}</strong> from\n        <strong>${e.instituteAndCountry}</strong>?`).result.then(()=>{this.accountService.deleteAccountRequest(e.id).subscribe({next:i=>{this.statusMessageService.showSuccessToast(i.message),this.accountRequests=this.accountRequests.filter(u=>u!==e)},error:i=>{this.statusMessageService.showErrorToast(i.error.message)}})},()=>{})}viewAccountRequest(e){this.simpleModalService.openInformationModal(`Comments for <strong>${e.name}</strong> Request`,r.i.INFO,`<strong>Comment:</strong> ${e.comments||"No comments"}`).result.then(()=>{},()=>{})}rejectAccountRequest(e,s){this.isRejectingAccount[s]=!0,this.accountService.rejectAccountRequest(e.id).subscribe({next:n=>{e.status=n.status,this.statusMessageService.showSuccessToast("Account request was successfully rejected."),this.isRejectingAccount[s]=!1},error:n=>{this.statusMessageService.showErrorToast(n.error.message),this.isRejectingAccount[s]=!1}})}rejectAccountRequestWithReason(e,s){this.isRejectingAccount[s]=!0;const n=this.ngbModal.open(a);n.componentInstance.accountRequestName=e.name,n.componentInstance.accountRequestEmail=e.email,n.dismissed.subscribe(()=>{this.isRejectingAccount[s]=!1}),n.result.then(i=>{this.accountService.rejectAccountRequest(e.id,i.rejectionReasonTitle,i.rejectionReasonBody).subscribe({next:u=>{e.status=u.status,this.statusMessageService.showSuccessToast(`Account request was successfully rejected. Email has been sent to ${e.email}.`),this.isRejectingAccount[s]=!1},error:u=>{this.statusMessageService.showErrorToast(u.error.message),this.isRejectingAccount[s]=!1}})},()=>{})}trackAccountRequest(e){return e.id}static#t=this.\u0275fac=function(s){return new(s||o)(t.rXU(m.x),t.rXU(h.r),t.rXU(E.D),t.rXU(p.Bq))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["tm-account-request-table"]],inputs:{accountRequests:"accountRequests",searchString:"searchString"},decls:1,vars:1,consts:[["class","card bg-light top-padded",4,"ngIf"],[1,"card","bg-light","top-padded"],[1,"card-header","bg-primary","text-white"],[4,"ngIf","ngIfElse"],["pendingRequests",""],["class","card-header-btn-toolbar",4,"ngIf"],[1,"table-responsive"],["id","search-table-account-request",1,"table","table-striped","data-table"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-header-btn-toolbar"],["id","show-account-request-links","type","button",1,"btn","btn-light","btn-sm",2,"margin-right","10px",3,"click"],["id","hide-account-request-links","type","button",1,"btn","btn-light","btn-sm",3,"click"],[3,"innerHtml"],[1,"col-sm-1"],["class","btn","aria-label","Expand",4,"ngIf"],["class","btn","aria-label","Collapse",4,"ngIf"],["id","timestamp-box"],["id","timestamp-box",4,"ngIf"],["id","comment-box",3,"innerHtml"],[1,"align-middle"],[1,"d-flex","flex-row","align-items-center","justify-content-center","gap-2"],["type","button","aria-label","Edit account request",1,"btn","btn-link","p-0",3,"id","click"],[1,"fa-solid","fa-pen"],["placement","top",1,"ngb-tooltip-class",3,"ngbTooltip"],["type","button","aria-label","Delete account request",1,"btn","btn-link","p-0",3,"id","click"],[1,"fa-solid","fa-trash"],["type","button","aria-label","View account request",1,"btn","btn-link","p-0",3,"id","click"],[1,"fa-solid","fa-eye"],[1,"btn","btn-success",3,"id","disabled","click"],["ngbDropdown","","container","body"],["type","button","ngbDropdownToggle","",1,"btn","btn-warning",3,"id","disabled"],["ngbDropdownMenu","",3,"click"],[1,"btn","btn-light","btn-sm","dropdown-item",3,"id","click"],["class","ngb-tooltip-class","placement","top",3,"ngbTooltip",4,"ngIf"],["aria-label","Expand",1,"btn"],[1,"fas","fa-chevron-circle-down",2,"color","blue"],["aria-label","Collapse",1,"btn"],[1,"fas","fa-chevron-circle-up",2,"color","blue"],[1,"btn","btn-primary",3,"id","disabled","click"],["colspan","100"],["class","list-group",4,"ngIf"],[1,"list-group"],[1,"list-group-item","list-group-item-info"],["disabled","",1,"form-control",3,"value"]],template:function(s,n){1&s&&t.DNE(0,B,27,6,"div",0),2&s&&t.Y8G("ngIf",n.accountRequests.length)},dependencies:[A.Sq,A.bT,p.md,p.tg,p.do,p.U0,C.y,q.H],styles:['.highlighted-text{background-color:#ff0}.table-responsive[_ngcontent-%COMP%]{overflow-y:visible;overflow-x:-moz-scrollbars-horizontal}.table-responsive[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{white-space:nowrap}[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none;width:1px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;background-color:#00000080;box-shadow:0 0 1px #ffffff80}#search-table-account-request[_ngcontent-%COMP%]{border-collapse:collapse}#search-table-account-request[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, #search-table-account-request[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{min-width:10vw;position:sticky;right:0;z-index:1;background-color:#f8f9fa}#search-table-account-request[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child:after, #search-table-account-request[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child:after{content:"";position:absolute;left:-1px;top:0;bottom:0;width:1px;background:#c8c7c7;z-index:1}#comment-box[_ngcontent-%COMP%]{min-height:5vh;width:max(800px,35vw);max-width:max-content;word-break:break-word;word-wrap:break-all}.dropdown-item[_ngcontent-%COMP%]{border:none}'],data:{animation:[d.j]}})}return o})()},51194:(j,f,c)=>{c.d(f,{Z:()=>a});var t=c(60177),p=c(89417),_=c(94227),v=c(84764),m=c(85385),l=c(99315),R=c(17705);let a=(()=>{class r{static#t=this.\u0275fac=function(E){return new(E||r)};static#e=this.\u0275mod=R.$C({type:r});static#n=this.\u0275inj=R.G2t({imports:[t.MD,p.YN,_.n8,_.zH,v.M,l.b,m.D]})}return r})()},57286:(j,f,c)=>{c.d(f,{y:()=>p});var t=c(17705);let p=(()=>{class _{constructor(){this.useBlueSpinner=!1,this.color="white"}static#t=this.\u0275fac=function(l){return new(l||_)};static#e=this.\u0275cmp=t.VBU({type:_,selectors:[["tm-ajax-loading"]],inputs:{useBlueSpinner:"useBlueSpinner",color:"color"},decls:2,vars:3,consts:[[1,"loading-container"],["role","status"]],template:function(l,R){1&l&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s()),2&l&&(t.R7$(1),t.ZvI("spinner-border spinner-border-sm text-",R.useBlueSpinner?"primary":R.color,""))},styles:[".loading-container[_ngcontent-%COMP%]{display:inline;margin-right:10px}"]})}return _})()},84764:(j,f,c)=>{c.d(f,{M:()=>_});var t=c(60177),p=c(17705);let _=(()=>{class v{static#t=this.\u0275fac=function(R){return new(R||v)};static#e=this.\u0275mod=p.$C({type:v});static#n=this.\u0275inj=p.G2t({imports:[t.MD]})}return v})()},1091:(j,f,c)=>{c.d(f,{H:()=>p});var t=c(17705);let p=(()=>{class _{transform(m,l,R){if(!l)return m;const a=this.findAllExactPhrases(l).map(h=>R?`${h}`:`\\b${h}\\b`).filter(h=>"\\b\\b"!==h).join("|"),r=this.removeAllExactPhrases(l);let d=m;if(""!==r.trim()){const h=r.split(" ").map(A=>R?`${A}`:`\\b${A}\\b`).filter(A=>"\\b\\b"!==A).join("|"),E=new RegExp(h,"igm");d=d.replace(E,'<span class="highlighted-text">$&</span>')}if(""!==a.trim()){const h=new RegExp(a,"igm");d=d.replace(h,'<span class="highlighted-text">$&</span>')}return d}checkIsExactPhrase(m){return'"'===m.charAt(0)&&'"'===m.charAt(m.length-1)}findAllExactPhrases(m){const l=m.match(/"(.*?)"/gim);return null===l?[]:l.map(R=>{const a=R.toString();return a.substring(1,a.length-1)})}removeAllExactPhrases(m){return m.replace(/"(.*?)"/gim,"").trim()}static#t=this.\u0275fac=function(l){return new(l||_)};static#e=this.\u0275pipe=t.EJ8({name:"highlighter",type:_,pure:!0})}return _})()},91702:(j,f,c)=>{c.d(f,{D:()=>m});var t=c(8059),p=c(40035),_=c(17705),v=c(16507);let m=(()=>{class l{constructor(a){this.httpRequestService=a}createAccount(a,r){const d={key:a};return r&&(d.timezone=r),this.httpRequestService.post(t.Ld.ACCOUNT,d)}createAccountRequest(a){return this.httpRequestService.post(t.Ld.ACCOUNT_REQUEST,{},a)}deleteAccount(a){return this.httpRequestService.delete(t.Ld.ACCOUNT,{instructorid:a})}deleteAccountRequest(a){return this.httpRequestService.delete(t.Ld.ACCOUNT_REQUEST,{id:a})}resetAccountRequest(a){return this.httpRequestService.put(t.Ld.ACCOUNT_REQUEST_RESET,{id:a})}resetStudentAccount(a,r){return this.httpRequestService.put(t.Ld.ACCOUNT_RESET,{courseid:a,studentemail:r})}resetInstructorAccount(a,r){return this.httpRequestService.put(t.Ld.ACCOUNT_RESET,{courseid:a,instructoremail:r})}approveAccountRequest(a,r,d,h){return this.httpRequestService.put(t.Ld.ACCOUNT_REQUEST,{id:a},{name:r,email:d,institute:h,status:p.VD.APPROVED})}editAccountRequest(a,r){return this.httpRequestService.put(t.Ld.ACCOUNT_REQUEST,{id:a},r)}getAccount(a){return this.httpRequestService.get(t.Ld.ACCOUNT,{instructorid:a})}getAccounts(a){return this.httpRequestService.get(t.Ld.ACCOUNTS,{useremail:a})}getPendingAccountRequests(){return this.httpRequestService.get(t.Ld.ACCOUNT_REQUESTS,{status:p.VD.PENDING})}rejectAccountRequest(a,r,d){let h={};return void 0!==r&&void 0!==d&&(h={reasonTitle:r,reasonBody:d}),this.httpRequestService.post(t.Ld.ACCOUNT_REQUEST_REJECT,{id:a},h)}static#t=this.\u0275fac=function(r){return new(r||l)(_.KVO(v.R))};static#e=this.\u0275prov=_.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()}}]);